(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{9058:(Wt,et,N)=>{"use strict";N.d(et,{BH:()=>Oe,G6:()=>tt,L:()=>je,LL:()=>Ye,P0:()=>ht,Pz:()=>Fe,Sg:()=>we,UG:()=>re,ZB:()=>Ne,ZR:()=>qe,aH:()=>le,b$:()=>Be,eu:()=>ue,hl:()=>Ae,jU:()=>ae,m9:()=>ai,ne:()=>qn,pd:()=>En,r3:()=>It,ru:()=>Ke,tV:()=>Ie,uI:()=>ge,vZ:()=>nn,w1:()=>At,xO:()=>cr,xb:()=>mn,z$:()=>ee,zd:()=>Ut});const J=function(te){const H=[];let oe=0;for(let de=0;de<te.length;de++){let he=te.charCodeAt(de);he<128?H[oe++]=he:he<2048?(H[oe++]=he>>6|192,H[oe++]=63&he|128):55296==(64512&he)&&de+1<te.length&&56320==(64512&te.charCodeAt(de+1))?(he=65536+((1023&he)<<10)+(1023&te.charCodeAt(++de)),H[oe++]=he>>18|240,H[oe++]=he>>12&63|128,H[oe++]=he>>6&63|128,H[oe++]=63&he|128):(H[oe++]=he>>12|224,H[oe++]=he>>6&63|128,H[oe++]=63&he|128)}return H},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,H){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let he=0;he<te.length;he+=3){const ot=te[he],Tt=he+1<te.length,Gt=Tt?te[he+1]:0,xn=he+2<te.length,Vn=xn?te[he+2]:0;let qt=(15&Gt)<<2|Vn>>6,li=63&Vn;xn||(li=64,Tt||(qt=64)),de.push(oe[ot>>2],oe[(3&ot)<<4|Gt>>4],oe[qt],oe[li])}return de.join("")},encodeString(te,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(te):this.encodeByteArray(J(te),H)},decodeString(te,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(te):function(te){const H=[];let oe=0,de=0;for(;oe<te.length;){const he=te[oe++];if(he<128)H[de++]=String.fromCharCode(he);else if(he>191&&he<224){const ot=te[oe++];H[de++]=String.fromCharCode((31&he)<<6|63&ot)}else if(he>239&&he<365){const xn=((7&he)<<18|(63&te[oe++])<<12|(63&te[oe++])<<6|63&te[oe++])-65536;H[de++]=String.fromCharCode(55296+(xn>>10)),H[de++]=String.fromCharCode(56320+(1023&xn))}else{const ot=te[oe++],Tt=te[oe++];H[de++]=String.fromCharCode((15&he)<<12|(63&ot)<<6|63&Tt)}}return H.join("")}(this.decodeStringToByteArray(te,H))},decodeStringToByteArray(te,H){this.init_();const oe=H?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let he=0;he<te.length;){const ot=oe[te.charAt(he++)],Gt=he<te.length?oe[te.charAt(he)]:0;++he;const Vn=he<te.length?oe[te.charAt(he)]:64;++he;const Xt=he<te.length?oe[te.charAt(he)]:64;if(++he,null==ot||null==Gt||null==Vn||null==Xt)throw new pe;de.push(ot<<2|Gt>>4),64!==Vn&&(de.push(Gt<<4&240|Vn>>2),64!==Xt&&de.push(Vn<<6&192|Xt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(te){return function(te){const H=J(te);return se.encodeByteArray(H,!0)}(te).replace(/\./g,"")},Ie=function(te){try{return se.decodeString(te,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Ne(te,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return H}for(const oe in H)!H.hasOwnProperty(oe)||!$e(oe)||(te[oe]=Ne(te[oe],H[oe]));return te}function $e(te){return"__proto__"!==te}const Le=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=te&&Ie(te[1]);return H&&JSON.parse(H)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},ht=te=>{const H=(te=>{var H,oe;return null===(oe=null===(H=Le())||void 0===H?void 0:H.emulatorHosts)||void 0===oe?void 0:oe[te]})(te);if(!H)return;const oe=H.lastIndexOf(":");if(oe<=0||oe+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const de=parseInt(H.substring(oe+1),10);return"["===H[0]?[H.substring(1,oe-1),de]:[H.substring(0,oe),de]},le=()=>{var te;return null===(te=Le())||void 0===te?void 0:te.config},Fe=te=>{var H;return null===(H=Le())||void 0===H?void 0:H[`_${te}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,oe)=>{this.resolve=H,this.reject=oe})}wrapCallback(H){return(oe,de)=>{oe?this.reject(oe):this.resolve(de),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(oe):H(oe,de))}}}function we(te,H){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=H||"demo-project",he=te.iat||0,ot=te.sub||te.user_id;if(!ot)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:he,exp:he+3600,auth_time:he,sub:ot,user_id:ot,firebase:{sign_in_provider:"custom",identities:{}}},te);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(Tt)),""].join(".")}function ee(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ee())}function re(){var te;const H=null===(te=Le())||void 0===te?void 0:te.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ae(){return"object"==typeof self&&self.self===self}function Ke(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function At(){const te=ee();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function tt(){return!re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ae(){try{return"object"==typeof indexedDB}catch{return!1}}function ue(){return new Promise((te,H)=>{try{let oe=!0;const de="validate-browser-context-for-indexeddb-analytics-module",he=self.indexedDB.open(de);he.onsuccess=()=>{he.result.close(),oe||self.indexedDB.deleteDatabase(de),te(!0)},he.onupgradeneeded=()=>{oe=!1},he.onerror=()=>{var ot;H((null===(ot=he.error)||void 0===ot?void 0:ot.message)||"")}}catch(oe){H(oe)}})}class qe extends Error{constructor(H,oe,de){super(oe),this.code=H,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(H,oe,de){this.service=H,this.serviceName=oe,this.errors=de}create(H,...oe){const de=oe[0]||{},he=`${this.service}/${H}`,ot=this.errors[H],Tt=ot?function Et(te,H){return te.replace(Dt,(oe,de)=>{const he=H[de];return null!=he?String(he):`<${de}?>`})}(ot,de):"Error";return new qe(he,`${this.serviceName}: ${Tt} (${he}).`,de)}}const Dt=/\{\$([^}]+)}/g;function It(te,H){return Object.prototype.hasOwnProperty.call(te,H)}function mn(te){for(const H in te)if(Object.prototype.hasOwnProperty.call(te,H))return!1;return!0}function nn(te,H){if(te===H)return!0;const oe=Object.keys(te),de=Object.keys(H);for(const he of oe){if(!de.includes(he))return!1;const ot=te[he],Tt=H[he];if(Pn(ot)&&Pn(Tt)){if(!nn(ot,Tt))return!1}else if(ot!==Tt)return!1}for(const he of de)if(!oe.includes(he))return!1;return!0}function Pn(te){return null!==te&&"object"==typeof te}function cr(te){const H=[];for(const[oe,de]of Object.entries(te))Array.isArray(de)?de.forEach(he=>{H.push(encodeURIComponent(oe)+"="+encodeURIComponent(he))}):H.push(encodeURIComponent(oe)+"="+encodeURIComponent(de));return H.length?"&"+H.join("&"):""}function Ut(te){const H={};return te.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[he,ot]=de.split("=");H[decodeURIComponent(he)]=decodeURIComponent(ot)}}),H}function En(te){const H=te.indexOf("?");if(!H)return"";const oe=te.indexOf("#",H);return te.substring(H,oe>0?oe:void 0)}function qn(te,H){const oe=new nr(te,H);return oe.subscribe.bind(oe)}class nr{constructor(H,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{H(this)}).catch(de=>{this.error(de)})}next(H){this.forEachObserver(oe=>{oe.next(H)})}error(H){this.forEachObserver(oe=>{oe.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,oe,de){let he;if(void 0===H&&void 0===oe&&void 0===de)throw new Error("Missing Observer.");he=function gr(te,H){if("object"!=typeof te||null===te)return!1;for(const oe of H)if(oe in te&&"function"==typeof te[oe])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:oe,complete:de},void 0===he.next&&(he.next=bn),void 0===he.error&&(he.error=bn),void 0===he.complete&&(he.complete=bn);const ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?he.error(this.finalError):he.complete()}catch{}}),this.observers.push(he),ot}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,H)}sendOne(H,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{oe(this.observers[H])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}function ai(te){return te&&te._delegate?te._delegate:te}},3630:(Wt,et,N)=>{"use strict";N.d(et,{c:()=>Q,r:()=>ce});const Q=(ee,ge)=>{ee.componentOnReady?ee.componentOnReady().then(re=>ge(re)):ce(()=>ge(ee))},ce=ee=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(ee):setTimeout(ee)},191:(Wt,et,N)=>{"use strict";N.d(et,{L:()=>u,a:()=>U,b:()=>Q,c:()=>J,d:()=>Me,g:()=>ee});const u="ionViewWillEnter",U="ionViewDidEnter",Q="ionViewWillLeave",J="ionViewDidLeave",Me="ionViewWillUnload",ee=ge=>ge.classList.contains("ion-page")?ge:ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ge},4913:(Wt,et,N)=>{"use strict";N.d(et,{c:()=>nt});var u=N(1848),U=N(512);let Q;const Me=xe=>xe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),se=xe=>(void 0===Q&&(Q=void 0===xe.style.animationName&&void 0!==xe.style.webkitAnimationName?"-webkit-":""),Q),pe=(xe,Le,He)=>{const ht=Le.startsWith("animation")?se(xe):"";xe.style.setProperty(ht+Le,He)},We=(xe,Le)=>{const He=Le.startsWith("animation")?se(xe):"";xe.style.removeProperty(He+Le)},ce=[],Pe=(xe=[],Le)=>{if(void 0!==Le){const He=Array.isArray(Le)?Le:[Le];return[...xe,...He]}return xe},nt=xe=>{let Le,He,ht,le,Fe,Oe,ae,Ae,ue,be,ve,Dt,bt,we=[],ee=[],ge=[],re=!1,Ke={},Be=[],rt=[],At={},tn=0,zt=!1,tt=!1,qe=!0,Ye=!1,Et=!0,lt=!1;const Ht=xe,Dn=[],pt=[],at=[],it=[],It=[],$t=[],mn=[],fn=[],nn=[],Pn=[],vn=[],cr="function"==typeof AnimationEffect||void 0!==u.w&&"function"==typeof u.w.AnimationEffect,Ut="function"==typeof Element&&"function"==typeof Element.prototype.animate&&cr,_n=()=>vn,bn=(L,G)=>{const Se=G.findIndex(Ve=>Ve.c===L);Se>-1&&G.splice(Se,1)},Xn=(L,G)=>((null!=G&&G.oneTimeCallback?pt:Dn).push({c:L,o:G}),bt),On=()=>{if(Ut)vn.forEach(L=>{L.cancel()}),vn.length=0;else{const L=it.slice();(0,U.r)(()=>{L.forEach(G=>{We(G,"animation-name"),We(G,"animation-duration"),We(G,"animation-timing-function"),We(G,"animation-iteration-count"),We(G,"animation-delay"),We(G,"animation-play-state"),We(G,"animation-fill-mode"),We(G,"animation-direction")})})}},lr=()=>{$t.forEach(L=>{null!=L&&L.parentNode&&L.parentNode.removeChild(L)}),$t.length=0},H=()=>void 0!==Fe?Fe:ae?ae.getFill():"both",oe=()=>void 0!==ue?ue:void 0!==Oe?Oe:ae?ae.getDirection():"normal",de=()=>zt?"linear":void 0!==ht?ht:ae?ae.getEasing():"linear",he=()=>tt?0:void 0!==be?be:void 0!==He?He:ae?ae.getDuration():0,ot=()=>void 0!==le?le:ae?ae.getIterations():1,Tt=()=>void 0!==ve?ve:void 0!==Le?Le:ae?ae.getDelay():0,Cn=()=>{0!==tn&&(tn--,0===tn&&((()=>{me(),nn.forEach(gt=>gt()),Pn.forEach(gt=>gt());const L=qe?1:0,G=Be,Se=rt,Ve=At;it.forEach(gt=>{const Je=gt.classList;G.forEach(St=>Je.add(St)),Se.forEach(St=>Je.remove(St));for(const St in Ve)Ve.hasOwnProperty(St)&&pe(gt,St,Ve[St])}),be=void 0,ue=void 0,ve=void 0,Dn.forEach(gt=>gt.c(L,bt)),pt.forEach(gt=>gt.c(L,bt)),pt.length=0,Et=!0,qe&&(Ye=!0),qe=!0})(),ae&&ae.animationFinish()))},$n=(L=!0)=>{lr();const G=(xe=>(xe.forEach(Le=>{for(const He in Le)if(Le.hasOwnProperty(He)){const ht=Le[He];if("easing"===He)Le["animation-timing-function"]=ht,delete Le[He];else{const le=Me(He);le!==He&&(Le[le]=ht,delete Le[He])}}}),xe))(we);it.forEach(Se=>{if(G.length>0){const Ve=((xe=[])=>xe.map(Le=>{const He=Le.offset,ht=[];for(const le in Le)Le.hasOwnProperty(le)&&"offset"!==le&&ht.push(`${le}: ${Le[le]};`);return`${100*He}% { ${ht.join(" ")} }`}).join(" "))(G);Dt=void 0!==xe?xe:(xe=>{let Le=ce.indexOf(xe);return Le<0&&(Le=ce.push(xe)-1),`ion-animation-${Le}`})(Ve);const gt=((xe,Le,He)=>{var ht;const le=(xe=>{const Le=void 0!==xe.getRootNode?xe.getRootNode():xe;return Le.head||Le})(He),Fe=se(He),Oe=le.querySelector("#"+xe);if(Oe)return Oe;const we=(null!==(ht=He.ownerDocument)&&void 0!==ht?ht:document).createElement("style");return we.id=xe,we.textContent=`@${Fe}keyframes ${xe} { ${Le} } @${Fe}keyframes ${xe}-alt { ${Le} }`,le.appendChild(we),we})(Dt,Ve,Se);$t.push(gt),pe(Se,"animation-duration",`${he()}ms`),pe(Se,"animation-timing-function",de()),pe(Se,"animation-delay",`${Tt()}ms`),pe(Se,"animation-fill-mode",H()),pe(Se,"animation-direction",oe());const Je=ot()===1/0?"infinite":ot().toString();pe(Se,"animation-iteration-count",Je),pe(Se,"animation-play-state","paused"),L&&pe(Se,"animation-name",`${gt.id}-alt`),(0,U.r)(()=>{pe(Se,"animation-name",gt.id||null)})}})},rr=(L=!0)=>{(()=>{mn.forEach(Ve=>Ve()),fn.forEach(Ve=>Ve());const L=ee,G=ge,Se=Ke;it.forEach(Ve=>{const gt=Ve.classList;L.forEach(Je=>gt.add(Je)),G.forEach(Je=>gt.remove(Je));for(const Je in Se)Se.hasOwnProperty(Je)&&pe(Ve,Je,Se[Je])})})(),we.length>0&&(Ut?(it.forEach(L=>{const G=L.animate(we,{id:Ht,delay:Tt(),duration:he(),easing:de(),iterations:ot(),fill:H(),direction:oe()});G.pause(),vn.push(G)}),vn.length>0&&(vn[0].onfinish=()=>{Cn()})):$n(L)),re=!0},Cr=L=>{if(L=Math.min(Math.max(L,0),.9999),Ut)vn.forEach(G=>{G.currentTime=G.effect.getComputedTiming().delay+he()*L,G.pause()});else{const G=`-${he()*L}ms`;it.forEach(Se=>{we.length>0&&(pe(Se,"animation-delay",G),pe(Se,"animation-play-state","paused"))})}},_i=L=>{vn.forEach(G=>{G.effect.updateTiming({delay:Tt(),duration:he(),easing:de(),iterations:ot(),fill:H(),direction:oe()})}),void 0!==L&&Cr(L)},Ci=(L=!0,G)=>{(0,U.r)(()=>{it.forEach(Se=>{pe(Se,"animation-name",Dt||null),pe(Se,"animation-duration",`${he()}ms`),pe(Se,"animation-timing-function",de()),pe(Se,"animation-delay",void 0!==G?`-${G*he()}ms`:`${Tt()}ms`),pe(Se,"animation-fill-mode",H()||null),pe(Se,"animation-direction",oe()||null);const Ve=ot()===1/0?"infinite":ot().toString();pe(Se,"animation-iteration-count",Ve),L&&pe(Se,"animation-name",`${Dt}-alt`),(0,U.r)(()=>{pe(Se,"animation-name",Dt||null)})})})},br=(L=!1,G=!0,Se)=>(L&&It.forEach(Ve=>{Ve.update(L,G,Se)}),Ut?_i(Se):Ci(G,Se),bt),kn=()=>{re&&(Ut?vn.forEach(L=>{L.pause()}):it.forEach(L=>{pe(L,"animation-play-state","paused")}),lt=!0)},Ee=()=>{Ae=void 0,Cn()},me=()=>{Ae&&clearTimeout(Ae)},Zt=L=>new Promise(G=>{null!=L&&L.sync&&(tt=!0,Xn(()=>tt=!1,{oneTimeCallback:!0})),re||rr(),Ye&&(Ut?(Cr(0),_i()):Ci(),Ye=!1),Et&&(tn=It.length+1,Et=!1);const Se=()=>{bn(Ve,pt),G()},Ve=()=>{bn(Se,at),G()};Xn(Ve,{oneTimeCallback:!0}),((L,G)=>{at.push({c:L,o:{oneTimeCallback:!0}})})(Se),It.forEach(gt=>{gt.play()}),Ut?(vn.forEach(L=>{L.play()}),(0===we.length||0===it.length)&&Cn()):(()=>{if(me(),(0,U.r)(()=>{it.forEach(L=>{we.length>0&&pe(L,"animation-play-state","running")})}),0===we.length||0===it.length)Cn();else{const L=Tt()||0,G=he()||0,Se=ot()||1;isFinite(Se)&&(Ae=setTimeout(Ee,L+G*Se+100)),((xe,Le)=>{let He;const ht={passive:!0},Fe=Oe=>{xe===Oe.target&&(He&&He(),me(),(0,U.r)(()=>{it.forEach(L=>{We(L,"animation-duration"),We(L,"animation-delay"),We(L,"animation-play-state")}),(0,U.r)(Cn)}))};xe&&(xe.addEventListener("webkitAnimationEnd",Fe,ht),xe.addEventListener("animationend",Fe,ht),He=()=>{xe.removeEventListener("webkitAnimationEnd",Fe,ht),xe.removeEventListener("animationend",Fe,ht)})})(it[0])}})(),lt=!1}),In=(L,G)=>{const Se=we[0];return void 0===Se||void 0!==Se.offset&&0!==Se.offset?we=[{offset:0,[L]:G},...we]:Se[L]=G,bt};return bt={parentAnimation:ae,elements:it,childAnimations:It,id:Ht,animationFinish:Cn,from:In,to:(L,G)=>{const Se=we[we.length-1];return void 0===Se||void 0!==Se.offset&&1!==Se.offset?we=[...we,{offset:1,[L]:G}]:Se[L]=G,bt},fromTo:(L,G,Se)=>In(L,G).to(L,Se),parent:L=>(ae=L,bt),play:Zt,pause:()=>(It.forEach(L=>{L.pause()}),kn(),bt),stop:()=>{It.forEach(L=>{L.stop()}),re&&(On(),re=!1),zt=!1,tt=!1,Et=!0,ue=void 0,be=void 0,ve=void 0,tn=0,Ye=!1,qe=!0,lt=!1,at.forEach(L=>L.c(0,bt)),at.length=0},destroy:L=>(It.forEach(G=>{G.destroy(L)}),(L=>{On(),L&&lr()})(L),it.length=0,It.length=0,we.length=0,Dn.length=0,pt.length=0,re=!1,Et=!0,bt),keyframes:L=>{const G=we!==L;return we=L,G&&(L=>{Ut?_n().forEach(G=>{const Se=G.effect;if(Se.setKeyframes)Se.setKeyframes(L);else{const Ve=new KeyframeEffect(Se.target,L,Se.getTiming());G.effect=Ve}}):$n()})(we),bt},addAnimation:L=>{if(null!=L)if(Array.isArray(L))for(const G of L)G.parent(bt),It.push(G);else L.parent(bt),It.push(L);return bt},addElement:L=>{if(null!=L)if(1===L.nodeType)it.push(L);else if(L.length>=0)for(let G=0;G<L.length;G++)it.push(L[G]);else console.error("Invalid addElement value");return bt},update:br,fill:L=>(Fe=L,br(!0),bt),direction:L=>(Oe=L,br(!0),bt),iterations:L=>(le=L,br(!0),bt),duration:L=>(!Ut&&0===L&&(L=1),He=L,br(!0),bt),easing:L=>(ht=L,br(!0),bt),delay:L=>(Le=L,br(!0),bt),getWebAnimations:_n,getKeyframes:()=>we,getFill:H,getDirection:oe,getDelay:Tt,getIterations:ot,getEasing:de,getDuration:he,afterAddRead:L=>(nn.push(L),bt),afterAddWrite:L=>(Pn.push(L),bt),afterClearStyles:(L=[])=>{for(const G of L)At[G]="";return bt},afterStyles:(L={})=>(At=L,bt),afterRemoveClass:L=>(rt=Pe(rt,L),bt),afterAddClass:L=>(Be=Pe(Be,L),bt),beforeAddRead:L=>(mn.push(L),bt),beforeAddWrite:L=>(fn.push(L),bt),beforeClearStyles:(L=[])=>{for(const G of L)Ke[G]="";return bt},beforeStyles:(L={})=>(Ke=L,bt),beforeRemoveClass:L=>(ge=Pe(ge,L),bt),beforeAddClass:L=>(ee=Pe(ee,L),bt),onFinish:Xn,isRunning:()=>0!==tn&&!lt,progressStart:(L=!1,G)=>(It.forEach(Se=>{Se.progressStart(L,G)}),kn(),zt=L,re||rr(),br(!1,!0,G),bt),progressStep:L=>(It.forEach(G=>{G.progressStep(L)}),Cr(L),bt),progressEnd:(L,G,Se)=>(zt=!1,It.forEach(Ve=>{Ve.progressEnd(L,G,Se)}),void 0!==Se&&(be=Se),Ye=!1,qe=!0,0===L?(ue="reverse"===oe()?"normal":"reverse","reverse"===ue&&(qe=!1),Ut?(br(),Cr(1-G)):(ve=(1-G)*he()*-1,br(!1,!1))):1===L&&(Ut?(br(),Cr(G)):(ve=G*he()*-1,br(!1,!1))),void 0!==L&&!ae&&Zt(),bt)}}},8958:(Wt,et,N)=>{"use strict";N.d(et,{E:()=>Ie,a:()=>u,s:()=>We});const u=ce=>{try{if(ce instanceof pe)return ce.value;if(!J()||"string"!=typeof ce||""===ce)return ce;if(ce.includes("onload="))return"";const Ne=document.createDocumentFragment(),$e=document.createElement("div");Ne.appendChild($e),$e.innerHTML=ce,se.forEach(xe=>{const Le=Ne.querySelectorAll(xe);for(let He=Le.length-1;He>=0;He--){const ht=Le[He];ht.parentNode?ht.parentNode.removeChild(ht):Ne.removeChild(ht);const le=Q(ht);for(let Fe=0;Fe<le.length;Fe++)U(le[Fe])}});const Re=Q(Ne);for(let xe=0;xe<Re.length;xe++)U(Re[xe]);const Pe=document.createElement("div");Pe.appendChild(Ne);const nt=Pe.querySelector("div");return null!==nt?nt.innerHTML:Pe.innerHTML}catch(Ne){return console.error(Ne),""}},U=ce=>{if(ce.nodeType&&1!==ce.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ce.attributes instanceof NamedNodeMap))return void ce.remove();for(let $e=ce.attributes.length-1;$e>=0;$e--){const Re=ce.attributes.item($e),Pe=Re.name;if(!Me.includes(Pe.toLowerCase())){ce.removeAttribute(Pe);continue}const nt=Re.value,xe=ce[Pe];(null!=nt&&nt.toLowerCase().includes("javascript:")||null!=xe&&xe.toLowerCase().includes("javascript:"))&&ce.removeAttribute(Pe)}const Ne=Q(ce);for(let $e=0;$e<Ne.length;$e++)U(Ne[$e])},Q=ce=>null!=ce.children?ce.children:ce.childNodes,J=()=>{var ce;const Ne=window,$e=null===(ce=null==Ne?void 0:Ne.Ionic)||void 0===ce?void 0:ce.config;return!$e||($e.get?$e.get("sanitizerEnabled",!0):!0===$e.sanitizerEnabled||void 0===$e.sanitizerEnabled)},Me=["class","id","href","src","name","slot"],se=["script","style","iframe","meta","link","object","embed"];class pe{constructor(Ne){this.value=Ne}}const We=ce=>{const Ne=window,$e=Ne.Ionic;if(!$e||!$e.config||"Object"===$e.config.constructor.name)return Ne.Ionic=Ne.Ionic||{},Ne.Ionic.config=Object.assign(Object.assign({},Ne.Ionic.config),ce),Ne.Ionic.config},Ie=!1},3254:(Wt,et,N)=>{"use strict";N.d(et,{C:()=>Me,a:()=>Q,d:()=>J});var u=N(5861),U=N(512);const Q=function(){var se=(0,u.Z)(function*(pe,We,je,Ie,ce,Ne){var $e;if(pe)return pe.attachViewToDom(We,je,ce,Ie);if(!(Ne||"string"==typeof je||je instanceof HTMLElement))throw new Error("framework delegate is missing");const Re="string"==typeof je?null===($e=We.ownerDocument)||void 0===$e?void 0:$e.createElement(je):je;return Ie&&Ie.forEach(Pe=>Re.classList.add(Pe)),ce&&Object.assign(Re,ce),We.appendChild(Re),yield new Promise(Pe=>(0,U.c)(Re,Pe)),Re});return function(We,je,Ie,ce,Ne,$e){return se.apply(this,arguments)}}(),J=(se,pe)=>{if(pe){if(se)return se.removeViewFromDom(pe.parentElement,pe);pe.remove()}return Promise.resolve()},Me=()=>{let se,pe;return{attachViewToDom:function(){var Ie=(0,u.Z)(function*(ce,Ne,$e={},Re=[]){var Pe,nt;let xe;if(se=ce,Ne){const He="string"==typeof Ne?null===(Pe=se.ownerDocument)||void 0===Pe?void 0:Pe.createElement(Ne):Ne;Re.forEach(ht=>He.classList.add(ht)),Object.assign(He,$e),se.appendChild(He),xe=He,yield new Promise(ht=>(0,U.c)(He,ht))}else if(se.children.length>0&&("ION-MODAL"===se.tagName||"ION-POPOVER"===se.tagName)&&!(xe=se.children[0]).classList.contains("ion-delegate-host")){const ht=null===(nt=se.ownerDocument)||void 0===nt?void 0:nt.createElement("div");ht.classList.add("ion-delegate-host"),Re.forEach(le=>ht.classList.add(le)),ht.append(...se.children),se.appendChild(ht),xe=ht}const Le=document.querySelector("ion-app")||document.body;return pe=document.createComment("ionic teleport"),se.parentNode.insertBefore(pe,se),Le.appendChild(se),null!=xe?xe:se});return function(Ne,$e){return Ie.apply(this,arguments)}}(),removeViewFromDom:()=>(se&&pe&&(pe.parentNode.insertBefore(se,pe),pe.remove()),Promise.resolve())}}},2019:(Wt,et,N)=>{"use strict";N.d(et,{G:()=>Me});class U{constructor(pe,We,je,Ie,ce){this.id=We,this.name=je,this.disableScroll=ce,this.priority=1e6*Ie+We,this.ctrl=pe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const pe=this.ctrl.capture(this.name,this.id,this.priority);return pe&&this.disableScroll&&this.ctrl.disableScroll(this.id),pe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Q{constructor(pe,We,je,Ie){this.id=We,this.disable=je,this.disableScroll=Ie,this.ctrl=pe}block(){if(this.ctrl){if(this.disable)for(const pe of this.disable)this.ctrl.disableGesture(pe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const pe of this.disable)this.ctrl.enableGesture(pe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const J="backdrop-no-scroll",Me=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(pe){var We;return new U(this,this.newID(),pe.name,null!==(We=pe.priority)&&void 0!==We?We:0,!!pe.disableScroll)}createBlocker(pe={}){return new Q(this,this.newID(),pe.disable,!!pe.disableScroll)}start(pe,We,je){return this.canStart(pe)?(this.requestedStart.set(We,je),!0):(this.requestedStart.delete(We),!1)}capture(pe,We,je){if(!this.start(pe,We,je))return!1;const Ie=this.requestedStart;let ce=-1e4;if(Ie.forEach(Ne=>{ce=Math.max(ce,Ne)}),ce===je){this.capturedId=We,Ie.clear();const Ne=new CustomEvent("ionGestureCaptured",{detail:{gestureName:pe}});return document.dispatchEvent(Ne),!0}return Ie.delete(We),!1}release(pe){this.requestedStart.delete(pe),this.capturedId===pe&&(this.capturedId=void 0)}disableGesture(pe,We){let je=this.disabledGestures.get(pe);void 0===je&&(je=new Set,this.disabledGestures.set(pe,je)),je.add(We)}enableGesture(pe,We){const je=this.disabledGestures.get(pe);void 0!==je&&je.delete(We)}disableScroll(pe){this.disabledScroll.add(pe),1===this.disabledScroll.size&&document.body.classList.add(J)}enableScroll(pe){this.disabledScroll.delete(pe),0===this.disabledScroll.size&&document.body.classList.remove(J)}canStart(pe){return!(void 0!==this.capturedId||this.isDisabled(pe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(pe){const We=this.disabledGestures.get(pe);return!!(We&&We.size>0)}newID(){return this.gestureId++,this.gestureId}}},4393:(Wt,et,N)=>{"use strict";N.r(et),N.d(et,{MENU_BACK_BUTTON_PRIORITY:()=>Me,OVERLAY_BACK_BUTTON_PRIORITY:()=>J,blockHardwareBackButton:()=>U,startHardwareBackButton:()=>Q});var u=N(5861);const U=()=>{document.addEventListener("backbutton",()=>{})},Q=()=>{const se=document;let pe=!1;se.addEventListener("backbutton",()=>{if(pe)return;let We=0,je=[];const Ie=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($e,Re){je.push({priority:$e,handler:Re,id:We++})}}});se.dispatchEvent(Ie);const ce=function(){var $e=(0,u.Z)(function*(Re){try{if(null!=Re&&Re.handler){const Pe=Re.handler(Ne);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return $e.apply(this,arguments)}}(),Ne=()=>{if(je.length>0){let $e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};je.forEach(Re=>{Re.priority>=$e.priority&&($e=Re)}),pe=!0,je=je.filter(Re=>Re.id!==$e.id),ce($e).then(()=>pe=!1)}};Ne()})},J=100,Me=99},512:(Wt,et,N)=>{"use strict";N.d(et,{a:()=>We,b:()=>je,c:()=>Q,d:()=>nt,e:()=>Pe,f:()=>Re,g:()=>Ie,h:()=>$e,i:()=>pe,j:()=>Fe,k:()=>Me,l:()=>xe,m:()=>J,n:()=>Ne,o:()=>Le,p:()=>le,q:()=>Oe,r:()=>ce,s:()=>we,t:()=>u,u:()=>He,v:()=>ht});const u=(ee,ge=0)=>new Promise(re=>{U(ee,ge,re)}),U=(ee,ge=0,re)=>{let ae,Ke;const Be={passive:!0},At=()=>{ae&&ae()},tn=zt=>{(void 0===zt||ee===zt.target)&&(At(),re(zt))};return ee&&(ee.addEventListener("webkitTransitionEnd",tn,Be),ee.addEventListener("transitionend",tn,Be),Ke=setTimeout(tn,ge+500),ae=()=>{Ke&&(clearTimeout(Ke),Ke=void 0),ee.removeEventListener("webkitTransitionEnd",tn,Be),ee.removeEventListener("transitionend",tn,Be)}),At},Q=(ee,ge)=>{ee.componentOnReady?ee.componentOnReady().then(re=>ge(re)):ce(()=>ge(ee))},J=ee=>void 0!==ee.componentOnReady,Me=(ee,ge=[])=>{const re={};return ge.forEach(ae=>{ee.hasAttribute(ae)&&(null!==ee.getAttribute(ae)&&(re[ae]=ee.getAttribute(ae)),ee.removeAttribute(ae))}),re},se=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],pe=(ee,ge)=>{let re=se;return ge&&ge.length>0&&(re=re.filter(ae=>!ge.includes(ae))),Me(ee,re)},We=(ee,ge,re,ae)=>{var Ke;if(typeof window<"u"){const Be=window,rt=null===(Ke=null==Be?void 0:Be.Ionic)||void 0===Ke?void 0:Ke.config;if(rt){const At=rt.get("_ael");if(At)return At(ee,ge,re,ae);if(rt._ael)return rt._ael(ee,ge,re,ae)}}return ee.addEventListener(ge,re,ae)},je=(ee,ge,re,ae)=>{var Ke;if(typeof window<"u"){const Be=window,rt=null===(Ke=null==Be?void 0:Be.Ionic)||void 0===Ke?void 0:Ke.config;if(rt){const At=rt.get("_rel");if(At)return At(ee,ge,re,ae);if(rt._rel)return rt._rel(ee,ge,re,ae)}}return ee.removeEventListener(ge,re,ae)},Ie=(ee,ge=ee)=>ee.shadowRoot||ge,ce=ee=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(ee):setTimeout(ee),Ne=ee=>!!ee.shadowRoot&&!!ee.attachShadow,$e=ee=>{const ge=ee.closest("ion-item");return ge?ge.querySelector("ion-label"):null},Re=ee=>{if(ee.focus(),ee.classList.contains("ion-focusable")){const ge=ee.closest("ion-app");ge&&ge.setFocus([ee])}},Pe=(ee,ge)=>{let re;const ae=ee.getAttribute("aria-labelledby"),Ke=ee.id;let Be=null!==ae&&""!==ae.trim()?ae:ge+"-lbl",rt=null!==ae&&""!==ae.trim()?document.getElementById(ae):$e(ee);return rt?(null===ae&&(rt.id=Be),re=rt.textContent,rt.setAttribute("aria-hidden","true")):""!==Ke.trim()&&(rt=document.querySelector(`label[for="${Ke}"]`),rt&&(""!==rt.id?Be=rt.id:rt.id=Be=`${Ke}-lbl`,re=rt.textContent)),{label:rt,labelId:Be,labelText:re}},nt=(ee,ge,re,ae,Ke)=>{if(ee||Ne(ge)){let Be=ge.querySelector("input.aux-input");Be||(Be=ge.ownerDocument.createElement("input"),Be.type="hidden",Be.classList.add("aux-input"),ge.appendChild(Be)),Be.disabled=Ke,Be.name=re,Be.value=ae||""}},xe=(ee,ge,re)=>Math.max(ee,Math.min(ge,re)),Le=(ee,ge)=>{if(!ee){const re="ASSERT: "+ge;throw console.error(re),new Error(re)}},He=ee=>ee.timeStamp||Date.now(),ht=ee=>{if(ee){const ge=ee.changedTouches;if(ge&&ge.length>0){const re=ge[0];return{x:re.clientX,y:re.clientY}}if(void 0!==ee.pageX)return{x:ee.pageX,y:ee.pageY}}return{x:0,y:0}},le=ee=>{const ge="rtl"===document.dir;switch(ee){case"start":return ge;case"end":return!ge;default:throw new Error(`"${ee}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Fe=(ee,ge)=>{const re=ee._original||ee;return{_original:ee,emit:Oe(re.emit.bind(re),ge)}},Oe=(ee,ge=0)=>{let re;return(...ae)=>{clearTimeout(re),re=setTimeout(ee,ge,...ae)}},we=(ee,ge)=>{if(null!=ee||(ee={}),null!=ge||(ge={}),ee===ge)return!0;const re=Object.keys(ee);if(re.length!==Object.keys(ge).length)return!1;for(const ae of re)if(!(ae in ge)||ee[ae]!==ge[ae])return!1;return!0}},5613:(Wt,et,N)=>{"use strict";N.d(et,{m:()=>$e});var u=N(5861),U=N(1848),Q=N(4393),J=N(2400),Me=N(512),se=N(2905),pe=N(4913);const We=Re=>(0,pe.c)().duration(Re?400:300),je=Re=>{let Pe,nt;const xe=Re.width+8,Le=(0,pe.c)(),He=(0,pe.c)();Re.isEndSide?(Pe=xe+"px",nt="0px"):(Pe=-xe+"px",nt="0px"),Le.addElement(Re.menuInnerEl).fromTo("transform",`translateX(${Pe})`,`translateX(${nt})`);const le="ios"===(0,se.b)(Re),Fe=le?.2:.25;return He.addElement(Re.backdropEl).fromTo("opacity",.01,Fe),We(le).addAnimation([Le,He])},Ie=Re=>{let Pe,nt;const xe=(0,se.b)(Re),Le=Re.width;Re.isEndSide?(Pe=-Le+"px",nt=Le+"px"):(Pe=Le+"px",nt=-Le+"px");const He=(0,pe.c)().addElement(Re.menuInnerEl).fromTo("transform",`translateX(${nt})`,"translateX(0px)"),ht=(0,pe.c)().addElement(Re.contentEl).fromTo("transform","translateX(0px)",`translateX(${Pe})`),le=(0,pe.c)().addElement(Re.backdropEl).fromTo("opacity",.01,.32);return We("ios"===xe).addAnimation([He,ht,le])},ce=Re=>{const Pe=(0,se.b)(Re),nt=Re.width*(Re.isEndSide?-1:1)+"px",xe=(0,pe.c)().addElement(Re.contentEl).fromTo("transform","translateX(0px)",`translateX(${nt})`);return We("ios"===Pe).addAnimation(xe)},$e=(()=>{const Re=new Map,Pe=[],nt=function(){var ue=(0,u.Z)(function*(be){const ve=yield Oe(be,!0);return!!ve&&ve.open()});return function(ve){return ue.apply(this,arguments)}}(),xe=function(){var ue=(0,u.Z)(function*(be){const ve=yield void 0!==be?Oe(be,!0):we();return void 0!==ve&&ve.close()});return function(ve){return ue.apply(this,arguments)}}(),Le=function(){var ue=(0,u.Z)(function*(be){const ve=yield Oe(be,!0);return!!ve&&ve.toggle()});return function(ve){return ue.apply(this,arguments)}}(),He=function(){var ue=(0,u.Z)(function*(be,ve){const qe=yield Oe(ve);return qe&&(qe.disabled=!be),qe});return function(ve,qe){return ue.apply(this,arguments)}}(),ht=function(){var ue=(0,u.Z)(function*(be,ve){const qe=yield Oe(ve);return qe&&(qe.swipeGesture=be),qe});return function(ve,qe){return ue.apply(this,arguments)}}(),le=function(){var ue=(0,u.Z)(function*(be){if(null!=be){const ve=yield Oe(be);return void 0!==ve&&ve.isOpen()}return void 0!==(yield we())});return function(ve){return ue.apply(this,arguments)}}(),Fe=function(){var ue=(0,u.Z)(function*(be){const ve=yield Oe(be);return!!ve&&!ve.disabled});return function(ve){return ue.apply(this,arguments)}}(),Oe=function(){var ue=(0,u.Z)(function*(be,ve=!1){if(yield Ae(),"start"===be||"end"===be){const Ye=Pe.filter(Dt=>Dt.side===be&&!Dt.disabled);if(Ye.length>=1)return Ye.length>1&&ve&&(0,J.p)(`menuController queried for a menu on the "${be}" side, but ${Ye.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ye.map(Dt=>Dt.el)),Ye[0].el;const Et=Pe.filter(Dt=>Dt.side===be);if(Et.length>=1)return Et.length>1&&ve&&(0,J.p)(`menuController queried for a menu on the "${be}" side, but ${Et.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Et.map(Dt=>Dt.el)),Et[0].el}else if(null!=be)return tt(Ye=>Ye.menuId===be);return tt(Ye=>!Ye.disabled)||(Pe.length>0?Pe[0].el:void 0)});return function(ve){return ue.apply(this,arguments)}}(),we=function(){var ue=(0,u.Z)(function*(){return yield Ae(),At()});return function(){return ue.apply(this,arguments)}}(),ee=function(){var ue=(0,u.Z)(function*(){return yield Ae(),tn()});return function(){return ue.apply(this,arguments)}}(),ge=function(){var ue=(0,u.Z)(function*(){return yield Ae(),zt()});return function(){return ue.apply(this,arguments)}}(),re=(ue,be)=>{Re.set(ue,be)},Be=function(){var ue=(0,u.Z)(function*(be,ve,qe){if(zt())return!1;if(ve){const Ye=yield we();Ye&&be.el!==Ye&&(yield Ye.setOpen(!1,!1))}return be._setOpen(ve,qe)});return function(ve,qe,Ye){return ue.apply(this,arguments)}}(),At=()=>tt(ue=>ue._isOpen),tn=()=>Pe.map(ue=>ue.el),zt=()=>Pe.some(ue=>ue.isAnimating),tt=ue=>{const be=Pe.find(ue);if(void 0!==be)return be.el},Ae=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ue=>new Promise(be=>(0,Me.c)(ue,be))));return re("reveal",ce),re("push",Ie),re("overlay",je),null==U.d||U.d.addEventListener("ionBackButton",ue=>{const be=At();be&&ue.detail.register(Q.MENU_BACK_BUTTON_PRIORITY,()=>be.close())}),{registerAnimation:re,get:Oe,getMenus:ee,getOpen:we,isEnabled:Fe,swipeGesture:ht,isAnimating:ge,isOpen:le,enable:He,toggle:Le,close:xe,open:nt,_getOpenSync:At,_createAnimation:(ue,be)=>{const ve=Re.get(ue);if(!ve)throw new Error("animation not registered");return ve(be)},_register:ue=>{Pe.indexOf(ue)<0&&Pe.push(ue)},_unregister:ue=>{const be=Pe.indexOf(ue);be>-1&&Pe.splice(be,1)},_setOpen:Be}})()},6535:(Wt,et,N)=>{"use strict";N.r(et),N.d(et,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>je});var u=N(2019);const U=($e,Re,Pe,nt)=>{const xe=Q($e)?{capture:!!nt.capture,passive:!!nt.passive}:!!nt.capture;let Le,He;return $e.__zone_symbol__addEventListener?(Le="__zone_symbol__addEventListener",He="__zone_symbol__removeEventListener"):(Le="addEventListener",He="removeEventListener"),$e[Le](Re,Pe,xe),()=>{$e[He](Re,Pe,xe)}},Q=$e=>{if(void 0===J)try{const Re=Object.defineProperty({},"passive",{get:()=>{J=!0}});$e.addEventListener("optsTest",()=>{},Re)}catch{J=!1}return!!J};let J;const pe=$e=>$e instanceof Document?$e:$e.ownerDocument,je=$e=>{let Re=!1,Pe=!1,nt=!0,xe=!1;const Le=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$e),He=Le.canStart,ht=Le.onWillStart,le=Le.onStart,Fe=Le.onEnd,Oe=Le.notCaptured,we=Le.onMove,ee=Le.threshold,ge=Le.passive,re=Le.blurOnStart,ae={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ke=(($e,Re,Pe)=>{const nt=Pe*(Math.PI/180),xe="x"===$e,Le=Math.cos(nt),He=Re*Re;let ht=0,le=0,Fe=!1,Oe=0;return{start(we,ee){ht=we,le=ee,Oe=0,Fe=!0},detect(we,ee){if(!Fe)return!1;const ge=we-ht,re=ee-le,ae=ge*ge+re*re;if(ae<He)return!1;const Ke=Math.sqrt(ae),Be=(xe?ge:re)/Ke;return Oe=Be>Le?1:Be<-Le?-1:0,Fe=!1,!0},isGesture:()=>0!==Oe,getDirection:()=>Oe}})(Le.direction,Le.threshold,Le.maxAngle),Be=u.G.createGesture({name:$e.gestureName,priority:$e.gesturePriority,disableScroll:$e.disableScroll}),tn=()=>{Re&&(xe=!1,we&&we(ae))},zt=()=>!!Be.capture()&&(Re=!0,nt=!1,ae.startX=ae.currentX,ae.startY=ae.currentY,ae.startTime=ae.currentTime,ht?ht(ae).then(Ae):Ae(),!0),Ae=()=>{re&&(()=>{if(typeof document<"u"){const Ye=document.activeElement;null!=Ye&&Ye.blur&&Ye.blur()}})(),le&&le(ae),nt=!0},ue=()=>{Re=!1,Pe=!1,xe=!1,nt=!0,Be.release()},be=Ye=>{const Et=Re,Dt=nt;if(ue(),Dt){if(Ie(ae,Ye),Et)return void(Fe&&Fe(ae));Oe&&Oe(ae)}},ve=(($e,Re,Pe,nt,xe)=>{let Le,He,ht,le,Fe,Oe,we,ee=0;const ge=tt=>{ee=Date.now()+2e3,Re(tt)&&(!He&&Pe&&(He=U($e,"touchmove",Pe,xe)),ht||(ht=U(tt.target,"touchend",ae,xe)),le||(le=U(tt.target,"touchcancel",ae,xe)))},re=tt=>{ee>Date.now()||Re(tt)&&(!Oe&&Pe&&(Oe=U(pe($e),"mousemove",Pe,xe)),we||(we=U(pe($e),"mouseup",Ke,xe)))},ae=tt=>{Be(),nt&&nt(tt)},Ke=tt=>{rt(),nt&&nt(tt)},Be=()=>{He&&He(),ht&&ht(),le&&le(),He=ht=le=void 0},rt=()=>{Oe&&Oe(),we&&we(),Oe=we=void 0},At=()=>{Be(),rt()},tn=(tt=!0)=>{tt?(Le||(Le=U($e,"touchstart",ge,xe)),Fe||(Fe=U($e,"mousedown",re,xe))):(Le&&Le(),Fe&&Fe(),Le=Fe=void 0,At())};return{enable:tn,stop:At,destroy:()=>{tn(!1),nt=Pe=Re=void 0}}})(Le.el,Ye=>{const Et=Ne(Ye);return!(Pe||!nt||(ce(Ye,ae),ae.startX=ae.currentX,ae.startY=ae.currentY,ae.startTime=ae.currentTime=Et,ae.velocityX=ae.velocityY=ae.deltaX=ae.deltaY=0,ae.event=Ye,He&&!1===He(ae))||(Be.release(),!Be.start()))&&(Pe=!0,0===ee?zt():(Ke.start(ae.startX,ae.startY),!0))},Ye=>{Re?!xe&&nt&&(xe=!0,Ie(ae,Ye),requestAnimationFrame(tn)):(Ie(ae,Ye),Ke.detect(ae.currentX,ae.currentY)&&(!Ke.isGesture()||!zt())&&qe())},be,{capture:!1,passive:ge}),qe=()=>{ue(),ve.stop(),Oe&&Oe(ae)};return{enable(Ye=!0){Ye||(Re&&be(void 0),ue()),ve.enable(Ye)},destroy(){Be.destroy(),ve.destroy()}}},Ie=($e,Re)=>{if(!Re)return;const Pe=$e.currentX,nt=$e.currentY,xe=$e.currentTime;ce(Re,$e);const Le=$e.currentX,He=$e.currentY,le=($e.currentTime=Ne(Re))-xe;if(le>0&&le<100){const Oe=(He-nt)/le;$e.velocityX=(Le-Pe)/le*.7+.3*$e.velocityX,$e.velocityY=.7*Oe+.3*$e.velocityY}$e.deltaX=Le-$e.startX,$e.deltaY=He-$e.startY,$e.event=Re},ce=($e,Re)=>{let Pe=0,nt=0;if($e){const xe=$e.changedTouches;if(xe&&xe.length>0){const Le=xe[0];Pe=Le.clientX,nt=Le.clientY}else void 0!==$e.pageX&&(Pe=$e.pageX,nt=$e.pageY)}Re.currentX=Pe,Re.currentY=nt},Ne=$e=>$e.timeStamp||Date.now()},2325:(Wt,et,N)=>{"use strict";N.d(et,{b:()=>se,c:()=>pe,d:()=>We,e:()=>ee,g:()=>ae,l:()=>Oe,s:()=>ge,t:()=>ce,w:()=>we});var u=N(5861),U=N(771),Q=N(512);const se="ionViewWillLeave",pe="ionViewDidLeave",We="ionViewWillUnload",ce=Ke=>new Promise((Be,rt)=>{(0,U.w)(()=>{Ne(Ke),$e(Ke).then(At=>{At.animation&&At.animation.destroy(),Re(Ke),Be(At)},At=>{Re(Ke),rt(At)})})}),Ne=Ke=>{const Be=Ke.enteringEl,rt=Ke.leavingEl;re(Be,rt,Ke.direction),Ke.showGoBack?Be.classList.add("can-go-back"):Be.classList.remove("can-go-back"),ge(Be,!1),Be.style.setProperty("pointer-events","none"),rt&&(ge(rt,!1),rt.style.setProperty("pointer-events","none"))},$e=function(){var Ke=(0,u.Z)(function*(Be){const rt=yield Pe(Be);return rt&&U.B.isBrowser?nt(rt,Be):xe(Be)});return function(rt){return Ke.apply(this,arguments)}}(),Re=Ke=>{const Be=Ke.enteringEl,rt=Ke.leavingEl;Be.classList.remove("ion-page-invisible"),Be.style.removeProperty("pointer-events"),void 0!==rt&&(rt.classList.remove("ion-page-invisible"),rt.style.removeProperty("pointer-events"))},Pe=function(){var Ke=(0,u.Z)(function*(Be){return Be.leavingEl&&Be.animated&&0!==Be.duration?Be.animationBuilder?Be.animationBuilder:"ios"===Be.mode?(yield Promise.resolve().then(N.bind(N,3433))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,6615))).mdTransitionAnimation:void 0});return function(rt){return Ke.apply(this,arguments)}}(),nt=function(){var Ke=(0,u.Z)(function*(Be,rt){yield Le(rt,!0);const At=Be(rt.baseEl,rt);le(rt.enteringEl,rt.leavingEl);const tn=yield ht(At,rt);return rt.progressCallback&&rt.progressCallback(void 0),tn&&Fe(rt.enteringEl,rt.leavingEl),{hasCompleted:tn,animation:At}});return function(rt,At){return Ke.apply(this,arguments)}}(),xe=function(){var Ke=(0,u.Z)(function*(Be){const rt=Be.enteringEl,At=Be.leavingEl;return yield Le(Be,!1),le(rt,At),Fe(rt,At),{hasCompleted:!0}});return function(rt){return Ke.apply(this,arguments)}}(),Le=function(){var Ke=(0,u.Z)(function*(Be,rt){(void 0!==Be.deepWait?Be.deepWait:rt)&&(yield Promise.all([ee(Be.enteringEl),ee(Be.leavingEl)])),yield He(Be.viewIsReady,Be.enteringEl)});return function(rt,At){return Ke.apply(this,arguments)}}(),He=function(){var Ke=(0,u.Z)(function*(Be,rt){Be&&(yield Be(rt))});return function(rt,At){return Ke.apply(this,arguments)}}(),ht=(Ke,Be)=>{const rt=Be.progressCallback,At=new Promise(tn=>{Ke.onFinish(zt=>tn(1===zt))});return rt?(Ke.progressStart(!0),rt(Ke)):Ke.play(),At},le=(Ke,Be)=>{Oe(Be,se),Oe(Ke,"ionViewWillEnter")},Fe=(Ke,Be)=>{Oe(Ke,"ionViewDidEnter"),Oe(Be,pe)},Oe=(Ke,Be)=>{if(Ke){const rt=new CustomEvent(Be,{bubbles:!1,cancelable:!1});Ke.dispatchEvent(rt)}},we=()=>new Promise(Ke=>(0,Q.r)(()=>(0,Q.r)(()=>Ke()))),ee=function(){var Ke=(0,u.Z)(function*(Be){const rt=Be;if(rt){if(null!=rt.componentOnReady){if(null!=(yield rt.componentOnReady()))return}else if(null!=rt.__registerHost)return void(yield new Promise(tn=>(0,Q.r)(tn)));yield Promise.all(Array.from(rt.children).map(ee))}});return function(rt){return Ke.apply(this,arguments)}}(),ge=(Ke,Be)=>{Be?(Ke.setAttribute("aria-hidden","true"),Ke.classList.add("ion-page-hidden")):(Ke.hidden=!1,Ke.removeAttribute("aria-hidden"),Ke.classList.remove("ion-page-hidden"))},re=(Ke,Be,rt)=>{void 0!==Ke&&(Ke.style.zIndex="back"===rt?"99":"101"),void 0!==Be&&(Be.style.zIndex="100")},ae=Ke=>Ke.classList.contains("ion-page")?Ke:Ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ke},2400:(Wt,et,N)=>{"use strict";N.d(et,{a:()=>U,b:()=>Q,p:()=>u});const u=(J,...Me)=>console.warn(`[Ionic Warning]: ${J}`,...Me),U=(J,...Me)=>console.error(`[Ionic Error]: ${J}`,...Me),Q=(J,...Me)=>console.error(`<${J.tagName.toLowerCase()}> must be used inside ${Me.join(" or ")}.`)},1848:(Wt,et,N)=>{"use strict";N.d(et,{d:()=>U,w:()=>u});const u=typeof window<"u"?window:void 0,U=typeof document<"u"?document:void 0},771:(Wt,et,N)=>{"use strict";N.d(et,{B:()=>Ne,H:()=>zt,a:()=>pr,b:()=>Pr,c:()=>Dt,d:()=>Dn,e:()=>Fn,f:()=>Ht,g:()=>bt,h:()=>At,i:()=>H,j:()=>$e,r:()=>$n,w:()=>xr});var u=N(5861);let J,Me,se,pe=!1,We=!1,je=!1,Ie=!1,ce=!1;const Ne={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$e=L=>{const G=new URL(L,kn.$resourcesUrl$);return G.origin!==ui.location.origin?G.href:G.pathname},ht="s-id",le="sty-id",we="slot-fb{display:contents}slot-fb[hidden]{display:none}",ee="http://www.w3.org/1999/xlink",ge={},Be=L=>"object"==(L=typeof L)||"function"===L;function rt(L){var G,Se,Ve;return null!==(Ve=null===(Se=null===(G=L.head)||void 0===G?void 0:G.querySelector('meta[name="csp-nonce"]'))||void 0===Se?void 0:Se.getAttribute("content"))&&void 0!==Ve?Ve:void 0}const At=(L,G,...Se)=>{let Ve=null,gt=null,Je=null,St=!1,Nt=!1;const Vt=[],Pt=pn=>{for(let dn=0;dn<pn.length;dn++)Ve=pn[dn],Array.isArray(Ve)?Pt(Ve):null!=Ve&&"boolean"!=typeof Ve&&((St="function"!=typeof L&&!Be(Ve))&&(Ve=String(Ve)),St&&Nt?Vt[Vt.length-1].$text$+=Ve:Vt.push(St?tn(null,Ve):Ve),Nt=St)};if(Pt(Se),G){G.key&&(gt=G.key),G.name&&(Je=G.name);{const pn=G.className||G.class;pn&&(G.class="object"!=typeof pn?pn:Object.keys(pn).filter(dn=>pn[dn]).join(" "))}}if("function"==typeof L)return L(null===G?{}:G,Vt,Ae);const Qt=tn(L,null);return Qt.$attrs$=G,Vt.length>0&&(Qt.$children$=Vt),Qt.$key$=gt,Qt.$name$=Je,Qt},tn=(L,G)=>({$flags$:0,$tag$:L,$text$:G,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),zt={},Ae={forEach:(L,G)=>L.map(ue).forEach(G),map:(L,G)=>L.map(ue).map(G).map(be)},ue=L=>({vattrs:L.$attrs$,vchildren:L.$children$,vkey:L.$key$,vname:L.$name$,vtag:L.$tag$,vtext:L.$text$}),be=L=>{if("function"==typeof L.vtag){const Se=Object.assign({},L.vattrs);return L.vkey&&(Se.key=L.vkey),L.vname&&(Se.name=L.vname),At(L.vtag,Se,...L.vchildren||[])}const G=tn(L.vtag,L.vtext);return G.$attrs$=L.vattrs,G.$children$=L.vchildren,G.$key$=L.vkey,G.$name$=L.vname,G},qe=(L,G,Se,Ve,gt,Je,St)=>{let Nt,Vt,Pt,Qt;if(1===Je.nodeType){for(Nt=Je.getAttribute("c-id"),Nt&&(Vt=Nt.split("."),(Vt[0]===St||"0"===Vt[0])&&(Pt={$flags$:0,$hostId$:Vt[0],$nodeId$:Vt[1],$depth$:Vt[2],$index$:Vt[3],$tag$:Je.tagName.toLowerCase(),$elm$:Je,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},G.push(Pt),Je.removeAttribute("c-id"),L.$children$||(L.$children$=[]),L.$children$[Pt.$index$]=Pt,L=Pt,Ve&&"0"===Pt.$depth$&&(Ve[Pt.$index$]=Pt.$elm$))),Qt=Je.childNodes.length-1;Qt>=0;Qt--)qe(L,G,Se,Ve,gt,Je.childNodes[Qt],St);if(Je.shadowRoot)for(Qt=Je.shadowRoot.childNodes.length-1;Qt>=0;Qt--)qe(L,G,Se,Ve,gt,Je.shadowRoot.childNodes[Qt],St)}else if(8===Je.nodeType)Vt=Je.nodeValue.split("."),(Vt[1]===St||"0"===Vt[1])&&(Nt=Vt[0],Pt={$flags$:0,$hostId$:Vt[1],$nodeId$:Vt[2],$depth$:Vt[3],$index$:Vt[4],$elm$:Je,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Nt?(Pt.$elm$=Je.nextSibling,Pt.$elm$&&3===Pt.$elm$.nodeType&&(Pt.$text$=Pt.$elm$.textContent,G.push(Pt),Je.remove(),L.$children$||(L.$children$=[]),L.$children$[Pt.$index$]=Pt,Ve&&"0"===Pt.$depth$&&(Ve[Pt.$index$]=Pt.$elm$))):Pt.$hostId$===St&&("s"===Nt?(Pt.$tag$="slot",Je["s-sn"]=Vt[5]?Pt.$name$=Vt[5]:"",Je["s-sr"]=!0,Ve&&(Pt.$elm$=Ar.createElement(Pt.$tag$),Pt.$name$&&Pt.$elm$.setAttribute("name",Pt.$name$),Je.parentNode.insertBefore(Pt.$elm$,Je),Je.remove(),"0"===Pt.$depth$&&(Ve[Pt.$index$]=Pt.$elm$)),Se.push(Pt),L.$children$||(L.$children$=[]),L.$children$[Pt.$index$]=Pt):"r"===Nt&&(Ve?Je.remove():(gt["s-cr"]=Je,Je["s-cn"]=!0))));else if(L&&"style"===L.$tag$){const pn=tn(null,Je.textContent);pn.$elm$=Je,pn.$index$="0",L.$children$=[pn]}},Ye=(L,G)=>{if(1===L.nodeType){let Se=0;for(;Se<L.childNodes.length;Se++)Ye(L.childNodes[Se],G);if(L.shadowRoot)for(Se=0;Se<L.shadowRoot.childNodes.length;Se++)Ye(L.shadowRoot.childNodes[Se],G)}else if(8===L.nodeType){const Se=L.nodeValue.split(".");"o"===Se[0]&&(G.set(Se[1]+"."+Se[2],L),L.nodeValue="",L["s-en"]=Se[3])}},Dt=L=>Bn.push(L),bt=L=>Cn(L).$modeName$,Ht=L=>Cn(L).$hostElement$,Dn=(L,G,Se)=>{const Ve=Ht(L);return{emit:gt=>pt(Ve,G,{bubbles:!!(4&Se),composed:!!(2&Se),cancelable:!!(1&Se),detail:gt})}},pt=(L,G,Se)=>{const Ve=kn.ce(G,Se);return L.dispatchEvent(Ve),Ve},at=new WeakMap,it=(L,G,Se)=>{let Ve=br.get(L);z&&Se?(Ve=Ve||new CSSStyleSheet,"string"==typeof Ve?Ve=G:Ve.replaceSync(G)):Ve=G,br.set(L,Ve)},It=(L,G,Se)=>{var Ve;const gt=mn(G,Se),Je=br.get(gt);if(L=11===L.nodeType?L:Ar,Je)if("string"==typeof Je){let Nt,St=at.get(L=L.head||L);if(St||at.set(L,St=new Set),!St.has(gt)){if(L.host&&(Nt=L.querySelector(`[${le}="${gt}"]`)))Nt.innerHTML=Je;else{Nt=Ar.createElement("style"),Nt.innerHTML=Je;const Vt=null!==(Ve=kn.$nonce$)&&void 0!==Ve?Ve:rt(Ar);null!=Vt&&Nt.setAttribute("nonce",Vt),L.insertBefore(Nt,L.querySelector("link"))}4&G.$flags$&&(Nt.innerHTML+=we),St&&St.add(gt)}}else L.adoptedStyleSheets.includes(Je)||(L.adoptedStyleSheets=[...L.adoptedStyleSheets,Je]);return gt},mn=(L,G)=>"sc-"+(G&&32&L.$flags$?L.$tagName$+"-"+G:L.$tagName$),fn=L=>L.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),nn=(L,G,Se,Ve,gt,Je)=>{if(Se!==Ve){let St=rr(L,G),Nt=G.toLowerCase();if("class"===G){const Vt=L.classList,Pt=vn(Se),Qt=vn(Ve);Vt.remove(...Pt.filter(pn=>pn&&!Qt.includes(pn))),Vt.add(...Qt.filter(pn=>pn&&!Pt.includes(pn)))}else if("style"===G){for(const Vt in Se)(!Ve||null==Ve[Vt])&&(Vt.includes("-")?L.style.removeProperty(Vt):L.style[Vt]="");for(const Vt in Ve)(!Se||Ve[Vt]!==Se[Vt])&&(Vt.includes("-")?L.style.setProperty(Vt,Ve[Vt]):L.style[Vt]=Ve[Vt])}else if("key"!==G)if("ref"===G)Ve&&Ve(L);else if(St||"o"!==G[0]||"n"!==G[1]){const Vt=Be(Ve);if((St||Vt&&null!==Ve)&&!gt)try{if(L.tagName.includes("-"))L[G]=Ve;else{const Qt=null==Ve?"":Ve;"list"===G?St=!1:(null==Se||L[G]!=Qt)&&(L[G]=Qt)}}catch{}let Pt=!1;Nt!==(Nt=Nt.replace(/^xlink\:?/,""))&&(G=Nt,Pt=!0),null==Ve||!1===Ve?(!1!==Ve||""===L.getAttribute(G))&&(Pt?L.removeAttributeNS(ee,G):L.removeAttribute(G)):(!St||4&Je||gt)&&!Vt&&(Ve=!0===Ve?"":Ve,Pt?L.setAttributeNS(ee,G,Ve):L.setAttribute(G,Ve))}else if(G="-"===G[2]?G.slice(3):rr(ui,Nt)?Nt.slice(2):Nt[2]+G.slice(3),Se||Ve){const Vt=G.endsWith(cr);G=G.replace(Ut,""),Se&&kn.rel(L,G,Se,Vt),Ve&&kn.ael(L,G,Ve,Vt)}}},Pn=/\s/,vn=L=>L?L.split(Pn):[],cr="Capture",Ut=new RegExp(cr+"$"),En=(L,G,Se,Ve)=>{const gt=11===G.$elm$.nodeType&&G.$elm$.host?G.$elm$.host:G.$elm$,Je=L&&L.$attrs$||ge,St=G.$attrs$||ge;for(Ve in Je)Ve in St||nn(gt,Ve,Je[Ve],void 0,Se,G.$flags$);for(Ve in St)nn(gt,Ve,Je[Ve],St[Ve],Se,G.$flags$)},_n=(L,G,Se,Ve)=>{var gt;const Je=G.$children$[Se];let Nt,Vt,Pt,St=0;if(pe||(je=!0,"slot"===Je.$tag$&&(J&&Ve.classList.add(J+"-s"),Je.$flags$|=Je.$children$?2:1)),null!==Je.$text$)Nt=Je.$elm$=Ar.createTextNode(Je.$text$);else if(1&Je.$flags$)Nt=Je.$elm$=Ar.createTextNode("");else{if(Ie||(Ie="svg"===Je.$tag$),Nt=Je.$elm$=Ar.createElementNS(Ie?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Je.$flags$?"slot-fb":Je.$tag$),Ie&&"foreignObject"===Je.$tag$&&(Ie=!1),En(null,Je,Ie),(L=>null!=L)(J)&&Nt["s-si"]!==J&&Nt.classList.add(Nt["s-si"]=J),Je.$children$)for(St=0;St<Je.$children$.length;++St)Vt=_n(L,Je,St,Nt),Vt&&Nt.appendChild(Vt);"svg"===Je.$tag$?Ie=!1:"foreignObject"===Nt.tagName&&(Ie=!0)}return Nt["s-hn"]=se,3&Je.$flags$&&(Nt["s-sr"]=!0,Nt["s-fs"]=null===(gt=Je.$attrs$)||void 0===gt?void 0:gt.slot,Nt["s-cr"]=Me,Nt["s-sn"]=Je.$name$||"",Pt=L&&L.$children$&&L.$children$[Se],Pt&&Pt.$tag$===Je.$tag$&&L.$elm$&&qn(L.$elm$,!1)),Nt},qn=(L,G)=>{var Se;kn.$flags$|=1;const Ve=L.childNodes;for(let gt=Ve.length-1;gt>=0;gt--){const Je=Ve[gt];Je["s-hn"]!==se&&Je["s-ol"]&&(Xn(Je).insertBefore(Je,Br(Je)),Je["s-ol"].remove(),Je["s-ol"]=void 0,Je["s-sh"]=void 0,1===Je.nodeType&&Je.setAttribute("slot",null!==(Se=Je["s-sn"])&&void 0!==Se?Se:""),je=!0),G&&qn(Je,G)}kn.$flags$&=-2},nr=(L,G,Se,Ve,gt,Je)=>{let Nt,St=L["s-cr"]&&L["s-cr"].parentNode||L;for(St.shadowRoot&&St.tagName===se&&(St=St.shadowRoot);gt<=Je;++gt)Ve[gt]&&(Nt=_n(null,Se,gt,L),Nt&&(Ve[gt].$elm$=Nt,St.insertBefore(Nt,Br(G))))},Bt=(L,G,Se)=>{for(let Ve=G;Ve<=Se;++Ve){const gt=L[Ve];if(gt){const Je=gt.$elm$;Ln(gt),Je&&(We=!0,Je["s-ol"]?Je["s-ol"].remove():qn(Je,!0),Je.remove())}}},bn=(L,G)=>L.$tag$===G.$tag$&&("slot"===L.$tag$?L.$name$===G.$name$:L.$key$===G.$key$),Br=L=>L&&L["s-ol"]||L,Xn=L=>(L["s-ol"]?L["s-ol"]:L).parentNode,wr=(L,G)=>{const Se=G.$elm$=L.$elm$,Ve=L.$children$,gt=G.$children$,Je=G.$tag$,St=G.$text$;let Nt;null===St?(Ie="svg"===Je||"foreignObject"!==Je&&Ie,"slot"===Je||En(L,G,Ie),null!==Ve&&null!==gt?((L,G,Se,Ve)=>{let Ir,C,gt=0,Je=0,St=0,Nt=0,Vt=G.length-1,Pt=G[0],Qt=G[Vt],pn=Ve.length-1,dn=Ve[0],Jn=Ve[pn];for(;gt<=Vt&&Je<=pn;)if(null==Pt)Pt=G[++gt];else if(null==Qt)Qt=G[--Vt];else if(null==dn)dn=Ve[++Je];else if(null==Jn)Jn=Ve[--pn];else if(bn(Pt,dn))wr(Pt,dn),Pt=G[++gt],dn=Ve[++Je];else if(bn(Qt,Jn))wr(Qt,Jn),Qt=G[--Vt],Jn=Ve[--pn];else if(bn(Pt,Jn))("slot"===Pt.$tag$||"slot"===Jn.$tag$)&&qn(Pt.$elm$.parentNode,!1),wr(Pt,Jn),L.insertBefore(Pt.$elm$,Qt.$elm$.nextSibling),Pt=G[++gt],Jn=Ve[--pn];else if(bn(Qt,dn))("slot"===Pt.$tag$||"slot"===Jn.$tag$)&&qn(Qt.$elm$.parentNode,!1),wr(Qt,dn),L.insertBefore(Qt.$elm$,Pt.$elm$),Qt=G[--Vt],dn=Ve[++Je];else{for(St=-1,Nt=gt;Nt<=Vt;++Nt)if(G[Nt]&&null!==G[Nt].$key$&&G[Nt].$key$===dn.$key$){St=Nt;break}St>=0?(C=G[St],C.$tag$!==dn.$tag$?Ir=_n(G&&G[Je],Se,St,L):(wr(C,dn),G[St]=void 0,Ir=C.$elm$),dn=Ve[++Je]):(Ir=_n(G&&G[Je],Se,Je,L),dn=Ve[++Je]),Ir&&Xn(Pt.$elm$).insertBefore(Ir,Br(Pt.$elm$))}gt>Vt?nr(L,null==Ve[pn+1]?null:Ve[pn+1].$elm$,Se,Ve,Je,pn):Je>pn&&Bt(G,gt,Vt)})(Se,Ve,G,gt):null!==gt?(null!==L.$text$&&(Se.textContent=""),nr(Se,null,G,gt,0,gt.length-1)):null!==Ve&&Bt(Ve,0,Ve.length-1),Ie&&"svg"===Je&&(Ie=!1)):(Nt=Se["s-cr"])?Nt.parentNode.textContent=St:L.$text$!==St&&(Se.data=St)},On=L=>{const G=L.childNodes;for(const Se of G)if(1===Se.nodeType){if(Se["s-sr"]){const Ve=Se["s-sn"];Se.hidden=!1;for(const gt of G)if(gt!==Se)if(gt["s-hn"]!==Se["s-hn"]||""!==Ve){if(1===gt.nodeType&&(Ve===gt.getAttribute("slot")||Ve===gt["s-sn"])){Se.hidden=!0;break}}else if(1===gt.nodeType||3===gt.nodeType&&""!==gt.textContent.trim()){Se.hidden=!0;break}}On(Se)}},lr=[],Wr=L=>{let G,Se,Ve;for(const gt of L.childNodes){if(gt["s-sr"]&&(G=gt["s-cr"])&&G.parentNode){Se=G.parentNode.childNodes;const Je=gt["s-sn"];for(Ve=Se.length-1;Ve>=0;Ve--)if(G=Se[Ve],!G["s-cn"]&&!G["s-nr"]&&G["s-hn"]!==gt["s-hn"])if(An(G,Je)){let St=lr.find(Nt=>Nt.$nodeToRelocate$===G);We=!0,G["s-sn"]=G["s-sn"]||Je,St?(St.$nodeToRelocate$["s-sh"]=gt["s-hn"],St.$slotRefNode$=gt):(G["s-sh"]=gt["s-hn"],lr.push({$slotRefNode$:gt,$nodeToRelocate$:G})),G["s-sr"]&&lr.map(Nt=>{An(Nt.$nodeToRelocate$,G["s-sn"])&&(St=lr.find(Vt=>Vt.$nodeToRelocate$===G),St&&!Nt.$slotRefNode$&&(Nt.$slotRefNode$=St.$slotRefNode$))})}else lr.some(St=>St.$nodeToRelocate$===G)||lr.push({$nodeToRelocate$:G})}1===gt.nodeType&&Wr(gt)}},An=(L,G)=>1===L.nodeType?null===L.getAttribute("slot")&&""===G||L.getAttribute("slot")===G:L["s-sn"]===G||""===G,Ln=L=>{L.$attrs$&&L.$attrs$.ref&&L.$attrs$.ref(null),L.$children$&&L.$children$.map(Ln)},Yr=(L,G)=>{G&&!L.$onRenderResolve$&&G["s-p"]&&G["s-p"].push(new Promise(Se=>L.$onRenderResolve$=Se))},Ur=(L,G)=>{if(L.$flags$|=16,!(4&L.$flags$))return Yr(L,L.$ancestorComponent$),xr(()=>ri(L,G));L.$flags$|=512},ri=(L,G)=>{const Ve=L.$lazyInstance$;let gt;return G&&(L.$flags$|=256,L.$queuedListeners$&&(L.$queuedListeners$.map(([Je,St])=>de(Ve,Je,St)),L.$queuedListeners$=void 0),gt=de(Ve,"componentWillLoad")),gt=jr(gt,()=>de(Ve,"componentWillRender")),jr(gt,()=>mr(L,Ve,G))},jr=(L,G)=>Kr(L)?L.then(G):G(),Kr=L=>L instanceof Promise||L&&L.then&&"function"==typeof L.then,mr=function(){var L=(0,u.Z)(function*(G,Se,Ve){var gt;const Je=G.$hostElement$,Nt=Je["s-rc"];Ve&&(L=>{const G=L.$cmpMeta$,Se=L.$hostElement$,Ve=G.$flags$,Je=It(Se.shadowRoot?Se.shadowRoot:Se.getRootNode(),G,L.$modeName$);10&Ve&&(Se["s-sc"]=Je,Se.classList.add(Je+"-h"),2&Ve&&Se.classList.add(Je+"-s"))})(G);ai(G,Se,Je,Ve),Nt&&(Nt.map(Pt=>Pt()),Je["s-rc"]=void 0);{const Pt=null!==(gt=Je["s-p"])&&void 0!==gt?gt:[],Qt=()=>te(G);0===Pt.length?Qt():(Promise.all(Pt).then(Qt),G.$flags$|=4,Pt.length=0)}});return function(Se,Ve,gt){return L.apply(this,arguments)}}(),ai=(L,G,Se,Ve)=>{try{G=G.render&&G.render(),L.$flags$&=-17,L.$flags$|=2,((L,G,Se=!1)=>{var Ve,gt,Je,St;const Nt=L.$hostElement$,Vt=L.$cmpMeta$,Pt=L.$vnode$||tn(null,null),Qt=(L=>L&&L.$tag$===zt)(G)?G:At(null,null,G);if(se=Nt.tagName,Vt.$attrsToReflect$&&(Qt.$attrs$=Qt.$attrs$||{},Vt.$attrsToReflect$.map(([pn,dn])=>Qt.$attrs$[dn]=Nt[pn])),Se&&Qt.$attrs$)for(const pn of Object.keys(Qt.$attrs$))Nt.hasAttribute(pn)&&!["key","ref","style","class"].includes(pn)&&(Qt.$attrs$[pn]=Nt[pn]);if(Qt.$tag$=null,Qt.$flags$|=4,L.$vnode$=Qt,Qt.$elm$=Pt.$elm$=Nt.shadowRoot||Nt,J=Nt["s-sc"],Me=Nt["s-cr"],pe=0!=(1&Vt.$flags$),We=!1,wr(Pt,Qt),kn.$flags$|=1,je){Wr(Qt.$elm$);for(const pn of lr){const dn=pn.$nodeToRelocate$;if(!dn["s-ol"]){const Jn=Ar.createTextNode("");Jn["s-nr"]=dn,dn.parentNode.insertBefore(dn["s-ol"]=Jn,dn)}}for(const pn of lr){const dn=pn.$nodeToRelocate$,Jn=pn.$slotRefNode$;if(Jn){const Ir=Jn.parentNode;let C=Jn.nextSibling;{let Z=null===(Ve=dn["s-ol"])||void 0===Ve?void 0:Ve.previousSibling;for(;Z;){let M=null!==(gt=Z["s-nr"])&&void 0!==gt?gt:null;if(M&&M["s-sn"]===dn["s-sn"]&&Ir===M.parentNode&&(M=M.nextSibling,!M||!M["s-nr"])){C=M;break}Z=Z.previousSibling}}(!C&&Ir!==dn.parentNode||dn.nextSibling!==C)&&dn!==C&&(!dn["s-hn"]&&dn["s-ol"]&&(dn["s-hn"]=dn["s-ol"].parentNode.nodeName),Ir.insertBefore(dn,C),1===dn.nodeType&&(dn.hidden=null!==(Je=dn["s-ih"])&&void 0!==Je&&Je))}else 1===dn.nodeType&&(Se&&(dn["s-ih"]=null!==(St=dn.hidden)&&void 0!==St&&St),dn.hidden=!0)}}We&&On(Qt.$elm$),kn.$flags$&=-2,lr.length=0})(L,G,Ve)}catch(gt){Cr(gt,L.$hostElement$)}return null},te=L=>{const Se=L.$hostElement$,gt=L.$lazyInstance$,Je=L.$ancestorComponent$;de(gt,"componentDidRender"),64&L.$flags$?de(gt,"componentDidUpdate"):(L.$flags$|=64,he(Se),de(gt,"componentDidLoad"),L.$onReadyResolve$(Se),Je||oe()),L.$onInstanceResolve$(Se),L.$onRenderResolve$&&(L.$onRenderResolve$(),L.$onRenderResolve$=void 0),512&L.$flags$&&In(()=>Ur(L,!1)),L.$flags$&=-517},H=L=>{{const G=Cn(L),Se=G.$hostElement$.isConnected;return Se&&2==(18&G.$flags$)&&Ur(G,!1),Se}},oe=L=>{he(Ar.documentElement),In(()=>pt(ui,"appload",{detail:{namespace:"ionic"}}))},de=(L,G,Se)=>{if(L&&L[G])try{return L[G](Se)}catch(Ve){Cr(Ve)}},he=L=>L.classList.add("hydrated"),Gt=(L,G,Se)=>{var Ve;const gt=L.prototype;if(G.$members$){L.watchers&&(G.$watchers$=L.watchers);const Je=Object.entries(G.$members$);if(Je.map(([St,[Nt]])=>{31&Nt||2&Se&&32&Nt?Object.defineProperty(gt,St,{get(){return((L,G)=>Cn(this).$instanceValues$.get(G))(0,St)},set(Vt){((L,G,Se,Ve)=>{const gt=Cn(L),Je=gt.$hostElement$,St=gt.$instanceValues$.get(G),Nt=gt.$flags$,Vt=gt.$lazyInstance$;Se=((L,G)=>null==L||Be(L)?L:4&G?"false"!==L&&(""===L||!!L):2&G?parseFloat(L):1&G?String(L):L)(Se,Ve.$members$[G][0]);const Pt=Number.isNaN(St)&&Number.isNaN(Se);if((!(8&Nt)||void 0===St)&&Se!==St&&!Pt&&(gt.$instanceValues$.set(G,Se),Vt)){if(Ve.$watchers$&&128&Nt){const pn=Ve.$watchers$[G];pn&&pn.map(dn=>{try{Vt[dn](Se,St,G)}catch(Jn){Cr(Jn,Je)}})}2==(18&Nt)&&Ur(gt,!1)}})(this,St,Vt,G)},configurable:!0,enumerable:!0}):1&Se&&64&Nt&&Object.defineProperty(gt,St,{value(...Vt){var Pt;const Qt=Cn(this);return null===(Pt=null==Qt?void 0:Qt.$onInstancePromise$)||void 0===Pt?void 0:Pt.then(()=>{var pn;return null===(pn=Qt.$lazyInstance$)||void 0===pn?void 0:pn[St](...Vt)})}})}),1&Se){const St=new Map;gt.attributeChangedCallback=function(Nt,Vt,Pt){kn.jmp(()=>{var Qt;const pn=St.get(Nt);if(this.hasOwnProperty(pn))Pt=this[pn],delete this[pn];else{if(gt.hasOwnProperty(pn)&&"number"==typeof this[pn]&&this[pn]==Pt)return;if(null==pn){const dn=Cn(this),Jn=null==dn?void 0:dn.$flags$;if(Jn&&!(8&Jn)&&128&Jn&&Pt!==Vt){const Ir=dn.$lazyInstance$,C=null===(Qt=G.$watchers$)||void 0===Qt?void 0:Qt[Nt];null==C||C.forEach(Z=>{null!=Ir[Z]&&Ir[Z].call(Ir,Pt,Vt,Nt)})}return}}this[pn]=(null!==Pt||"boolean"!=typeof this[pn])&&Pt})},L.observedAttributes=Array.from(new Set([...Object.keys(null!==(Ve=G.$watchers$)&&void 0!==Ve?Ve:{}),...Je.filter(([Nt,Vt])=>15&Vt[0]).map(([Nt,Vt])=>{var Pt;const Qt=Vt[1]||Nt;return St.set(Qt,Nt),512&Vt[0]&&(null===(Pt=G.$attrsToReflect$)||void 0===Pt||Pt.push([Nt,Qt])),Qt})]))}}return L},xn=function(){var L=(0,u.Z)(function*(G,Se,Ve,gt){let Je;if(!(32&Se.$flags$)){Se.$flags$|=32;{if(Je=Ci(Ve),Je.then){const Pt=()=>{};Je=yield Je,Pt()}Je.isProxied||(Ve.$watchers$=Je.watchers,Gt(Je,Ve,2),Je.isProxied=!0);const Vt=()=>{};Se.$flags$|=8;try{new Je(Se)}catch(Pt){Cr(Pt)}Se.$flags$&=-9,Se.$flags$|=128,Vt(),Vn(Se.$lazyInstance$)}if(Je.style){let Vt=Je.style;"string"!=typeof Vt&&(Vt=Vt[Se.$modeName$=(L=>Bn.map(G=>G(L)).find(G=>!!G))(G)]);const Pt=mn(Ve,Se.$modeName$);if(!br.has(Pt)){const Qt=()=>{};it(Pt,Vt,!!(1&Ve.$flags$)),Qt()}}}const St=Se.$ancestorComponent$,Nt=()=>Ur(Se,!0);St&&St["s-rc"]?St["s-rc"].push(Nt):Nt()});return function(Se,Ve,gt,Je){return L.apply(this,arguments)}}(),Vn=L=>{de(L,"connectedCallback")},Xt=L=>{const G=L["s-cr"]=Ar.createComment("");G["s-cn"]=!0,L.insertBefore(G,L.firstChild)},qt=L=>{de(L,"disconnectedCallback")},li=function(){var L=(0,u.Z)(function*(G){if(!(1&kn.$flags$)){const Se=Cn(G);Se.$rmListeners$&&(Se.$rmListeners$.map(Ve=>Ve()),Se.$rmListeners$=void 0),null!=Se&&Se.$lazyInstance$?qt(Se.$lazyInstance$):null!=Se&&Se.$onReadyPromise$&&Se.$onReadyPromise$.then(()=>qt(Se.$lazyInstance$))}});return function(Se){return L.apply(this,arguments)}}(),Pr=(L,G={})=>{var Se;const gt=[],Je=G.exclude||[],St=ui.customElements,Nt=Ar.head,Vt=Nt.querySelector("meta[charset]"),Pt=Ar.createElement("style"),Qt=[],pn=Ar.querySelectorAll(`[${le}]`);let dn,Jn=!0,Ir=0;for(Object.assign(kn,G),kn.$resourcesUrl$=new URL(G.resourcesUrl||"./",Ar.baseURI).href,kn.$flags$|=2;Ir<pn.length;Ir++)it(pn[Ir].getAttribute(le),fn(pn[Ir].innerHTML),!0);let C=!1;if(L.map(Z=>{Z[1].map(M=>{var X;const Qe={$flags$:M[0],$tagName$:M[1],$members$:M[2],$listeners$:M[3]};4&Qe.$flags$&&(C=!0),Qe.$members$=M[2],Qe.$listeners$=M[3],Qe.$attrsToReflect$=[],Qe.$watchers$=null!==(X=M[4])&&void 0!==X?X:{};const Un=Qe.$tagName$,Zr=class extends HTMLElement{constructor(Hr){super(Hr),Dr(Hr=this,Qe),1&Qe.$flags$&&Hr.attachShadow({mode:"open",delegatesFocus:!!(16&Qe.$flags$)})}connectedCallback(){dn&&(clearTimeout(dn),dn=null),Jn?Qt.push(this):kn.jmp(()=>(L=>{if(!(1&kn.$flags$)){const G=Cn(L),Se=G.$cmpMeta$,Ve=()=>{};if(1&G.$flags$)Bi(L,G,Se.$listeners$),null!=G&&G.$lazyInstance$?Vn(G.$lazyInstance$):null!=G&&G.$onReadyPromise$&&G.$onReadyPromise$.then(()=>Vn(G.$lazyInstance$));else{let gt;if(G.$flags$|=1,gt=L.getAttribute(ht),gt){if(1&Se.$flags$){const Je=It(L.shadowRoot,Se,L.getAttribute("s-mode"));L.classList.remove(Je+"-h",Je+"-s")}((L,G,Se,Ve)=>{const Je=L.shadowRoot,St=[],Vt=Je?[]:null,Pt=Ve.$vnode$=tn(G,null);kn.$orgLocNodes$||Ye(Ar.body,kn.$orgLocNodes$=new Map),L[ht]=Se,L.removeAttribute(ht),qe(Pt,St,[],Vt,L,L,Se),St.map(Qt=>{const pn=Qt.$hostId$+"."+Qt.$nodeId$,dn=kn.$orgLocNodes$.get(pn),Jn=Qt.$elm$;dn&&Ee&&""===dn["s-en"]&&dn.parentNode.insertBefore(Jn,dn.nextSibling),Je||(Jn["s-hn"]=G,dn&&(Jn["s-ol"]=dn,Jn["s-ol"]["s-nr"]=Jn)),kn.$orgLocNodes$.delete(pn)}),Je&&Vt.map(Qt=>{Qt&&Je.appendChild(Qt)})})(L,Se.$tagName$,gt,G)}gt||12&Se.$flags$&&Xt(L);{let Je=L;for(;Je=Je.parentNode||Je.host;)if(1===Je.nodeType&&Je.hasAttribute("s-id")&&Je["s-p"]||Je["s-p"]){Yr(G,G.$ancestorComponent$=Je);break}}Se.$members$&&Object.entries(Se.$members$).map(([Je,[St]])=>{if(31&St&&L.hasOwnProperty(Je)){const Nt=L[Je];delete L[Je],L[Je]=Nt}}),xn(L,G,Se)}Ve()}})(this))}disconnectedCallback(){kn.jmp(()=>li(this))}componentOnReady(){return Cn(this).$onReadyPromise$}};Qe.$lazyBundleId$=Z[0],!Je.includes(Un)&&!St.get(Un)&&(gt.push(Un),St.define(Un,Gt(Zr,Qe,1)))})}),C&&(Pt.innerHTML+=we),Pt.innerHTML+=gt+"{visibility:hidden}.hydrated{visibility:inherit}",Pt.innerHTML.length){Pt.setAttribute("data-styles","");const Z=null!==(Se=kn.$nonce$)&&void 0!==Se?Se:rt(Ar);null!=Z&&Pt.setAttribute("nonce",Z),Nt.insertBefore(Pt,Vt?Vt.nextSibling:Nt.firstChild)}Jn=!1,Qt.length?Qt.map(Z=>Z.connectedCallback()):kn.jmp(()=>dn=setTimeout(oe,30))},Bi=(L,G,Se,Ve)=>{Se&&Se.map(([gt,Je,St])=>{const Nt=Xe(L,gt),Vt=yt(G,St),Pt=xt(gt);kn.ael(Nt,Je,Vt,Pt),(G.$rmListeners$=G.$rmListeners$||[]).push(()=>kn.rel(Nt,Je,Vt,Pt))})},yt=(L,G)=>Se=>{try{256&L.$flags$?L.$lazyInstance$[G](Se):(L.$queuedListeners$=L.$queuedListeners$||[]).push([G,Se])}catch(Ve){Cr(Ve)}},Xe=(L,G)=>4&G?Ar:8&G?ui:16&G?Ar.body:L,xt=L=>0!=(2&L),Sn=new WeakMap,Cn=L=>Sn.get(L),$n=(L,G)=>Sn.set(G.$lazyInstance$=L,G),Dr=(L,G)=>{const Se={$flags$:0,$hostElement$:L,$cmpMeta$:G,$instanceValues$:new Map};return Se.$onInstancePromise$=new Promise(Ve=>Se.$onInstanceResolve$=Ve),Se.$onReadyPromise$=new Promise(Ve=>Se.$onReadyResolve$=Ve),L["s-p"]=[],L["s-rc"]=[],Bi(L,Se,G.$listeners$),Sn.set(L,Se)},rr=(L,G)=>G in L,Cr=(L,G)=>(0,console.error)(L,G),_i=new Map,Ci=(L,G,Se)=>{const Ve=L.$tagName$.replace(/-/g,"_"),gt=L.$lazyBundleId$,Je=_i.get(gt);return Je?Je[Ve]:N(863)(`./${gt}.entry.js`).then(St=>(_i.set(gt,St),St[Ve]),Cr)},br=new Map,Bn=[],ui=typeof window<"u"?window:{},Ar=ui.document||{head:{}},kn={$flags$:0,$resourcesUrl$:"",jmp:L=>L(),raf:L=>requestAnimationFrame(L),ael:(L,G,Se,Ve)=>L.addEventListener(G,Se,Ve),rel:(L,G,Se,Ve)=>L.removeEventListener(G,Se,Ve),ce:(L,G)=>new CustomEvent(L,G)},pr=L=>{Object.assign(kn,L)},Ee=!0,z=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ye=[],ze=[],wt=(L,G)=>Se=>{L.push(Se),ce||(ce=!0,G&&4&kn.$flags$?In(en):kn.raf(en))},Zt=L=>{for(let G=0;G<L.length;G++)try{L[G](performance.now())}catch(Se){Cr(Se)}L.length=0},en=()=>{Zt(ye),Zt(ze),(ce=ye.length>0)&&kn.raf(en)},In=L=>Promise.resolve(void 0).then(L),Fn=wt(ye,!1),xr=wt(ze,!0)},2905:(Wt,et,N)=>{"use strict";N.d(et,{a:()=>ce,b:()=>tn,c:()=>Q,i:()=>zt});var u=N(771);class U{constructor(){this.m=new Map}reset(Ae){this.m=new Map(Object.entries(Ae))}get(Ae,ue){const be=this.m.get(Ae);return void 0!==be?be:ue}getBoolean(Ae,ue=!1){const be=this.m.get(Ae);return void 0===be?ue:"string"==typeof be?"true"===be:!!be}getNumber(Ae,ue){const be=parseFloat(this.m.get(Ae));return isNaN(be)?void 0!==ue?ue:NaN:be}set(Ae,ue){this.m.set(Ae,ue)}}const Q=new U,je="ionic-persist-config",ce=(tt,Ae)=>("string"==typeof tt&&(Ae=tt,tt=void 0),(tt=>Ne(tt))(tt).includes(Ae)),Ne=(tt=window)=>{if(typeof tt>"u")return[];tt.Ionic=tt.Ionic||{};let Ae=tt.Ionic.platforms;return null==Ae&&(Ae=tt.Ionic.platforms=$e(tt),Ae.forEach(ue=>tt.document.documentElement.classList.add(`plt-${ue}`))),Ae},$e=tt=>{const Ae=Q.get("platform");return Object.keys(rt).filter(ue=>{const be=null==Ae?void 0:Ae[ue];return"function"==typeof be?be(tt):rt[ue](tt)})},Pe=tt=>!!(Ke(tt,/iPad/i)||Ke(tt,/Macintosh/i)&&Fe(tt)),Le=tt=>Ke(tt,/android|sink/i),Fe=tt=>Be(tt,"(any-pointer:coarse)"),we=tt=>ee(tt)||ge(tt),ee=tt=>!!(tt.cordova||tt.phonegap||tt.PhoneGap),ge=tt=>{const Ae=tt.Capacitor;return!(null==Ae||!Ae.isNative)},Ke=(tt,Ae)=>Ae.test(tt.navigator.userAgent),Be=(tt,Ae)=>{var ue;return null===(ue=tt.matchMedia)||void 0===ue?void 0:ue.call(tt,Ae).matches},rt={ipad:Pe,iphone:tt=>Ke(tt,/iPhone/i),ios:tt=>Ke(tt,/iPhone|iPod/i)||Pe(tt),android:Le,phablet:tt=>{const Ae=tt.innerWidth,ue=tt.innerHeight,be=Math.min(Ae,ue),ve=Math.max(Ae,ue);return be>390&&be<520&&ve>620&&ve<800},tablet:tt=>{const Ae=tt.innerWidth,ue=tt.innerHeight,be=Math.min(Ae,ue),ve=Math.max(Ae,ue);return Pe(tt)||(tt=>Le(tt)&&!Ke(tt,/mobile/i))(tt)||be>460&&be<820&&ve>780&&ve<1400},cordova:ee,capacitor:ge,electron:tt=>Ke(tt,/electron/i),pwa:tt=>{var Ae;return!!(null!==(Ae=tt.matchMedia)&&void 0!==Ae&&Ae.call(tt,"(display-mode: standalone)").matches||tt.navigator.standalone)},mobile:Fe,mobileweb:tt=>Fe(tt)&&!we(tt),desktop:tt=>!Fe(tt),hybrid:we};let At;const tn=tt=>tt&&(0,u.g)(tt)||At,zt=(tt={})=>{if(typeof window>"u")return;const Ae=window.document,ue=window,be=ue.Ionic=ue.Ionic||{},ve={};tt._ael&&(ve.ael=tt._ael),tt._rel&&(ve.rel=tt._rel),tt._ce&&(ve.ce=tt._ce),(0,u.a)(ve);const qe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(tt=>{try{const Ae=tt.sessionStorage.getItem(je);return null!==Ae?JSON.parse(Ae):{}}catch{return{}}})(ue)),{persistConfig:!1}),be.config),(tt=>{const Ae={};return tt.location.search.slice(1).split("&").map(ue=>ue.split("=")).map(([ue,be])=>[decodeURIComponent(ue),decodeURIComponent(be)]).filter(([ue])=>((tt,Ae)=>tt.substr(0,Ae.length)===Ae)(ue,"ionic:")).map(([ue,be])=>[ue.slice(6),be]).forEach(([ue,be])=>{Ae[ue]=be}),Ae})(ue)),tt);Q.reset(qe),Q.getBoolean("persistConfig")&&((tt,Ae)=>{try{tt.sessionStorage.setItem(je,JSON.stringify(Ae))}catch{return}})(ue,qe),Ne(ue),be.config=Q,be.mode=At=Q.get("mode",Ae.documentElement.getAttribute("mode")||(ce(ue,"ios")?"ios":"md")),Q.set("mode",At),Ae.documentElement.setAttribute("mode",At),Ae.documentElement.classList.add(At),Q.getBoolean("_testing")&&Q.set("animated",!1);const Ye=Dt=>{var bt;return null===(bt=Dt.tagName)||void 0===bt?void 0:bt.startsWith("ION-")},Et=Dt=>["ios","md"].includes(Dt);(0,u.c)(Dt=>{for(;Dt;){const bt=Dt.mode||Dt.getAttribute("mode");if(bt){if(Et(bt))return bt;Ye(Dt)&&console.warn('Invalid ionic mode: "'+bt+'", expected: "ios" or "md"')}Dt=Dt.parentElement}return At})}},3433:(Wt,et,N)=>{"use strict";N.r(et),N.d(et,{iosTransitionAnimation:()=>$e,shadow:()=>pe});var u=N(4913),U=N(2325);N(1848),N(771);const se=Pe=>document.querySelector(`${Pe}.ion-cloned-element`),pe=Pe=>Pe.shadowRoot||Pe,We=Pe=>{const nt="ION-TABS"===Pe.tagName?Pe:Pe.querySelector("ion-tabs"),xe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=nt){const Le=nt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Le?Le.querySelector(xe):null}return Pe.querySelector(xe)},je=(Pe,nt)=>{const xe="ION-TABS"===Pe.tagName?Pe:Pe.querySelector("ion-tabs");let Le=[];if(null!=xe){const He=xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=He&&(Le=He.querySelectorAll("ion-buttons"))}else Le=Pe.querySelectorAll("ion-buttons");for(const He of Le){const ht=He.closest("ion-header"),le=ht&&!ht.classList.contains("header-collapse-condense-inactive"),Fe=He.querySelector("ion-back-button"),Oe=He.classList.contains("buttons-collapse");if(null!==Fe&&("start"===He.slot||""===He.slot)&&(Oe&&le&&nt||!Oe))return Fe}return null},ce=(Pe,nt,xe,Le,He,ht,le,Fe,Oe)=>{var we,ee;const ge=nt?`calc(100% - ${He.right+4}px)`:He.left-4+"px",re=nt?"right":"left",ae=nt?"left":"right",Ke=nt?"right":"left",Be=(null===(we=ht.textContent)||void 0===we?void 0:we.trim())===(null===(ee=Fe.textContent)||void 0===ee?void 0:ee.trim()),At=(Oe.height-Re)/le.height,tn=Be?`scale(${Oe.width/le.width}, ${At})`:`scale(${At})`,zt="scale(1)",Ae=pe(Le).querySelector("ion-icon").getBoundingClientRect(),ue=nt?Ae.width/2-(Ae.right-He.right)+"px":He.left-Ae.width/2+"px",be=nt?`-${window.innerWidth-He.right}px`:`${He.left}px`,ve=`${Oe.top}px`,qe=`${He.top}px`,Dt=xe?[{offset:0,transform:`translate3d(${be}, ${qe}, 0)`},{offset:1,transform:`translate3d(${ue}, ${ve}, 0)`}]:[{offset:0,transform:`translate3d(${ue}, ${ve}, 0)`},{offset:1,transform:`translate3d(${be}, ${qe}, 0)`}],Ht=xe?[{offset:0,opacity:1,transform:zt},{offset:1,opacity:0,transform:tn}]:[{offset:0,opacity:0,transform:tn},{offset:1,opacity:1,transform:zt}],at=xe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],it=(0,u.c)(),It=(0,u.c)(),$t=(0,u.c)(),mn=se("ion-back-button"),fn=pe(mn).querySelector(".button-text"),nn=pe(mn).querySelector("ion-icon");mn.text=Le.text,mn.mode=Le.mode,mn.icon=Le.icon,mn.color=Le.color,mn.disabled=Le.disabled,mn.style.setProperty("display","block"),mn.style.setProperty("position","fixed"),It.addElement(nn),it.addElement(fn),$t.addElement(mn),$t.beforeStyles({position:"absolute",top:"0px",[Ke]:"0px"}).keyframes(Dt),it.beforeStyles({"transform-origin":`${re} top`}).beforeAddWrite(()=>{Le.style.setProperty("display","none"),mn.style.setProperty(re,ge)}).afterAddWrite(()=>{Le.style.setProperty("display",""),mn.style.setProperty("display","none"),mn.style.removeProperty(re)}).keyframes(Ht),It.beforeStyles({"transform-origin":`${ae} center`}).keyframes(at),Pe.addAnimation([it,It,$t])},Ne=(Pe,nt,xe,Le,He,ht,le,Fe)=>{var Oe,we;const ee=nt?"right":"left",ge=nt?`calc(100% - ${He.right}px)`:`${He.left}px`,ae=`${He.top}px`,Be=nt?`-${window.innerWidth-Fe.right-8}px`:Fe.x-8+"px",At=Fe.y-2+"px",tn=(null===(Oe=le.textContent)||void 0===Oe?void 0:Oe.trim())===(null===(we=Le.textContent)||void 0===we?void 0:we.trim()),tt=Fe.height/(ht.height-Re),Ae="scale(1)",ue=tn?`scale(${Fe.width/ht.width}, ${tt})`:`scale(${tt})`,qe=xe?[{offset:0,opacity:0,transform:`translate3d(${Be}, ${At}, 0) ${ue}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${ae}, 0) ${Ae}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${ae}, 0) ${Ae}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Be}, ${At}, 0) ${ue}`}],Ye=se("ion-title"),Et=(0,u.c)();Ye.innerText=Le.innerText,Ye.size=Le.size,Ye.color=Le.color,Et.addElement(Ye),Et.beforeStyles({"transform-origin":`${ee} top`,height:`${He.height}px`,display:"",position:"relative",[ee]:ge}).beforeAddWrite(()=>{Le.style.setProperty("opacity","0")}).afterAddWrite(()=>{Le.style.setProperty("opacity",""),Ye.style.setProperty("display","none")}).keyframes(qe),Pe.addAnimation(Et)},$e=(Pe,nt)=>{var xe;try{const Le="cubic-bezier(0.32,0.72,0,1)",He="opacity",ht="transform",le="0%",Oe="rtl"===Pe.ownerDocument.dir,we=Oe?"-99.5%":"99.5%",ee=Oe?"33%":"-33%",ge=nt.enteringEl,re=nt.leavingEl,ae="back"===nt.direction,Ke=ge.querySelector(":scope > ion-content"),Be=ge.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),rt=ge.querySelectorAll(":scope > ion-header > ion-toolbar"),At=(0,u.c)(),tn=(0,u.c)();if(At.addElement(ge).duration((null!==(xe=nt.duration)&&void 0!==xe?xe:0)||540).easing(nt.easing||Le).fill("both").beforeRemoveClass("ion-page-invisible"),re&&null!=Pe){const ue=(0,u.c)();ue.addElement(Pe),At.addAnimation(ue)}if(Ke||0!==rt.length||0!==Be.length?(tn.addElement(Ke),tn.addElement(Be)):tn.addElement(ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),At.addAnimation(tn),ae?tn.beforeClearStyles([He]).fromTo("transform",`translateX(${ee})`,`translateX(${le})`).fromTo(He,.8,1):tn.beforeClearStyles([He]).fromTo("transform",`translateX(${we})`,`translateX(${le})`),Ke){const ue=pe(Ke).querySelector(".transition-effect");if(ue){const be=ue.querySelector(".transition-cover"),ve=ue.querySelector(".transition-shadow"),qe=(0,u.c)(),Ye=(0,u.c)(),Et=(0,u.c)();qe.addElement(ue).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ye.addElement(be).beforeClearStyles([He]).fromTo(He,0,.1),Et.addElement(ve).beforeClearStyles([He]).fromTo(He,.03,.7),qe.addAnimation([Ye,Et]),tn.addAnimation([qe])}}const zt=ge.querySelector("ion-header.header-collapse-condense"),{forward:tt,backward:Ae}=((Pe,nt,xe,Le,He)=>{const ht=je(Le,xe),le=We(He),Fe=We(Le),Oe=je(He,xe),we=null!==ht&&null!==le&&!xe,ee=null!==Fe&&null!==Oe&&xe;if(we){const ge=le.getBoundingClientRect(),re=ht.getBoundingClientRect(),ae=pe(ht).querySelector(".button-text"),Ke=ae.getBoundingClientRect(),rt=pe(le).querySelector(".toolbar-title").getBoundingClientRect();Ne(Pe,nt,xe,le,ge,rt,ae,Ke),ce(Pe,nt,xe,ht,re,ae,Ke,le,rt)}else if(ee){const ge=Fe.getBoundingClientRect(),re=Oe.getBoundingClientRect(),ae=pe(Oe).querySelector(".button-text"),Ke=ae.getBoundingClientRect(),rt=pe(Fe).querySelector(".toolbar-title").getBoundingClientRect();Ne(Pe,nt,xe,Fe,ge,rt,ae,Ke),ce(Pe,nt,xe,Oe,re,ae,Ke,Fe,rt)}return{forward:we,backward:ee}})(At,Oe,ae,ge,re);if(rt.forEach(ue=>{const be=(0,u.c)();be.addElement(ue),At.addAnimation(be);const ve=(0,u.c)();ve.addElement(ue.querySelector("ion-title"));const qe=(0,u.c)(),Ye=Array.from(ue.querySelectorAll("ion-buttons,[menuToggle]")),Et=ue.closest("ion-header"),Dt=null==Et?void 0:Et.classList.contains("header-collapse-condense-inactive");let bt;bt=Ye.filter(ae?at=>{const it=at.classList.contains("buttons-collapse");return it&&!Dt||!it}:at=>!at.classList.contains("buttons-collapse")),qe.addElement(bt);const lt=(0,u.c)();lt.addElement(ue.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ht=(0,u.c)();Ht.addElement(pe(ue).querySelector(".toolbar-background"));const Dn=(0,u.c)(),pt=ue.querySelector("ion-back-button");if(pt&&Dn.addElement(pt),be.addAnimation([ve,qe,lt,Ht,Dn]),qe.fromTo(He,.01,1),lt.fromTo(He,.01,1),ae)Dt||ve.fromTo("transform",`translateX(${ee})`,`translateX(${le})`).fromTo(He,.01,1),lt.fromTo("transform",`translateX(${ee})`,`translateX(${le})`),Dn.fromTo(He,.01,1);else if(zt||ve.fromTo("transform",`translateX(${we})`,`translateX(${le})`).fromTo(He,.01,1),lt.fromTo("transform",`translateX(${we})`,`translateX(${le})`),Ht.beforeClearStyles([He,"transform"]),(null==Et?void 0:Et.translucent)?Ht.fromTo("transform",Oe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ht.fromTo(He,.01,"var(--opacity)"),tt||Dn.fromTo(He,.01,1),pt&&!tt){const it=(0,u.c)();it.addElement(pe(pt).querySelector(".button-text")).fromTo("transform",Oe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),be.addAnimation(it)}}),re){const ue=(0,u.c)(),be=re.querySelector(":scope > ion-content"),ve=re.querySelectorAll(":scope > ion-header > ion-toolbar"),qe=re.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(be||0!==ve.length||0!==qe.length?(ue.addElement(be),ue.addElement(qe)):ue.addElement(re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),At.addAnimation(ue),ae){ue.beforeClearStyles([He]).fromTo("transform",`translateX(${le})`,Oe?"translateX(-100%)":"translateX(100%)");const Ye=(0,U.g)(re);At.afterAddWrite(()=>{"normal"===At.getDirection()&&Ye.style.setProperty("display","none")})}else ue.fromTo("transform",`translateX(${le})`,`translateX(${ee})`).fromTo(He,1,.8);if(be){const Ye=pe(be).querySelector(".transition-effect");if(Ye){const Et=Ye.querySelector(".transition-cover"),Dt=Ye.querySelector(".transition-shadow"),bt=(0,u.c)(),lt=(0,u.c)(),Ht=(0,u.c)();bt.addElement(Ye).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),lt.addElement(Et).beforeClearStyles([He]).fromTo(He,.1,0),Ht.addElement(Dt).beforeClearStyles([He]).fromTo(He,.7,.03),bt.addAnimation([lt,Ht]),ue.addAnimation([bt])}}ve.forEach(Ye=>{const Et=(0,u.c)();Et.addElement(Ye);const Dt=(0,u.c)();Dt.addElement(Ye.querySelector("ion-title"));const bt=(0,u.c)(),lt=Ye.querySelectorAll("ion-buttons,[menuToggle]"),Ht=Ye.closest("ion-header"),Dn=null==Ht?void 0:Ht.classList.contains("header-collapse-condense-inactive"),pt=Array.from(lt).filter(fn=>{const nn=fn.classList.contains("buttons-collapse");return nn&&!Dn||!nn});bt.addElement(pt);const at=(0,u.c)(),it=Ye.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");it.length>0&&at.addElement(it);const It=(0,u.c)();It.addElement(pe(Ye).querySelector(".toolbar-background"));const $t=(0,u.c)(),mn=Ye.querySelector("ion-back-button");if(mn&&$t.addElement(mn),Et.addAnimation([Dt,bt,at,$t,It]),At.addAnimation(Et),$t.fromTo(He,.99,0),bt.fromTo(He,.99,0),at.fromTo(He,.99,0),ae){if(Dn||Dt.fromTo("transform",`translateX(${le})`,Oe?"translateX(-100%)":"translateX(100%)").fromTo(He,.99,0),at.fromTo("transform",`translateX(${le})`,Oe?"translateX(-100%)":"translateX(100%)"),It.beforeClearStyles([He,"transform"]),(null==Ht?void 0:Ht.translucent)?It.fromTo("transform","translateX(0px)",Oe?"translateX(-100%)":"translateX(100%)"):It.fromTo(He,"var(--opacity)",0),mn&&!Ae){const nn=(0,u.c)();nn.addElement(pe(mn).querySelector(".button-text")).fromTo("transform",`translateX(${le})`,`translateX(${(Oe?-124:124)+"px"})`),Et.addAnimation(nn)}}else Dn||Dt.fromTo("transform",`translateX(${le})`,`translateX(${ee})`).fromTo(He,.99,0).afterClearStyles([ht,He]),at.fromTo("transform",`translateX(${le})`,`translateX(${ee})`).afterClearStyles([ht,He]),$t.afterClearStyles([He]),Dt.afterClearStyles([He]),bt.afterClearStyles([He])})}return At}catch(Le){throw Le}},Re=10},6615:(Wt,et,N)=>{"use strict";N.r(et),N.d(et,{mdTransitionAnimation:()=>Me});var u=N(4913),U=N(2325);N(1848),N(771);const Me=(se,pe)=>{var We,je,Ie;const $e="back"===pe.direction,Pe=pe.leavingEl,nt=(0,U.g)(pe.enteringEl),xe=nt.querySelector("ion-toolbar"),Le=(0,u.c)();if(Le.addElement(nt).fill("both").beforeRemoveClass("ion-page-invisible"),$e?Le.duration((null!==(We=pe.duration)&&void 0!==We?We:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Le.duration((null!==(je=pe.duration)&&void 0!==je?je:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),xe){const He=(0,u.c)();He.addElement(xe),Le.addAnimation(He)}if(Pe&&$e){Le.duration((null!==(Ie=pe.duration)&&void 0!==Ie?Ie:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const He=(0,u.c)();He.addElement((0,U.g)(Pe)).onFinish(ht=>{1===ht&&He.elements.length>0&&He.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Le.addAnimation(He)}return Le}},9207:(Wt,et,N)=>{"use strict";N.d(et,{B:()=>Dt,G:()=>bt,O:()=>lt,a:()=>Ne,b:()=>$e,c:()=>xe,d:()=>Ht,e:()=>Dn,f:()=>tn,g:()=>tt,h:()=>be,i:()=>qe,j:()=>He,k:()=>ht,m:()=>Pe,n:()=>Ie,o:()=>Oe,q:()=>rt,s:()=>Et});var u=N(5861),U=N(1848),Q=N(2905),J=N(3254),Me=N(4393),se=N(512),pe=N(2400);let We=0,je=0;const Ie=new WeakMap,ce=pt=>({create:at=>le(pt,at),dismiss:(at,it,It)=>ae(document,at,it,pt,It),getTop:()=>(0,u.Z)(function*(){return rt(document,pt)})()}),Ne=ce("ion-alert"),$e=ce("ion-action-sheet"),Pe=ce("ion-modal"),xe=ce("ion-popover"),He=pt=>{typeof document<"u"&&re(document);const at=We++;pt.overlayIndex=at},ht=pt=>(pt.hasAttribute("id")||(pt.id="ion-overlay-"+ ++je),pt.id),le=(pt,at)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(pt).then(()=>{const it=document.createElement(pt);return it.classList.add("overlay-hidden"),Object.assign(it,Object.assign(Object.assign({},at),{hasController:!0})),Ae(document).appendChild(it),new Promise(It=>(0,se.c)(it,It))}):Promise.resolve(),Fe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Oe=(pt,at)=>{let it=pt.querySelector(Fe);const It=null==it?void 0:it.shadowRoot;It&&(it=It.querySelector(Fe)||it),it?(0,se.f)(it):at.focus()},ee=(pt,at)=>{const it=Array.from(pt.querySelectorAll(Fe));let It=it.length>0?it[it.length-1]:null;const $t=null==It?void 0:It.shadowRoot;$t&&(It=$t.querySelector(Fe)||It),It?It.focus():at.focus()},re=pt=>{0===We&&(We=1,pt.addEventListener("focus",at=>{((pt,at)=>{const it=rt(at,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),It=pt.target;it&&It&&!it.classList.contains("ion-disable-focus-trap")&&(it.shadowRoot?(()=>{if(it.contains(It))it.lastFocus=It;else{const fn=it.lastFocus;Oe(it,it),fn===at.activeElement&&ee(it,it),it.lastFocus=at.activeElement}})():(()=>{if(it===It)it.lastFocus=void 0;else{const fn=(0,se.g)(it);if(!fn.contains(It))return;const nn=fn.querySelector(".ion-overlay-wrapper");if(!nn)return;if(nn.contains(It)||It===fn.querySelector("ion-backdrop"))it.lastFocus=It;else{const Pn=it.lastFocus;Oe(nn,it),Pn===at.activeElement&&ee(nn,it),it.lastFocus=at.activeElement}}})())})(at,pt)},!0),pt.addEventListener("ionBackButton",at=>{const it=rt(pt);null!=it&&it.backdropDismiss&&at.detail.register(Me.OVERLAY_BACK_BUTTON_PRIORITY,()=>it.dismiss(void 0,Dt))}),pt.addEventListener("keydown",at=>{if("Escape"===at.key){const it=rt(pt);null!=it&&it.backdropDismiss&&it.dismiss(void 0,Dt)}}))},ae=(pt,at,it,It,$t)=>{const mn=rt(pt,It,$t);return mn?mn.dismiss(at,it):Promise.reject("overlay does not exist")},Be=(pt,at)=>((pt,at)=>(void 0===at&&(at="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(pt.querySelectorAll(at)).filter(it=>it.overlayIndex>0)))(pt,at).filter(it=>!(pt=>pt.classList.contains("overlay-hidden"))(it)),rt=(pt,at,it)=>{const It=Be(pt,at);return void 0===it?It[It.length-1]:It.find($t=>$t.id===it)},At=(pt=!1)=>{const it=Ae(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");it&&(pt?it.setAttribute("aria-hidden","true"):it.removeAttribute("aria-hidden"))},tn=function(){var pt=(0,u.Z)(function*(at,it,It,$t,mn){var fn,nn;if(at.presented)return;At(!0),at.presented=!0,at.willPresent.emit(),null===(fn=at.willPresentShorthand)||void 0===fn||fn.emit();const Pn=(0,Q.b)(at),vn=at.enterAnimation?at.enterAnimation:Q.c.get(it,"ios"===Pn?It:$t);(yield ue(at,vn,at.el,mn))&&(at.didPresent.emit(),null===(nn=at.didPresentShorthand)||void 0===nn||nn.emit()),"ION-TOAST"!==at.el.tagName&&zt(at.el),at.keyboardClose&&(null===document.activeElement||!at.el.contains(document.activeElement))&&at.el.focus()});return function(it,It,$t,mn,fn){return pt.apply(this,arguments)}}(),zt=function(){var pt=(0,u.Z)(function*(at){let it=document.activeElement;if(!it)return;const It=null==it?void 0:it.shadowRoot;It&&(it=It.querySelector(Fe)||it),yield at.onDidDismiss(),it.focus()});return function(it){return pt.apply(this,arguments)}}(),tt=function(){var pt=(0,u.Z)(function*(at,it,It,$t,mn,fn,nn){var Pn,vn;if(!at.presented)return!1;void 0!==U.d&&1===Be(U.d).length&&At(!1),at.presented=!1;try{at.el.style.setProperty("pointer-events","none"),at.willDismiss.emit({data:it,role:It}),null===(Pn=at.willDismissShorthand)||void 0===Pn||Pn.emit({data:it,role:It});const cr=(0,Q.b)(at),Ut=at.leaveAnimation?at.leaveAnimation:Q.c.get($t,"ios"===cr?mn:fn);It!==bt&&(yield ue(at,Ut,at.el,nn)),at.didDismiss.emit({data:it,role:It}),null===(vn=at.didDismissShorthand)||void 0===vn||vn.emit({data:it,role:It}),Ie.delete(at),at.el.classList.add("overlay-hidden"),at.el.style.removeProperty("pointer-events"),void 0!==at.el.lastFocus&&(at.el.lastFocus=void 0)}catch(cr){console.error(cr)}return at.el.remove(),!0});return function(it,It,$t,mn,fn,nn,Pn){return pt.apply(this,arguments)}}(),Ae=pt=>pt.querySelector("ion-app")||pt.body,ue=function(){var pt=(0,u.Z)(function*(at,it,It,$t){It.classList.remove("overlay-hidden");const fn=it(at.el,$t);(!at.animated||!Q.c.getBoolean("animated",!0))&&fn.duration(0),at.keyboardClose&&fn.beforeAddWrite(()=>{const Pn=It.ownerDocument.activeElement;null!=Pn&&Pn.matches("input,ion-input, ion-textarea")&&Pn.blur()});const nn=Ie.get(at)||[];return Ie.set(at,[...nn,fn]),yield fn.play(),!0});return function(it,It,$t,mn){return pt.apply(this,arguments)}}(),be=(pt,at)=>{let it;const It=new Promise($t=>it=$t);return ve(pt,at,$t=>{it($t.detail)}),It},ve=(pt,at,it)=>{const It=$t=>{(0,se.b)(pt,at,It),it($t)};(0,se.a)(pt,at,It)},qe=pt=>"cancel"===pt||pt===Dt,Ye=pt=>pt(),Et=(pt,at)=>{if("function"==typeof pt)return Q.c.get("_zoneGate",Ye)(()=>{try{return pt(at)}catch(It){throw It}})},Dt="backdrop",bt="gesture",lt=39,Ht=pt=>{let it,at=!1;const It=(0,J.C)(),$t=(nn=!1)=>{if(it&&!nn)return{delegate:it,inline:at};const{el:Pn,hasController:vn,delegate:cr}=pt;return at=null!==Pn.parentNode&&!vn,it=at?cr||It:cr,{inline:at,delegate:it}};return{attachViewToDom:function(){var nn=(0,u.Z)(function*(Pn){const{delegate:vn}=$t(!0);if(vn)return yield vn.attachViewToDom(pt.el,Pn);const{hasController:cr}=pt;if(cr&&void 0!==Pn)throw new Error("framework delegate is missing");return null});return function(vn){return nn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:nn}=$t();nn&&void 0!==pt.el&&nn.removeViewFromDom(pt.el.parentElement,pt.el)}}},Dn=()=>{let pt;const at=()=>{pt&&(pt(),pt=void 0)};return{addClickListener:(It,$t)=>{at();const mn=void 0!==$t?document.getElementById($t):null;mn?pt=((nn,Pn)=>{const vn=()=>{Pn.present()};return nn.addEventListener("click",vn),()=>{nn.removeEventListener("click",vn)}})(mn,It):(0,pe.p)(`A trigger element with the ID "${$t}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,It)},removeClickListener:at}}},4562:(Wt,et,N)=>{"use strict";N.d(et,{C:()=>Ky});var u=N(9212),U=N(1180),Q=N(6814),J=N(1920),Me=N(7217),se=N(9949),pe=N(6321),We=N(5592),je=N(2459),Ie=N(2096),ce=N(7921),Ne=N(9360),$e=N(8251);function Re(){return(0,Ne.e)((i,e)=>{let r,s=!1;i.subscribe((0,$e.x)(e,l=>{const d=r;r=l,s&&e.next([d,l]),s=!0}))})}var ae,Pe=N(7398),nt=N(6699),xe=N(3997),Le=N(2181),ht=(N(6230),N(3106)),le=N(5861),Fe=N(534),Oe=N(4537),we=N(7879),ee=N(9058),ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re={},Ke=Ke||{},Be=ge||self;function rt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function At(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var zt="closure_uid_"+(1e9*Math.random()>>>0),tt=0;function Ae(i,e,r){return i.call.apply(i.bind,arguments)}function ue(i,e,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function be(i,e,r){return(be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ae:ue).apply(null,arguments)}function ve(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function qe(i,e){function r(){}r.prototype=e.prototype,i.$=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.ac=function(s,l,d){for(var g=Array(arguments.length-2),b=2;b<arguments.length;b++)g[b-2]=arguments[b];return e.prototype[l].apply(s,g)}}function Ye(){this.s=this.s,this.o=this.o}Ye.prototype.s=!1,Ye.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function tn(i){Object.prototype.hasOwnProperty.call(i,zt)&&i[zt]||(i[zt]=++tt)}(this)},Ye.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1};function bt(i){const e=i.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=i[s];return r}return[]}function lt(i,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(rt(s)){const l=i.length||0,d=s.length||0;i.length=l+d;for(let g=0;g<d;g++)i[l+g]=s[g]}else i.push(s)}}function Ht(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var Dn=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const r=()=>{};Be.addEventListener("test",r,e),Be.removeEventListener("test",r,e)}catch{}return i}();function pt(i){return/^[\s\xa0]*$/.test(i)}function at(){var i=Be.navigator;return i&&(i=i.userAgent)?i:""}function it(i){return-1!=at().indexOf(i)}function It(i){return It[" "](i),i}It[" "]=function(){};var En,i,mn=it("Opera"),fn=it("Trident")||it("MSIE"),nn=it("Edge"),Pn=nn||fn,vn=it("Gecko")&&!(-1!=at().toLowerCase().indexOf("webkit")&&!it("Edge"))&&!(it("Trident")||it("MSIE"))&&!it("Edge"),cr=-1!=at().toLowerCase().indexOf("webkit")&&!it("Edge");function Ut(){var i=Be.document;return i?i.documentMode:void 0}e:{var _n="",qn=(i=at(),vn?/rv:([^\);]+)(\)|;)/.exec(i):nn?/Edge\/([\d\.]+)/.exec(i):fn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):cr?/WebKit\/(\S+)/.exec(i):mn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(qn&&(_n=qn?qn[1]:""),fn){var nr=Ut();if(null!=nr&&nr>parseFloat(_n)){En=String(nr);break e}}En=_n}var bn=Be.document&&fn&&(Ut()||parseInt(En,10))||void 0;function Br(i,e){if(Ht.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(vn){e:{try{It(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Xn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Br.$.h.call(this)}}qe(Br,Ht);var Xn={2:"touch",3:"pen",4:"mouse"};Br.prototype.h=function(){Br.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var wr="closure_listenable_"+(1e6*Math.random()|0),On=0;function lr(i,e,r,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=l,this.key=++On,this.fa=this.ia=!1}function Wr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function An(i,e,r){for(const s in i)e.call(r,i[s],s,i)}function qr(i){const e={};for(const r in i)e[r]=i[r];return e}const Yr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ur(i,e){let r,s;for(let l=1;l<arguments.length;l++){for(r in s=arguments[l],s)i[r]=s[r];for(let d=0;d<Yr.length;d++)r=Yr[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function ri(i){this.src=i,this.g={},this.h=0}function jr(i,e){var r=e.type;if(r in i.g){var d,s=i.g[r],l=Dt(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(Wr(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Kr(i,e,r,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return l}return-1}ri.prototype.add=function(i,e,r,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=Kr(i,e,s,l);return-1<g?(e=i[g],r||(e.ia=!1)):((e=new lr(e,this.src,d,!!s,l)).ia=r,i.push(e)),e};var mr="closure_lm_"+(1e6*Math.random()|0),ai={};function te(i,e,r,s,l){if(s&&s.once)return de(i,e,r,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)te(i,e[d],r,s,l);return null}return r=ur(r),i&&i[wr]?i.O(e,r,At(s)?!!s.capture:!!s,l):H(i,e,r,!1,s,l)}function H(i,e,r,s,l,d){if(!e)throw Error("Invalid event type");var g=At(l)?!!l.capture:!!l,b=xn(i);if(b||(i[mr]=b=new ri(i)),(r=b.add(e,r,s,g,d)).proxy)return r;if(s=function oe(){const e=Gt;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)Dn||(l=g),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(Tt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function de(i,e,r,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)de(i,e[d],r,s,l);return null}return r=ur(r),i&&i[wr]?i.P(e,r,At(s)?!!s.capture:!!s,l):H(i,e,r,!0,s,l)}function he(i,e,r,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)he(i,e[d],r,s,l);else s=At(s)?!!s.capture:!!s,r=ur(r),i&&i[wr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=Kr(d=i.g[e],r,s,l))&&(Wr(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=xn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Kr(e,r,s,l)),(r=-1<i?e[i]:null)&&ot(r))}function ot(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[wr])jr(e.i,i);else{var r=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(r,s,i.capture):e.detachEvent?e.detachEvent(Tt(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=xn(e))?(jr(r,i),0==r.h&&(r.src=null,e[mr]=null)):Wr(i)}}}function Tt(i){return i in ai?ai[i]:ai[i]="on"+i}function Gt(i,e){if(i.fa)i=!0;else{e=new Br(e,this);var r=i.listener,s=i.la||i.src;i.ia&&ot(i),i=r.call(s,e)}return i}function xn(i){return(i=i[mr])instanceof ri?i:null}var Vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ur(i){return"function"==typeof i?i:(i[Vn]||(i[Vn]=function(e){return i.handleEvent(e)}),i[Vn])}function Xt(){Ye.call(this),this.i=new ri(this),this.S=this,this.J=null}function qt(i,e){var r,s=i.J;if(s)for(r=[];s;s=s.J)r.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Ht(e,i);else if(e instanceof Ht)e.target=e.target||i;else{var l=e;Ur(e=new Ht(s,i),l)}if(l=!0,r)for(var d=r.length-1;0<=d;d--){var g=e.g=r[d];l=li(g,s,!0,e)&&l}if(l=li(g=e.g=i,s,!0,e)&&l,l=li(g,s,!1,e)&&l,r)for(d=0;d<r.length;d++)l=li(g=e.g=r[d],s,!1,e)&&l}function li(i,e,r,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.fa&&g.capture==r){var b=g.listener,R=g.la||g.src;g.ia&&jr(i.i,g),l=!1!==b.call(R,s)&&l}}return l&&!s.defaultPrevented}qe(Xt,Ye),Xt.prototype[wr]=!0,Xt.prototype.removeEventListener=function(i,e,r,s){he(this,i,e,r,s)},Xt.prototype.N=function(){if(Xt.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],s=0;s<r.length;s++)Wr(r[s]);delete i.g[e],i.h--}}this.J=null},Xt.prototype.O=function(i,e,r,s){return this.i.add(String(i),e,!1,r,s)},Xt.prototype.P=function(i,e,r,s){return this.i.add(String(i),e,!0,r,s)};var Pr=Be.JSON.stringify;function yt(){var i=rr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var xt=new class Bi{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new on,i=>i.reset());class on{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Sn(i){var e=1;i=i.split(":");const r=[];for(;0<e&&i.length;)r.push(i.shift()),e--;return i.length&&r.push(i.join(":")),r}function Cn(i){Be.setTimeout(()=>{throw i},0)}let $n,Dr=!1,rr=new class Xe{constructor(){this.h=this.g=null}add(e,r){const s=xt.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},Cr=()=>{const i=Be.Promise.resolve(void 0);$n=()=>{i.then(_i)}};var _i=()=>{for(var i;i=yt();){try{i.h.call(i.g)}catch(r){Cn(r)}var e=xt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Dr=!1};function Ci(i,e){Xt.call(this),this.h=i||1,this.g=e||Be,this.j=be(this.qb,this),this.l=Date.now()}function br(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Bn(i,e,r){if("function"==typeof i)r&&(i=be(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=be(i.handleEvent,i)}return 2147483647<Number(e)?-1:Be.setTimeout(i,e||0)}function ui(i){i.g=Bn(()=>{i.g=null,i.i&&(i.i=!1,ui(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}qe(Ci,Xt),(ae=Ci.prototype).ga=!1,ae.T=null,ae.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qt(this,"tick"),this.ga&&(br(this),this.start()))}},ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ae.N=function(){Ci.$.N.call(this),br(this),delete this.g};class Ar extends Ye{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(i){Ye.call(this),this.h=i,this.g={}}qe(kn,Ye);var pr=[];function Ee(i,e,r,s){Array.isArray(r)||(r&&(pr[0]=r.toString()),r=pr);for(var l=0;l<r.length;l++){var d=te(e,r[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function me(i){An(i.g,function(e,r){this.g.hasOwnProperty(r)&&ot(e)},i),i.g={}}function z(){this.g=!0}function wt(i,e,r,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function en(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<l.length;g++)l[g]=""}}}return Pr(r)}catch{return e}}(i,r)+(s?" "+s:"")})}kn.prototype.N=function(){kn.$.N.call(this),me(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},z.prototype.Ea=function(){this.g=!1},z.prototype.info=function(){};var In={},Fn=null;function xr(){return Fn=Fn||new Xt}function L(i){Ht.call(this,In.Ta,i)}function G(i){const e=xr();qt(e,new L(e))}function Se(i,e){Ht.call(this,In.STAT_EVENT,i),this.stat=e}function Ve(i){const e=xr();qt(e,new Se(e,i))}function gt(i,e){Ht.call(this,In.Ua,i),this.size=e}function Je(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){i()},e)}In.Ta="serverreachability",qe(L,Ht),In.STAT_EVENT="statevent",qe(Se,Ht),In.Ua="timingevent",qe(gt,Ht);var St={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vt(){}function Qt(){}Vt.prototype.h=null;var Ir,pn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dn(){Ht.call(this,"d")}function Jn(){Ht.call(this,"c")}function C(){}function Z(i,e,r,s){this.l=i,this.j=e,this.m=r,this.W=s||1,this.U=new kn(this),this.P=X,this.V=new Ci(i=Pn?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new M}function M(){this.i=null,this.g="",this.h=!1}qe(dn,Ht),qe(Jn,Ht),qe(C,Vt),C.prototype.g=function(){return new XMLHttpRequest},C.prototype.i=function(){return{}},Ir=new C;var X=45e3,Qe={},Un={};function Zr(i,e,r){i.L=1,i.A=bs(lo(e)),i.u=r,i.S=!0,Hr(i,null)}function Hr(i,e){i.G=Date.now(),no(i),i.B=lo(i.A);var r=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),jo(r.i,"t",s),i.o=0,r=i.l.J,i.h=new M,i.g=su(i.l,r?e:null,!i.u),0<i.O&&(i.M=new Ar(be(i.Pa,i,i.g),i.O)),Ee(i.U,i.g,"readystatechange",i.nb),e=i.I?qr(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),G(),function ye(i,e,r,s,l,d){i.info(function(){if(i.g)if(d)for(var g="",b=d.split("&"),R=0;R<b.length;R++){var B=b[R].split("=");if(1<B.length){var K=B[0];B=B[1];var De=K.split("_");g=2<=De.length&&"type"==De[1]?g+(K+"=")+B+"&":g+(K+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+r+"\n"+g})}(i.j,i.v,i.B,i.m,i.W,i.u)}function Io(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function $o(i,e,r){let l,s=!0;for(;!i.J&&i.o<r.length;){if(l=Eo(i,r),l==Un){4==e&&(i.s=4,Ve(14),s=!1),wt(i.j,i.m,null,"[Incomplete Response]");break}if(l==Qe){i.s=4,Ve(15),wt(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}wt(i.j,i.m,l,null),Ro(i,l)}Io(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=r.length||i.h.h||(i.s=1,Ve(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Ra(e),e.M=!0,Ve(11))):(wt(i.j,i.m,r,"[Invalid Chunked Response]"),ro(i),ir(i))}function Eo(i,e){var r=i.o,s=e.indexOf("\n",r);return-1==s?Un:(r=Number(e.substring(r,s)),isNaN(r)?Qe:(s+=1)+r>e.length?Un:(e=e.slice(s,s+r),i.o=s+r,e))}function no(i){i.Y=Date.now()+i.P,ao(i,i.P)}function ao(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=Je(be(i.lb,i),e)}function Mi(i){i.C&&(Be.clearTimeout(i.C),i.C=null)}function ir(i){0==i.l.H||i.J||ha(i.l,i)}function ro(i){Mi(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,br(i.V),me(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Ro(i,e){try{var r=i.l;if(0!=r.H&&(r.g==i||ts(r.i,i)))if(!i.K&&ts(r.i,i)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<i.G))break e;da(r),zo(r)}fo(r),Ve(18)}}else r.Fa=l[1],0<r.Fa-r.V&&37500>l[2]&&r.G&&0==r.A&&!r.v&&(r.v=Je(be(r.ib,r),6e3));if(1>=xi(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Rs(r,11)}else if((i.K||r.g==i)&&da(r),!pt(e))for(l=r.Ja.g.parse(e),e=0;e<l.length;e++){let B=l[e];if(r.V=B[0],B=B[1],2==r.H)if("c"==B[0]){r.K=B[1],r.pa=B[2];const K=B[3];null!=K&&(r.ra=K,r.l.info("VER="+r.ra));const De=B[4];null!=De&&(r.Ga=De,r.l.info("SVER="+r.Ga));const Ze=B[5];null!=Ze&&"number"==typeof Ze&&0<Ze&&(r.L=s=1.5*Ze,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const mt=i.g;if(mt){const Jt=mt.g?mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jt){var d=s.i;d.g||-1==Jt.indexOf("spdy")&&-1==Jt.indexOf("quic")&&-1==Jt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(ns(d,d.h),d.h=null))}if(s.F){const un=mt.g?mt.g.getResponseHeader("X-HTTP-Session-Id"):null;un&&(s.Da=un,Qr(s.I,s.F,un))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-i.G,r.l.info("Handshake RTT: "+r.S+"ms"));var g=i;if((s=r).wa=Cc(s,s.J?s.pa:null,s.Y),g.K){rs(s.i,g);var b=g,R=s.L;R&&b.setTimeout(R),b.C&&(Mi(b),no(b)),s.g=g}else Ka(s);0<r.j.length&&To(r)}else"stop"!=B[0]&&"close"!=B[0]||Rs(r,7);else 3==r.H&&("stop"==B[0]||"close"==B[0]?"stop"==B[0]?Rs(r,7):ms(r):"noop"!=B[0]&&r.h&&r.h.Aa(B),r.A=0)}G()}catch{}}function Mo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(rt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var r=function ua(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(rt(i)||"string"==typeof i){var e=[];i=i.length;for(var r=0;r<i;r++)e.push(r);return e}e=[],r=0;for(const s in i)e[r++]=s;return e}}}(i),s=function la(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(rt(i)){for(var e=[],r=i.length,s=0;s<r;s++)e.push(i[s]);return e}for(s in e=[],r=0,i)e[r++]=i[s];return e}(i),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],r&&r[d],i)}(ae=Z.prototype).setTimeout=function(i){this.P=i},ae.nb=function(i){i=i.target;const e=this.M;e&&3==oi(i)?e.l():this.Pa(i)},ae.Pa=function(i){try{if(i==this.g)e:{const K=oi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>K)&&(3!=K||Pn||this.g&&(this.h.h||this.g.ja()||gs(this.g)))){this.J||4!=K||7==e||G(),Mi(this);var r=this.g.da();this.ca=r;t:if(Io(this)){var s=gs(this.g);i="";var l=s.length,d=4==oi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ro(this),ir(this);var g="";break t}this.h.i=new Be.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.length=0,this.h.g+=i,this.o=0,g=this.h.g}else g=this.g.ja();if(this.i=200==r,function ze(i,e,r,s,l,d,g){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+r+"\n"+d+" "+g})}(this.j,this.v,this.B,this.m,this.W,K,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,R=this.g;if((b=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(b)){var B=b;break t}}B=null}if(!(r=B)){this.i=!1,this.s=3,Ve(12),ro(this),ir(this);break e}wt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ro(this,r)}this.S?($o(this,K,g),Pn&&this.i&&3==K&&(Ee(this.U,this.V,"tick",this.mb),this.V.start())):(wt(this.j,this.m,g,null),Ro(this,g)),4==K&&ro(this),this.i&&!this.J&&(4==K?ha(this.l,this):(this.i=!1,no(this)))}else(function Ho(i){const e={};i=(i.g&&2<=oi(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(pt(i[s]))continue;var r=Sn(i[s]);const l=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[l]||[];e[l]=d,d.push(r)}!function Ln(i,e){for(const r in i)e.call(void 0,i[r],r,i)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<g.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),ro(this),ir(this)}}}catch{}},ae.mb=function(){if(this.g){var i=oi(this.g),e=this.g.ja();this.o<e.length&&(Mi(this),$o(this,i,e),this.i&&4!=i&&no(this))}},ae.cancel=function(){this.J=!0,ro(this)},ae.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function Zt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(G(),Ve(17)),ro(this),this.s=2,ir(this)):ao(this,this.Y-i)};var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bo(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Bo){this.h=i.h,Yi(this,i.j),this.s=i.s,this.g=i.g,js(this,i.m),this.l=i.l;var e=i.i,r=new uo;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),ji(this,r),this.o=i.o}else i&&(e=String(i).match(Jo))?(this.h=!1,Yi(this,e[1]||"",!0),this.s=es(e[2]||""),this.g=es(e[3]||"",!0),js(this,e[4]),this.l=es(e[5]||"",!0),ji(this,e[6]||"",!0),this.o=es(e[7]||"")):(this.h=!1,this.i=new uo(null,this.h))}function lo(i){return new Bo(i)}function Yi(i,e,r){i.j=r?es(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function js(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ji(i,e,r){e instanceof uo?(i.i=e,function Aa(i,e){e&&!i.j&&(fs(i),i.i=null,i.g.forEach(function(r,s){var l=s.toLowerCase();s!=l&&(As(this,s),jo(this,l,r))},i)),i.j=e}(i.i,i.h)):(r||(e=hs(e,zs)),i.i=new uo(e,i.h))}function Qr(i,e,r){i.i.set(e,r)}function bs(i){return Qr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function es(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function hs(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,Cl),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Cl(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Bo.prototype.toString=function(){var i=[],e=this.j;e&&i.push(hs(e,Tl,!0),":");var r=this.g;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(hs(e,Tl,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&i.push("/"),i.push(hs(r,"/"==r.charAt(0)?Hs:Uo,!0))),(r=this.i.toString())&&i.push("?",r),(r=this.o)&&i.push("#",hs(r,Ou)),i.join("")};var Tl=/[#\/\?@]/g,Uo=/[#\?:]/g,Hs=/[#\?]/g,zs=/[#\?@]/g,Ou=/#/g;function uo(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function fs(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ui(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),l=null;if(0<=s){var d=i[r].substring(0,s);l=i[r].substring(s+1)}else d=i[r];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function As(i,e){fs(i),e=Hi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function zr(i,e){return fs(i),e=Hi(i,e),i.g.has(e)}function jo(i,e,r){As(i,e),0<r.length&&(i.i=null,i.g.set(Hi(i,e),bt(r)),i.h+=r.length)}function Hi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(ae=uo.prototype).add=function(i,e){fs(this),this.i=null,i=Hi(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},ae.forEach=function(i,e){fs(this),this.g.forEach(function(r,s){r.forEach(function(l){i.call(e,l,s,this)},this)},this)},ae.ta=function(){fs(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const l=i[s];for(let d=0;d<l.length;d++)r.push(e[s])}return r},ae.Z=function(i){fs(this);let e=[];if("string"==typeof i)zr(this,i)&&(e=e.concat(this.g.get(Hi(this,i))));else{i=Array.from(this.g.values());for(let r=0;r<i.length;r++)e=e.concat(i[r])}return e},ae.set=function(i,e){return fs(this),this.i=null,zr(this,i=Hi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ae.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),g=this.Z(s);for(s=0;s<g.length;s++){var l=d;""!==g[s]&&(l+="="+encodeURIComponent(String(g[s]))),i.push(l)}}return this.i=i.join("&")};var or=class{constructor(i,e){this.g=i,this.map=e}};function ii(i){this.l=i||Pi,i=Be.PerformanceNavigationTiming?0<(i=Be.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Be.g&&Be.g.Ka&&Be.g.Ka()&&Be.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pi=10;function Ti(i){return!!i.h||!!i.g&&i.g.size>=i.j}function xi(i){return i.h?1:i.g?i.g.size:0}function ts(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ns(i,e){i.g?i.g.add(e):i.h=e}function rs(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Sa(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.F);return e}return bt(i.i)}ii.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var co=class{stringify(i){return Be.JSON.stringify(i,void 0)}parse(i){return Be.JSON.parse(i,void 0)}};function Vr(){this.g=new co}function Yt(i,e,r){const s=r||"";try{Mo(i,function(l,d){let g=l;At(l)&&(g=Pr(l)),e.push(s+d+"="+encodeURIComponent(g))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Or(i,e,r,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function zi(i){this.l=i.ec||null,this.j=i.ob||!1}function yi(i,e){Xt.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Do,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qe(zi,Vt),zi.prototype.g=function(){return new yi(this.l,this.j)},zi.prototype.i=function(i){return function(){return i}}({}),qe(yi,Xt);var Do=0;function ps(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function jn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ii(i)}function Ii(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ae=yi.prototype).open=function(i,e){if(this.readyState!=Do)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ii(this)},ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Be).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jn(this)),this.readyState=Do},ae.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Be.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ps(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ae.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?jn(this):Ii(this),3==this.readyState&&ps(this)}},ae.Za=function(i){this.g&&(this.response=this.responseText=i,jn(this))},ae.Ya=function(i){this.g&&(this.response=i,jn(this))},ae.ka=function(){this.g&&jn(this)},ae.setRequestHeader=function(i,e){this.v.append(i,e)},ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var V=Be.JSON.parse;function A(i){Xt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ne,this.L=this.M=!1}qe(A,Xt);var ne="",$=/^https?$/i,_e=["POST","PUT"];function Rn(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Nr(i),Gi(i)}function Nr(i){i.F||(i.F=!0,qt(i,"complete"),qt(i,"error"))}function ti(i){if(i.h&&typeof Ke<"u"&&(!i.C[1]||4!=oi(i)||2!=i.da()))if(i.v&&4==oi(i))Bn(i.La,0,i);else if(qt(i,"readystatechange"),4==oi(i)){i.h=!1;try{const g=i.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===g){var l=String(i.I).match(Jo)[1]||null;!l&&Be.self&&Be.self.location&&(l=Be.self.location.protocol.slice(0,-1)),s=!$.test(l?l.toLowerCase():"")}r=s}if(r)qt(i,"complete"),qt(i,"success");else{i.m=6;try{var d=2<oi(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",Nr(i)}}finally{Gi(i)}}}function Gi(i,e){if(i.g){ho(i);const r=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||qt(i,"ready");try{r.onreadystatechange=s}catch{}}}function ho(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Be.clearTimeout(i.A),i.A=null)}function oi(i){return i.g?i.g.readyState:0}function gs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case ne:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function zn(i){let e="";return An(i,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function Ss(i,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=zn(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Qr(i,e,r))}function Wi(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Co(i){this.Ga=0,this.j=[],this.l=new z,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wi("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wi("baseRetryDelayMs",5e3,i),this.hb=Wi("retryDelaySeedMs",1e4,i),this.eb=Wi("forwardChannelMaxRetries",2,i),this.xa=Wi("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new ii(i&&i.concurrentRequestLimit),this.Ja=new Vr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ms(i){if(si(i),3==i.H){var e=i.W++,r=lo(i.I);if(Qr(r,"SID",i.K),Qr(r,"RID",e),Qr(r,"TYPE","terminate"),ca(i,r),(e=new Z(i,i.l,e)).L=2,e.A=bs(lo(r)),r=!1,Be.navigator&&Be.navigator.sendBeacon)try{r=Be.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&Be.Image&&((new Image).src=e.A,r=!0),r||(e.g=su(e.l,null),e.g.ha(e.A)),e.G=Date.now(),no(e)}bl(i)}function zo(i){i.g&&(Ra(i),i.g.cancel(),i.g=null)}function si(i){zo(i),i.u&&(Be.clearTimeout(i.u),i.u=null),da(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Be.clearTimeout(i.m),i.m=null)}function To(i){if(!Ti(i.i)&&!i.m){i.m=!0;var e=i.Na;$n||Cr(),Dr||($n(),Dr=!0),rr.add(e,i),i.C=0}}function ci(i,e){var r;r=e?e.m:i.W++;const s=lo(i.I);Qr(s,"SID",i.K),Qr(s,"RID",r),Qr(s,"AID",i.V),ca(i,s),i.o&&i.s&&Ss(s,i.o,i.s),r=new Z(i,i.l,r,i.C+1),null===i.o&&(r.I=i.s),e&&(i.j=e.F.concat(i.j)),e=is(i,r,1e3),r.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ns(i.i,r),Zr(r,s,e)}function ca(i,e){i.na&&An(i.na,function(r,s){Qr(e,s,r)}),i.h&&Mo({},function(r,s){Qr(e,s,r)})}function is(i,e,r){r=Math.min(i.j.length,r);var s=i.h?be(i.h.Va,i.h,i):null;e:{var l=i.j;let d=-1;for(;;){const g=["count="+r];-1==d?0<r?(d=l[0].g,g.push("ofs="+d)):d=0:g.push("ofs="+d);let b=!0;for(let R=0;R<r;R++){let B=l[R].g;const K=l[R].map;if(B-=d,0>B)d=Math.max(0,l[R].g-100),b=!1;else try{Yt(K,g,"req"+B+"_")}catch{s&&s(K)}}if(b){s=g.join("&");break e}}}return i=i.j.splice(0,r),e.F=i,s}function Ka(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;$n||Cr(),Dr||($n(),Dr=!0),rr.add(e,i),i.A=0}}function fo(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Je(be(i.Ma,i),wl(i,i.A)),i.A++,0))}function Ra(i){null!=i.B&&(Be.clearTimeout(i.B),i.B=null)}function Za(i){i.g=new Z(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=lo(i.wa);Qr(e,"RID","rpc"),Qr(e,"SID",i.K),Qr(e,"AID",i.V),Qr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Qr(e,"TO",i.qa),Qr(e,"TYPE","xmlhttp"),ca(i,e),i.o&&i.s&&Ss(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var r=i.g;i=i.pa,r.L=1,r.A=bs(lo(e)),r.u=null,r.S=!0,Hr(r,i)}function da(i){null!=i.v&&(Be.clearTimeout(i.v),i.v=null)}function ha(i,e){var r=null;if(i.g==e){da(i),Ra(i),i.g=null;var s=2}else{if(!ts(i.i,e))return;r=e.F,rs(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var l=i.C;qt(s=xr(),new gt(s,r)),To(i)}else Ka(i);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==s&&function Ki(i,e){return!(xi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Je(be(i.Na,i,e),wl(i,i.C)),i.C++,0)))}(i,e)||2==s&&fo(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),l){case 1:Rs(i,5);break;case 4:Rs(i,10);break;case 3:Rs(i,6);break;default:Rs(i,2)}}function wl(i,e){let r=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(r*=2),r*e}function Rs(i,e){if(i.l.info("Error code "+e),2==e){var r=null;i.h&&(r=null);var s=be(i.pb,i);r||(r=new Bo("//www.google.com/images/cleardot.gif"),Be.location&&"http"==Be.location.protocol||Yi(r,"https"),bs(r)),function Nn(i,e){const r=new z;if(Be.Image){const s=new Image;s.onload=ve(Or,r,s,"TestLoadImage: loaded",!0,e),s.onerror=ve(Or,r,s,"TestLoadImage: error",!1,e),s.onabort=ve(Or,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=ve(Or,r,s,"TestLoadImage: timeout",!1,e),Be.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(r.toString(),s)}else Ve(2);i.H=0,i.h&&i.h.za(e),bl(i),si(i)}function bl(i){if(i.H=0,i.ma=[],i.h){const e=Sa(i.i);(0!=e.length||0!=i.j.length)&&(lt(i.ma,e),lt(i.ma,i.j),i.i.i.length=0,bt(i.j),i.j.length=0),i.h.ya()}}function Cc(i,e,r){var s=r instanceof Bo?lo(r):new Bo(r);if(""!=s.g)e&&(s.g=e+"."+s.g),js(s,s.m);else{var l=Be.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new Bo(null);s&&Yi(d,s),e&&(d.g=e),l&&js(d,l),r&&(d.l=r),s=d}return e=i.Da,(r=i.F)&&e&&Qr(s,r,e),Qr(s,"VER",i.ra),ca(i,s),s}function su(i,e,r){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new A(i.Ha&&!i.va?new zi({ob:r}):i.va)).Oa(i.J),e}function Tc(){}function au(){if(fn&&!(10<=Number(bn)))throw Error("Environmental error: no available transport.")}function po(i,e){Xt.call(this),this.g=new Co(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!pt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Qa(this)}function Hd(i){dn.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function lu(){Jn.call(this),this.status=1}function Qa(i){this.g=i}function vs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function T(i,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(l=0;16>l;++l)s[l]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=i.g[3],g=(e=i.g[0])+(d^(r=i.g[1])&((l=i.g[2])^d))+s[0]+3614090360&4294967295;g=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=r+(g<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(l^d&(r^l))+s[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(r^l^d)+s[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(l^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((d=(e=r+((g=e+(l^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((l=d+((g=l+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(g<<21&4294967295|g>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+d&4294967295}function k(i,e){this.h=e;for(var r=[],s=!0,l=i.length-1;0<=l;l--){var d=0|i[l];s&&d==e||(r[l]=d,s=!1)}this.g=r}(ae=A.prototype).Oa=function(i){this.M=i},ae.ha=function(i,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ir.g(),this.C=function Pt(i){return i.h||(i.h=i.i())}(this.u?this.u:Ir),this.g.onreadystatechange=be(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void Rn(this,d)}if(i=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)r.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),l=Be.FormData&&i instanceof Be.FormData,!(0<=Dt(_e,e))||s||l||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of r)this.g.setRequestHeader(d,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ho(this),0<this.B&&((this.L=function Rt(i){return fn&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=be(this.ua,this)):this.A=Bn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Rn(this,d)}},ae.ua=function(){typeof Ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qt(this,"timeout"),this.abort(8))},ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,qt(this,"complete"),qt(this,"abort"),Gi(this))},ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gi(this,!0)),A.$.N.call(this)},ae.La=function(){this.s||(this.G||this.v||this.l?ti(this):this.kb())},ae.kb=function(){ti(this)},ae.isActive=function(){return!!this.g},ae.da=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ae.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),V(e)}},ae.Ia=function(){return this.m},ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ae=Co.prototype).ra=8,ae.H=1,ae.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Z(this,this.l,i);let d=this.s;if(this.U&&(d?(d=qr(d),Ur(d,this.U)):d=this.U),null!==this.o||this.O||(l.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=is(this,l,e),Qr(r=lo(this.I),"RID",i),Qr(r,"CVER",22),this.F&&Qr(r,"X-HTTP-Session-Id",this.F),ca(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(zn(d)))+"&"+e:this.o&&Ss(r,this.o,d)),ns(this.i,l),this.bb&&Qr(r,"TYPE","init"),this.P?(Qr(r,"$req",e),Qr(r,"SID","null"),l.aa=!0,Zr(l,r,null)):Zr(l,r,e),this.H=2}}else 3==this.H&&(i?ci(this,i):0==this.j.length||Ti(this.i)||ci(this))},ae.Ma=function(){if(this.u=null,Za(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Je(be(this.jb,this),i)}},ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ve(10),zo(this),Za(this))},ae.ib=function(){null!=this.v&&(this.v=null,zo(this),fo(this),Ve(19))},ae.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Ve(2)):(this.l.info("Failed to ping google.com"),Ve(1))},ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(ae=Tc.prototype).Ba=function(){},ae.Aa=function(){},ae.za=function(){},ae.ya=function(){},ae.isActive=function(){return!0},ae.Va=function(){},au.prototype.g=function(i,e){return new po(i,e)},qe(po,Xt),po.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,r=this.h||void 0;Ve(0),i.Y=e,i.na=r||{},i.G=i.aa,i.I=Cc(i,null,i.Y),To(i)},po.prototype.close=function(){ms(this.g)},po.prototype.u=function(i){var e=this.g;if("string"==typeof i){var r={};r.__data__=i,i=r}else this.v&&((r={}).__data__=Pr(i),i=r);e.j.push(new or(e.fb++,i)),3==e.H&&To(e)},po.prototype.N=function(){this.g.h=null,delete this.j,ms(this.g),delete this.g,po.$.N.call(this)},qe(Hd,dn),qe(lu,Jn),qe(Qa,Tc),Qa.prototype.Ba=function(){qt(this.g,"a")},Qa.prototype.Aa=function(i){qt(this.g,new Hd(i))},Qa.prototype.za=function(i){qt(this.g,new lu)},Qa.prototype.ya=function(){qt(this.g,"b")},qe(vs,function Ma(){this.blockSize=-1}),vs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vs.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var r=e-this.blockSize,s=this.m,l=this.h,d=0;d<e;){if(0==l)for(;d<=r;)T(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(s[l++]=i.charCodeAt(d++),l==this.blockSize){T(this,s),l=0;break}}else for(;d<e;)if(s[l++]=i[d++],l==this.blockSize){T(this,s),l=0;break}}this.h=l,this.i+=e},vs.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var r=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&r,r/=256;for(this.j(i),i=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)i[r++]=this.g[e]>>>s&255;return i};var Ce={};function O(i){return-128<=i&&128>i?function $t(i,e){var r=Ce;return Object.prototype.hasOwnProperty.call(r,i)?r[i]:r[i]=e(i)}(i,function(e){return new k([0|e],0>e?-1:0)}):new k([0|i],0>i?-1:0)}function ie(i){if(isNaN(i)||!isFinite(i))return jt;if(0>i)return Yn(ie(-i));for(var e=[],r=1,s=0;i>=r;s++)e[s]=i/r|0,r*=Ct;return new k(e,0)}var Ct=4294967296,jt=O(0),Gn=O(1),dr=O(16777216);function er(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Hn(i){return-1==i.h}function Yn(i){for(var e=i.g.length,r=[],s=0;s<e;s++)r[s]=~i.g[s];return new k(r,~i.h).add(Gn)}function Er(i,e){return i.add(Yn(e))}function di(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function go(i,e){this.g=i,this.h=e}function mo(i,e){if(er(e))throw Error("division by zero");if(er(i))return new go(jt,jt);if(Hn(i))return e=mo(Yn(i),e),new go(Yn(e.g),Yn(e.h));if(Hn(e))return e=mo(i,Yn(e)),new go(Yn(e.g),e.h);if(30<i.g.length){if(Hn(i)||Hn(e))throw Error("slowDivide_ only works with positive integers.");for(var r=Gn,s=e;0>=s.X(i);)r=_s(r),s=_s(s);var l=wo(r,1),d=wo(s,1);for(s=wo(s,2),r=wo(r,2);!er(s);){var g=d.add(s);0>=g.X(i)&&(l=l.add(r),d=g),s=wo(s,1),r=wo(r,1)}return e=Er(i,l.R(e)),new go(l,e)}for(l=jt;0<=i.X(e);){for(r=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),g=(d=ie(r)).R(e);Hn(g)||0<g.X(i);)g=(d=ie(r-=s)).R(e);er(d)&&(d=Gn),l=l.add(d),i=Er(i,g)}return new go(l,i)}function _s(i){for(var e=i.g.length+1,r=[],s=0;s<e;s++)r[s]=i.D(s)<<1|i.D(s-1)>>>31;return new k(r,i.h)}function wo(i,e){var r=e>>5;e%=32;for(var s=i.g.length-r,l=[],d=0;d<s;d++)l[d]=0<e?i.D(d+r)>>>e|i.D(d+r+1)<<32-e:i.D(d+r);return new k(l,i.h)}(ae=k.prototype).ea=function(){if(Hn(this))return-Yn(this).ea();for(var i=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);i+=(0<=s?s:Ct+s)*e,e*=Ct}return i},ae.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(er(this))return"0";if(Hn(this))return"-"+Yn(this).toString(i);for(var e=ie(Math.pow(i,6)),r=this,s="";;){var l=mo(r,e).g,d=((0<(r=Er(r,l.R(e))).g.length?r.g[0]:r.h)>>>0).toString(i);if(er(r=l))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},ae.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ae.X=function(i){return Hn(i=Er(this,i))?-1:er(i)?0:1},ae.abs=function(){return Hn(this)?Yn(this):this},ae.add=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0,l=0;l<=e;l++){var d=s+(65535&this.D(l))+(65535&i.D(l)),g=(d>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=g>>>16,r[l]=(g&=65535)<<16|(d&=65535)}return new k(r,-2147483648&r[r.length-1]?-1:0)},ae.R=function(i){if(er(this)||er(i))return jt;if(Hn(this))return Hn(i)?Yn(this).R(Yn(i)):Yn(Yn(this).R(i));if(Hn(i))return Yn(this.R(Yn(i)));if(0>this.X(dr)&&0>i.X(dr))return ie(this.ea()*i.ea());for(var e=this.g.length+i.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var d=this.D(s)>>>16,g=65535&this.D(s),b=i.D(l)>>>16,R=65535&i.D(l);r[2*s+2*l]+=g*R,di(r,2*s+2*l),r[2*s+2*l+1]+=d*R,di(r,2*s+2*l+1),r[2*s+2*l+1]+=g*b,di(r,2*s+2*l+1),r[2*s+2*l+2]+=d*b,di(r,2*s+2*l+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new k(r,0)},ae.gb=function(i){return mo(this,i).h},ae.and=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&i.D(s);return new k(r,this.h&i.h)},ae.or=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|i.D(s);return new k(r,this.h|i.h)},ae.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^i.D(s);return new k(r,this.h^i.h)},au.prototype.createWebChannel=au.prototype.g,po.prototype.send=po.prototype.u,po.prototype.open=po.prototype.m,po.prototype.close=po.prototype.close,St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,Nt.COMPLETE="complete",Qt.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",Xt.prototype.listen=Xt.prototype.O,A.prototype.listenOnce=A.prototype.P,A.prototype.getLastError=A.prototype.Sa,A.prototype.getLastErrorCode=A.prototype.Ia,A.prototype.getStatus=A.prototype.da,A.prototype.getResponseJson=A.prototype.Wa,A.prototype.getResponseText=A.prototype.ja,A.prototype.send=A.prototype.ha,A.prototype.setWithCredentials=A.prototype.Oa,vs.prototype.digest=vs.prototype.l,vs.prototype.reset=vs.prototype.reset,vs.prototype.update=vs.prototype.j,k.prototype.add=k.prototype.add,k.prototype.multiply=k.prototype.R,k.prototype.modulo=k.prototype.gb,k.prototype.compare=k.prototype.X,k.prototype.toNumber=k.prototype.ea,k.prototype.toString=k.prototype.toString,k.prototype.getBits=k.prototype.D,k.fromNumber=ie,k.fromString=function ke(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Yn(ke(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ie(Math.pow(e,8)),s=jt,l=0;l<i.length;l+=8){var d=Math.min(8,i.length-l),g=parseInt(i.substring(l,l+d),e);8>d?(d=ie(Math.pow(e,d)),s=s.R(d).add(ie(g))):s=(s=s.R(r)).add(ie(g))}return s};var Fi=re.createWebChannelTransport=function(){return new au},Ms=re.getStatEventTarget=function(){return xr()},ys=re.ErrorCode=St,fa=re.EventType=Nt,zd=re.Event=In,wc=re.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gs=(re.FetchXmlHttpFactory=zi,re.WebChannel=Qt),Al=re.XhrIo=A,Po=re.Md5=vs,Sl=re.Integer=k;const Rl="@firebase/firestore";class Sr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");let fi="10.7.0";const Ps=new we.Yd("@firebase/firestore");function Is(){return Ps.logLevel}function Ft(i,...e){if(Ps.logLevel<=we.in.DEBUG){const r=e.map(Nu);Ps.debug(`Firestore (${fi}): ${i}`,...r)}}function wi(i,...e){if(Ps.logLevel<=we.in.ERROR){const r=e.map(Nu);Ps.error(`Firestore (${fi}): ${i}`,...r)}}function xo(i,...e){if(Ps.logLevel<=we.in.WARN){const r=e.map(Nu);Ps.warn(`Firestore (${fi}): ${i}`,...r)}}function Nu(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function yn(i="Unexpected state"){const e=`FIRESTORE (${fi}) INTERNAL ASSERTION FAILED: `+i;throw wi(e),new Error(e)}function Tn(i,e){i||yn()}function sn(i,e){return i}const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends ee.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class kf{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Sr.UNAUTHENTICATED))}shutdown(){}}class ku{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Wd{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const d=B=>this.i!==l?(l=this.i,r(B)):Promise.resolve();let g=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Li,e.enqueueRetryable(()=>d(this.currentUser))};const b=()=>{const B=g;e.enqueueRetryable((0,le.Z)(function*(){yield B.promise,yield d(s.currentUser)}))},R=B=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(B=>R(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?R(B):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Li)}},0),b()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Tn("string"==typeof s.accessToken),new kf(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tn(null===e||"string"==typeof e),new Sr(e)}}class xs{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pa{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new xs(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ml{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.R;return this.R=d.token,Ft("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?l(d):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Tn("string"==typeof r.token),this.R=r.token,new bc(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Oi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}class Ac{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Oi(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[d]%62))}return s}}function ut(i,e){return i<e?-1:i>e?1:0}function vr(i,e,r){return i.length===e.length&&i.every((s,l)=>r(s,e[l]))}function Fu(i){return i+"\0"}class pi{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new dt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new dt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new dt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pi.fromMillis(Date.now())}static fromDate(e){return pi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new pi(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new pi(0,0))}static max(){return new rn(new pi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ja{constructor(e,r,s){void 0===r?r=0:r>e.length&&yn(),void 0===s?s=e.length-r:s>e.length-r&&yn(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Ja.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ja?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const d=e.get(l),g=r.get(l);if(d<g)return-1;if(d>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class _r extends Ja{construct(e,r,s){return new _r(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new dt(_t.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new _r(r)}static emptyPath(){return new _r([])}}const Go=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends Ja{construct(e,r,s){return new Xr(e,r,s)}static isValidIdentifier(e){return Go.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xr(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const d=()=>{if(0===s.length)throw new dt(_t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;l<e.length;){const b=e[l];if("\\"===b){if(l+1===e.length)throw new dt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[l+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new dt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,l+=2}else"`"===b?(g=!g,l++):"."!==b||g?(s+=b,l++):(d(),l++)}if(d(),g)throw new dt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xr(r)}static emptyPath(){return new Xr([])}}class an{constructor(e){this.path=e}static fromPath(e){return new an(_r.fromString(e))}static fromName(e){return new an(_r.fromString(e).popFirst(5))}static empty(){return new an(_r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_r.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return _r.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new an(new _r(e.slice()))}}class Ws{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function Sc(i){return i.fields.find(e=>2===e.kind)}function Os(i){return i.fields.filter(e=>2!==e.kind)}Ws.UNKNOWN_ID=-1;class Zi{constructor(e,r){this.fieldPath=e,this.kind=r}}class _o{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new _o(0,Wo.min())}}function Ns(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=rn.fromTimestamp(1e9===s?new pi(r+1,0):new pi(r,s));return new Wo(l,an.empty(),e)}function qd(i){return new Wo(i.readTime,i.key,-1)}class Wo{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Wo(rn.min(),an.empty(),-1)}static max(){return new Wo(rn.max(),an.empty(),-1)}}function Yd(i,e){let r=i.readTime.compareTo(e.readTime);return 0!==r?r:(r=an.comparator(i.documentKey,e.documentKey),0!==r?r:ut(i.largestBatchId,e.largestBatchId))}const el="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function w(i){return S.apply(this,arguments)}function S(){return S=(0,le.Z)(function*(i){if(i.code!==_t.FAILED_PRECONDITION||i.message!==el)throw i;Ft("LocalStore","Unexpectedly lost primary lease")}),S.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&yn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new _((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof _?r:_.resolve(r)}catch(r){return _.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):_.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):_.reject(r)}static resolve(e){return new _((r,s)=>{r(e)})}static reject(e){return new _((r,s)=>{s(e)})}static waitFor(e){return new _((r,s)=>{let l=0,d=0,g=!1;e.forEach(b=>{++l,b.next(()=>{++d,g&&d===l&&r()},R=>s(R))}),g=!0,d===l&&r()})}static or(e){let r=_.resolve(!1);for(const s of e)r=r.next(l=>l?_.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,d)=>{s.push(r.call(this,l,d))}),this.waitFor(s)}static mapArray(e,r){return new _((s,l)=>{const d=e.length,g=new Array(d);let b=0;for(let R=0;R<d;R++){const B=R;r(e[B]).next(K=>{g[B]=K,++b,b===d&&s(g)},K=>l(K))}})}static doWhile(e,r){return new _((s,l)=>{const d=()=>{!0===e()?r().next(()=>{d()},l):s()};d()})}}class P{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Li,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new st(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=ni(s.target.error);this.V.reject(new st(e,l))}}static open(e,r,s,l){try{return new P(r,e.transaction(l,s))}catch(d){throw new st(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ft("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new ft(r)}}class W{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===W.S((0,ee.z$)())&&wi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ft("SimpleDb","Removing database:",e),ln(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ee.hl)())return!1;if(W.C())return!0;const e=(0,ee.z$)(),r=W.S(e),s=0<r&&r<10,l=W.v(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,le.Z)(function*(){return r.db||(Ft("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{l(new st(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const b=g.target.error;l("VersionError"===b.name?new dt(_t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new dt(_t.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new st(e,b))},d.onupgradeneeded=g=>{Ft("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.p.N(g.target.result,d.transaction,g.oldVersion,r.version).next(()=>{Ft("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=s=>r.B(s)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var d=this;return(0,le.Z)(function*(){const g="readonly"===r;let b=0;for(;;){++b;try{d.db=yield d.O(e);const R=P.open(d.db,e,g?"readonly":"readwrite",s),B=l(R).next(K=>(R.g(),K)).catch(K=>(R.abort(K),_.reject(K))).toPromise();return B.catch(()=>{}),yield R.m,B}catch(R){const B=R,K="FirebaseError"!==B.name&&b<3;if(Ft("SimpleDb","Transaction failed with error:",B.message,"Retrying:",K),d.close(),!K)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fe{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ln(this.k.delete())}}class st extends dt{constructor(e,r){super(_t.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ot(i){return"IndexedDbTransactionError"===i.name}class ft{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Ft("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Ft("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ln(s)}add(e){return Ft("SimpleDb","ADD",this.store.name,e,e),ln(this.store.add(e))}get(e){return ln(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ft("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ft("SimpleDb","DELETE",this.store.name,e),ln(this.store.delete(e))}count(){return Ft("SimpleDb","COUNT",this.store.name),ln(this.store.count())}W(e,r){const s=this.options(e,r);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),d=[];return this.G(l,(g,b)=>{d.push(b)}).next(()=>d)}{const l=this.store.getAll(s.range);return new _((d,g)=>{l.onerror=b=>{g(b.target.error)},l.onsuccess=b=>{d(b.target.result)}})}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new _((l,d)=>{s.onerror=g=>{d(g.target.error)},s.onsuccess=g=>{l(g.target.result)}})}H(e,r){Ft("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const l=this.cursor(s);return this.G(l,(d,g,b)=>b.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.G(l,r)}Z(e){const r=this.cursor({});return new _((s,l)=>{r.onerror=d=>{const g=ni(d.target.error);l(g)},r.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(b=>{b?g.continue():s()}):s()}})}G(e,r){const s=[];return new _((l,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const b=g.target.result;if(!b)return void l();const R=new fe(b),B=r(b.primaryKey,b.value,R);if(B instanceof _){const K=B.catch(De=>(R.done(),_.reject(De)));s.push(K)}R.isDone?l():null===R.$?b.continue():b.continue(R.$)}}).next(()=>_.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function ln(i){return new _((e,r)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=ni(s.target.error);r(l)}})}let Kn=!1;function ni(i){const e=W.S((0,ee.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Kn||(Kn=!0,setTimeout(()=>{throw s},0)),s}}return i}class tr{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;Ft("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,le.Z)(function*(){r.task=null;try{Ft("IndexBackiller",`Documents written: ${yield r.X.te()}`)}catch(s){Ot(s)?Ft("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield w(s)}yield r.ee(6e4)}))}}class Ei{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,le.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let l=r,d=!0;return _.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return Ft("IndexBackiller",`Processing collection: ${g}`),this.re(e,g,l).next(b=>{l-=b,s.add(g)});d=!1})).next(()=>r-l)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ie(l,d)).next(b=>(Ft("IndexBackiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,r,b))).next(()=>g.size)}))}ie(e,r){let s=e;return r.changes.forEach((l,d)=>{const g=qd(d);Yd(g,s)>0&&(s=g)}),new Wo(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let sr=(()=>{class i{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return i._e=-1,i})();function qs(i){return null==i}function Ys(i){return 0===i&&1/i==-1/0}function tl(i){return"number"==typeof i&&Number.isInteger(i)&&!Ys(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function bi(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=Ks(e)),e=Mc(i.get(r),e);return Ks(e)}function Mc(i,e){let r=e;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function Ks(i){return i+"\x01\x01"}function Es(i){const e=i.length;if(Tn(e>=2),2===e)return Tn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),_r.emptyPath();const r=e-2,s=[];let l="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>r)&&yn(),i.charAt(g+1)){case"\x01":const b=i.substring(d,g);let R;0===l.length?R=b:(l+=b,R=l,l=""),s.push(R);break;case"\x10":l+=i.substring(d,g),l+="\0";break;case"\x11":l+=i.substring(d,g+1);break;default:yn()}d=g+2}return new _r(s)}const Zs=["userId","batchId"];function Pc(i,e){return[i,bi(e)]}function Pl(i,e,r){return[i,bi(e),r]}const xl={},uu=["prefixPath","collectionGroup","readTime","documentId"],Kd=["prefixPath","collectionGroup","documentId"],xc=["collectionGroup","readTime","prefixPath","documentId"],cu=["canonicalId","targetId"],Ol=["targetId","path"],nl=["path","targetId"],Lu=["collectionId","parent"],Pg=["indexId","uid"],Zd=["uid","sequenceNumber"],Qd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ff=["indexId","uid","orderedDocumentKey"],xg=["userId","collectionPath","documentId"],$v=["userId","collectionPath","largestBatchId"],Lf=["userId","collectionGroup","largestBatchId"],Oc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nl=[...Oc,"documentOverlays"],Vf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rl=Vf,Vu=[...rl,"indexConfiguration","indexState","indexEntries"];class du extends E{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function qi(i,e){const r=sn(i);return W.M(r.ae,e)}function Xd(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Pa(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Nc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Rr{constructor(e,r){this.comparator=e,this.root=r||Qi.EMPTY}insert(e,r){return new Rr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Qi.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hu(this.root,e,this.comparator,!0)}}class hu{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qi{constructor(e,r,s,l,d){this.key=e,this.value=r,this.color=null!=s?s:Qi.RED,this.left=null!=l?l:Qi.EMPTY,this.right=null!=d?d:Qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,d){return new Qi(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===d?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return Qi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yn();const e=this.left.check();if(e!==this.right.check())throw yn();return e+(this.isRed()?0:1)}}Qi.EMPTY=null,Qi.RED=!0,Qi.BLACK=!1,Qi.EMPTY=new class{constructor(){this.size=0}get key(){throw yn()}get value(){throw yn()}get color(){throw yn()}get left(){throw yn()}get right(){throw yn()}copy(e,r,s,l,d){return this}insert(e,r,s){return new Qi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gr{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new kc(this.data.getIterator())}getIteratorFrom(e){return new kc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Gr(this.comparator);return r.data=e,r}}class kc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ga(i){return i.hasNext()?i.getNext():void 0}class Oo{constructor(e){this.fields=e,e.sort(Xr.comparator)}static empty(){return new Oo([])}unionWith(e){let r=new Gr(Xr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Oo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return vr(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class $f extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new $f("Invalid base64 string: "+d):d}}(e);return new Xi(r)}static fromUint8Array(e){const r=function(l){let d="";for(let g=0;g<l.length;++g)d+=String.fromCharCode(l[g]);return d}(e);return new Xi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const Bf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(i){if(Tn(!!i),"string"==typeof i){let e=0;const r=Bf.exec(i);if(Tn(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vi(i.seconds),nanos:Vi(i.nanos)}}function Vi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ks(i){return"string"==typeof i?Xi.fromBase64String(i):Xi.fromUint8Array(i)}function Fs(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Lc(i){const e=i.mapValue.fields.__previous_value__;return Fs(e)?Lc(e):e}function il(i){const e=Qs(i.mapValue.fields.__local_write_time__.timestampValue);return new pi(e.seconds,e.nanos)}class $u{constructor(e,r,s,l,d,g,b,R,B){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=b,this.longPollingOptions=R,this.useFetchStreams=B}}class qo{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}const os={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ai={nullValue:"NULL_VALUE"};function ol(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fs(i)?4:Bc(i)?9007199254740991:10:yn()}function Ls(i,e){if(i===e)return!0;const r=ol(i);if(r!==ol(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return il(i).isEqual(il(e));case 3:return function(l,d){if("string"==typeof l.timestampValue&&"string"==typeof d.timestampValue&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const g=Qs(l.timestampValue),b=Qs(d.timestampValue);return g.seconds===b.seconds&&g.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,ks(i.bytesValue).isEqual(ks(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,d){return Vi(l.geoPointValue.latitude)===Vi(d.geoPointValue.latitude)&&Vi(l.geoPointValue.longitude)===Vi(d.geoPointValue.longitude)}(i,e);case 2:return function(l,d){if("integerValue"in l&&"integerValue"in d)return Vi(l.integerValue)===Vi(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const g=Vi(l.doubleValue),b=Vi(d.doubleValue);return g===b?Ys(g)===Ys(b):isNaN(g)&&isNaN(b)}return!1}(i,e);case 9:return vr(i.arrayValue.values||[],e.arrayValue.values||[],Ls);case 10:return function(l,d){const g=l.mapValue.fields||{},b=d.mapValue.fields||{};if(Xd(g)!==Xd(b))return!1;for(const R in g)if(g.hasOwnProperty(R)&&(void 0===b[R]||!Ls(g[R],b[R])))return!1;return!0}(i,e);default:return yn()}var d}function sl(i,e){return void 0!==(i.values||[]).find(r=>Ls(r,e))}function xa(i,e){if(i===e)return 0;const r=ol(i),s=ol(e);if(r!==s)return ut(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return ut(i.booleanValue,e.booleanValue);case 2:return function(d,g){const b=Vi(d.integerValue||d.doubleValue),R=Vi(g.integerValue||g.doubleValue);return b<R?-1:b>R?1:b===R?0:isNaN(b)?isNaN(R)?0:-1:1}(i,e);case 3:return Jd(i.timestampValue,e.timestampValue);case 4:return Jd(il(i),il(e));case 5:return ut(i.stringValue,e.stringValue);case 6:return function(d,g){const b=ks(d),R=ks(g);return b.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(d,g){const b=d.split("/"),R=g.split("/");for(let B=0;B<b.length&&B<R.length;B++){const K=ut(b[B],R[B]);if(0!==K)return K}return ut(b.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,g){const b=ut(Vi(d.latitude),Vi(g.latitude));return 0!==b?b:ut(Vi(d.longitude),Vi(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,g){const b=d.values||[],R=g.values||[];for(let B=0;B<b.length&&B<R.length;++B){const K=xa(b[B],R[B]);if(K)return K}return ut(b.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,g){if(d===os.mapValue&&g===os.mapValue)return 0;if(d===os.mapValue)return 1;if(g===os.mapValue)return-1;const b=d.fields||{},R=Object.keys(b),B=g.fields||{},K=Object.keys(B);R.sort(),K.sort();for(let De=0;De<R.length&&De<K.length;++De){const Ze=ut(R[De],K[De]);if(0!==Ze)return Ze;const mt=xa(b[R[De]],B[K[De]]);if(0!==mt)return mt}return ut(R.length,K.length)}(i.mapValue,e.mapValue);default:throw yn()}}function Jd(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return ut(i,e);const r=Qs(i),s=Qs(e),l=ut(r.seconds,s.seconds);return 0!==l?l:ut(r.nanos,s.nanos)}function Oa(i){return ma(i)}function ma(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=Qs(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ks(i.bytesValue).toBase64():"referenceValue"in i?an.fromName(i.referenceValue).toString():"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",l=!0;for(const d of r.values||[])l?l=!1:s+=",",s+=ma(d);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of s)d?d=!1:l+=",",l+=`${g}:${ma(r.fields[g])}`;return l+"}"}(i.mapValue):yn()}function Vs(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Vc(i){return!!i&&"integerValue"in i}function ka(i){return!!i&&"arrayValue"in i}function kl(i){return!!i&&"nullValue"in i}function Og(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Bu(i){return!!i&&"mapValue"in i}function $c(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Pa(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=$c(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=$c(i.arrayValue.values[r]);return e}return Object.assign({},i)}function Bc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Bv(i){return"nullValue"in i?Ai:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Vs(qo.empty(),an.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:yn()}function Uv(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Vs(qo.empty(),an.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?os:yn()}function Ng(i,e){const r=xa(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function kg(i,e){const r=xa(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Bu(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(r)}setAll(e){let r=Xr.emptyPath(),s={},l=[];e.forEach((g,b)=>{if(!r.isImmediateParentOf(b)){const R=this.getFieldsMap(r);this.applyChanges(R,s,l),s={},l=[],r=b.popLast()}g?s[b.lastSegment()]=$c(g):l.push(b.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,l)}delete(e){const r=this.field(e.popLast());Bu(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ls(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];Bu(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){Pa(r,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new $i($c(this.value))}}function Uf(i){const e=[];return Pa(i.fields,(r,s)=>{const l=new Xr([r]);if(Bu(s)){const d=Uf(s.mapValue).fields;if(0===d.length)e.push(l);else for(const g of d)e.push(l.child(g))}else e.push(l)}),new Oo(e)}class Di{constructor(e,r,s,l,d,g,b){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=d,this.data=g,this.documentState=b}static newInvalidDocument(e){return new Di(e,0,rn.min(),rn.min(),rn.min(),$i.empty(),0)}static newFoundDocument(e,r,s,l){return new Di(e,1,r,rn.min(),s,l,0)}static newNoDocument(e,r){return new Di(e,2,r,rn.min(),rn.min(),$i.empty(),0)}static newUnknownDocument(e,r){return new Di(e,3,r,rn.min(),rn.min(),$i.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gi{constructor(e,r){this.position=e,this.inclusive=r}}function Uc(i,e,r){let s=0;for(let l=0;l<i.position.length;l++){const d=e[l],g=i.position[l];if(s=d.field.isKeyField()?an.comparator(an.fromName(g.referenceValue),r.key):xa(g,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function fu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ls(i.position[r],e.position[r]))return!1;return!0}class Uu{constructor(e,r="asc"){this.field=e,this.dir=r}}function ss(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Fl{}class Mr extends Fl{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new zf(e,r,s):"array-contains"===r?new th(e,s):"in"===r?new Yf(e,s):"not-in"===r?new jv(e,s):"array-contains-any"===r?new nh(e,s):new Mr(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Gf(e,s):new Wf(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(xa(r,this.value)):null!==r&&ol(this.value)===ol(r)&&this.matchesComparison(xa(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends Fl{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new $r(e,r)}matches(e){return va(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function va(i){return"and"===i.op}function ju(i){return"or"===i.op}function jf(i){return eh(i)&&va(i)}function eh(i){for(const e of i.filters)if(e instanceof $r)return!1;return!0}function Hf(i){if(i instanceof Mr)return i.field.canonicalString()+i.op.toString()+Oa(i.value);if(jf(i))return i.filters.map(e=>Hf(e)).join(",");{const e=i.filters.map(r=>Hf(r)).join(",");return`${i.op}(${e})`}}function No(i,e){return i instanceof Mr?(s=i,(l=e)instanceof Mr&&s.op===l.op&&s.field.isEqual(l.field)&&Ls(s.value,l.value)):i instanceof $r?function(s,l){return l instanceof $r&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((d,g,b)=>d&&No(g,l.filters[b]),!0)}(i,e):void yn();var s,l}function pu(i,e){const r=i.filters.concat(e);return $r.create(r,i.op)}function Ll(i){return i instanceof Mr?`${(r=i).field.canonicalString()} ${r.op} ${Oa(r.value)}`:i instanceof $r?function(r){return r.op.toString()+" {"+r.getFilters().map(Ll).join(" ,")+"}"}(i):"Filter";var r}class zf extends Mr{constructor(e,r,s){super(e,r,s),this.key=an.fromName(s.referenceValue)}matches(e){const r=an.comparator(e.key,this.key);return this.matchesComparison(r)}}class Gf extends Mr{constructor(e,r){super(e,"in",r),this.keys=qf(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Wf extends Mr{constructor(e,r){super(e,"not-in",r),this.keys=qf(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function qf(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>an.fromName(s.referenceValue))}class th extends Mr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ka(r)&&sl(r.arrayValue,this.value)}}class Yf extends Mr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&sl(this.value.arrayValue,r)}}class jv extends Mr{constructor(e,r){super(e,"not-in",r)}matches(e){if(sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!sl(this.value.arrayValue,r)}}class nh extends Mr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ka(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>sl(this.value.arrayValue,s))}}class jc{constructor(e,r=null,s=[],l=[],d=null,g=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=g,this.endAt=b,this.ce=null}}function Fa(i,e=null,r=[],s=[],l=null,d=null,g=null){return new jc(i,e,r,s,l,d,g)}function al(i){const e=sn(i);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Hf(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),qs(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Oa(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Oa(s)).join(",")),e.ce=r}return e.ce}function La(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!ss(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!No(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!fu(i.startAt,e.startAt)&&fu(i.endAt,e.endAt)}function Hc(i){return an.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Vl(i,e){return i.filters.filter(r=>r instanceof Mr&&r.field.isEqual(e))}function Kf(i,e,r){let s=Ai,l=!0;for(const d of Vl(i,e)){let g=Ai,b=!0;switch(d.op){case"<":case"<=":g=Bv(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,b=!1;break;case"!=":case"not-in":g=Ai}Ng({value:s,inclusive:l},{value:g,inclusive:b})<0&&(s=g,l=b)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=r.position[d];Ng({value:s,inclusive:l},{value:g,inclusive:r.inclusive})<0&&(s=g,l=r.inclusive);break}return{value:s,inclusive:l}}function rh(i,e,r){let s=os,l=!0;for(const d of Vl(i,e)){let g=os,b=!0;switch(d.op){case">=":case">":g=Uv(d.value),b=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,b=!1;break;case"!=":case"not-in":g=os}kg({value:s,inclusive:l},{value:g,inclusive:b})>0&&(s=g,l=b)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=r.position[d];kg({value:s,inclusive:l},{value:g,inclusive:r.inclusive})>0&&(s=g,l=r.inclusive);break}return{value:s,inclusive:l}}class Xs{constructor(e,r=null,s=[],l=[],d=null,g="F",b=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=g,this.startAt=b,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function gu(i,e,r,s,l,d,g,b){return new Xs(i,e,r,s,l,d,g,b)}function $l(i){return new Xs(i)}function Fg(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Va(i){return null!==i.collectionGroup}function Js(i){const e=sn(i);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let b=new Gr(Xr.comparator);return g.filters.forEach(R=>{R.getFlattenedFilters().forEach(B=>{B.isInequality()&&(b=b.add(B.field))})}),b})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new Uu(d,s))}),r.has(Xr.keyField().canonicalString())||e.le.push(new Uu(Xr.keyField(),s))}return e.le}function io(i){const e=sn(i);return e.he||(e.he=function zc(i,e){if("F"===i.limitType)return Fa(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new Uu(l.field,"desc"===l.dir?"asc":"desc"));const r=i.endAt?new gi(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new gi(i.startAt.position,i.startAt.inclusive):null;return Fa(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}(e,Js(i))),e.he}function Zf(i,e){const r=i.filters.concat([e]);return new Xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Bl(i,e,r){return new Xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Hu(i,e){return La(io(i),io(e))&&i.limitType===e.limitType}function Lg(i){return`${al(io(i))}|lt:${i.limitType}`}function ll(i){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>Ll(l)).join(", ")}]`),qs(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(g=l).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>Oa(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>Oa(l)).join(",")),`Target(${s})`}(io(i))}; limitType=${i.limitType})`}function zu(i,e){return e.isFoundDocument()&&function(s,l){const d=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):an.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(i,e)&&function(s,l){for(const d of Js(s))if(!d.field.isKeyField()&&null===l.data.field(d.field))return!1;return!0}(i,e)&&function(s,l){for(const d of s.filters)if(!d.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(g,b,R){const B=Uc(g,b,R);return g.inclusive?B<=0:B<0}(s.startAt,Js(s),l)||s.endAt&&!function(g,b,R){const B=Uc(g,b,R);return g.inclusive?B>=0:B>0}(s.endAt,Js(s),l)));var s,l}function Qf(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function _a(i){return(e,r)=>{let s=!1;for(const l of Js(i)){const d=Xf(l,e,r);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function Xf(i,e,r){const s=i.field.isKeyField()?an.comparator(e.key,r.key):function(d,g,b){const R=g.data.field(d),B=b.data.field(d);return null!==R&&null!==B?xa(R,B):yn()}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return yn()}}class ea{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(r,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return Nc(this.inner)}size(){return this.innerSize}}const Gc=new Rr(an.comparator);function Yo(){return Gc}const Jf=new Rr(an.comparator);function Ul(...i){let e=Jf;for(const r of i)e=e.insert(r.key,r);return e}function Gu(i){let e=Jf;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Ds(){return $a()}function Vg(){return $a()}function $a(){return new ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const ih=new Rr(an.comparator),oh=new Gr(an.comparator);function fr(...i){let e=oh;for(const r of i)e=e.add(r);return e}const Wu=new Gr(ut);function Ba(){return Wu}function ep(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ys(e)?"-0":e}}function Wc(i){return{integerValue:""+i}}function mu(i,e){return tl(e)?Wc(e):ep(i,e)}class qc{constructor(){this._=void 0}}function sh(i,e,r){return i instanceof Ko?function(l,d){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&Fs(d)&&(d=Lc(d)),d&&(g.fields.__previous_value__=d),{mapValue:g}}(r,e):i instanceof Ua?ah(i,e):i instanceof jl?lh(i,e):function(l,d){const g=ta(l,d),b=tp(g)+tp(l.Ie);return Vc(g)&&Vc(l.Ie)?Wc(b):ep(l.serializer,b)}(i,e)}function Yc(i,e,r){return i instanceof Ua?ah(i,e):i instanceof jl?lh(i,e):r}function ta(i,e){return i instanceof na?Vc(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class Ko extends qc{}class Ua extends qc{constructor(e){super(),this.elements=e}}function ah(i,e){const r=uh(e);for(const s of i.elements)r.some(l=>Ls(l,s))||r.push(s);return{arrayValue:{values:r}}}class jl extends qc{constructor(e){super(),this.elements=e}}function lh(i,e){let r=uh(e);for(const s of i.elements)r=r.filter(l=>!Ls(l,s));return{arrayValue:{values:r}}}class na extends qc{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function tp(i){return Vi(i.integerValue||i.doubleValue)}function uh(i){return ka(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Hl{constructor(e,r){this.field=e,this.transform=r}}class np{constructor(e,r){this.version=e,this.transformResults=r}}class mi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Kc{}function as(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ja(i.key,mi.none()):new ul(i.key,i.data,mi.none());{const r=i.data,s=$i.empty();let l=new Gr(Xr.comparator);for(let d of e.fields)if(!l.has(d)){let g=r.field(d);null===g&&d.length>1&&(d=d.popLast(),g=r.field(d)),null===g?s.delete(d):s.set(d,g),l=l.add(d)}return new cl(i.key,s,new Oo(l.toArray()),mi.none())}}function vu(i,e,r){i instanceof ul?function(l,d,g){const b=l.value.clone(),R=ch(l.fieldTransforms,d,g.transformResults);b.setAll(R),d.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(i,e,r):i instanceof cl?function(l,d,g){if(!zl(l.precondition,d))return void d.convertToUnknownDocument(g.version);const b=ch(l.fieldTransforms,d,g.transformResults),R=d.data;R.setAll(Qc(l)),R.setAll(b),d.convertToFoundDocument(g.version,R).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function _u(i,e,r,s){return i instanceof ul?function(d,g,b,R){if(!zl(d.precondition,g))return b;const B=d.value.clone(),K=Ji(d.fieldTransforms,R,g);return B.setAll(K),g.convertToFoundDocument(g.version,B).setHasLocalMutations(),null}(i,e,r,s):i instanceof cl?function(d,g,b,R){if(!zl(d.precondition,g))return b;const B=Ji(d.fieldTransforms,R,g),K=g.data;return K.setAll(Qc(d)),K.setAll(B),g.convertToFoundDocument(g.version,K).setHasLocalMutations(),null===b?null:b.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(De=>De.field))}(i,e,r,s):(b=r,zl(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):b);var g,b}function rp(i,e){let r=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),d=ta(s.transform,l||null);null!=d&&(null===r&&(r=$i.empty()),r.set(s.field,d))}return r||null}function Zc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&vr(s,l,(d,g)=>function qu(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof Ua&&l instanceof Ua||s instanceof jl&&l instanceof jl?vr(s.elements,l.elements,Ls):s instanceof na&&l instanceof na?Ls(s.Ie,l.Ie):s instanceof Ko&&l instanceof Ko);var s,l}(d,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class ul extends Kc{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class cl extends Kc{constructor(e,r,s,l,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Qc(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function ch(i,e,r){const s=new Map;Tn(i.length===r.length);for(let l=0;l<r.length;l++){const d=i[l],g=d.transform,b=e.data.field(d.field);s.set(d.field,Yc(g,b,r[l]))}return s}function Ji(i,e,r){const s=new Map;for(const l of i){const d=l.transform,g=r.data.field(l.field);s.set(l.field,sh(d,g,e))}return s}class ja extends Kc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ya extends Kc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yu{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&vu(d,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=_u(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=_u(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Vg();return this.mutations.forEach(l=>{const d=e.get(l.key),g=d.overlayedDocument;let b=this.applyToLocalView(g,d.mutatedFields);b=r.has(l.key)?null:b;const R=as(g,b);null!==R&&s.set(l.key,R),g.isValidDocument()||g.convertToNoDocument(rn.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),fr())}isEqual(e){return this.batchId===e.batchId&&vr(this.mutations,e.mutations,(r,s)=>Zc(r,s))&&vr(this.baseMutations,e.baseMutations,(r,s)=>Zc(r,s))}}class Xc{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){Tn(e.mutations.length===s.length);let l=ih;const d=e.mutations;for(let g=0;g<d.length;g++)l=l.insert(d[g].key,s[g].version);return new Xc(e,r,s,l)}}class dl{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dh{constructor(e,r){this.count=e,this.unchangedNames=r}}var Si,Fr;function bo(i){switch(i){default:return yn();case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0}}function Gl(i){if(void 0===i)return wi("GRPC error has no .code"),_t.UNKNOWN;switch(i){case Si.OK:return _t.OK;case Si.CANCELLED:return _t.CANCELLED;case Si.UNKNOWN:return _t.UNKNOWN;case Si.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case Si.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case Si.INTERNAL:return _t.INTERNAL;case Si.UNAVAILABLE:return _t.UNAVAILABLE;case Si.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case Si.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case Si.NOT_FOUND:return _t.NOT_FOUND;case Si.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case Si.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case Si.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case Si.ABORTED:return _t.ABORTED;case Si.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case Si.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case Si.DATA_LOSS:return _t.DATA_LOSS;default:return yn()}}(Fr=Si||(Si={}))[Fr.OK=0]="OK",Fr[Fr.CANCELLED=1]="CANCELLED",Fr[Fr.UNKNOWN=2]="UNKNOWN",Fr[Fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fr[Fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fr[Fr.NOT_FOUND=5]="NOT_FOUND",Fr[Fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fr[Fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fr[Fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fr[Fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fr[Fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fr[Fr.ABORTED=10]="ABORTED",Fr[Fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fr[Fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fr[Fr.INTERNAL=13]="INTERNAL",Fr[Fr.UNAVAILABLE=14]="UNAVAILABLE",Fr[Fr.DATA_LOSS=15]="DATA_LOSS";function Jc(){return new TextEncoder}const hh=new Sl([4294967295,4294967295],0);function fh(i){const e=Jc().encode(i),r=new Po;return r.update(e),new Uint8Array(r.digest())}function $g(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Sl([r,s],0),new Sl([l,d],0)]}class ph{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ku(`Invalid padding: ${r}`);if(s<0)throw new Ku(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ku(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Ku(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=Sl.fromNumber(this.Te)}de(e,r,s){let l=e.add(r.multiply(Sl.fromNumber(s)));return 1===l.compare(hh)&&(l=new Sl([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=fh(e),[s,l]=$g(r);for(let d=0;d<this.hashCount;d++){const g=this.de(s,l,d);if(!this.Ae(g))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),g=new ph(d,l,r);return s.forEach(b=>g.insert(b)),g}insert(e){if(0===this.Te)return;const r=fh(e),[s,l]=$g(r);for(let d=0;d<this.hashCount;d++){const g=this.de(s,l,d);this.Re(g)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zu{constructor(e,r,s,l,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,v.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Zu(rn.min(),l,new Rr(ut),Yo(),fr())}}class v{constructor(e,r,s,l,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new v(s,r,fr(),fr(),fr())}}class f{constructor(e,r,s,l){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=l}}class p{constructor(e,r){this.targetId=e,this.fe=r}}class I{constructor(e,r,s=Xi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class F{constructor(){this.ge=0,this.pe=ct(),this.ye=Xi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=fr(),r=fr(),s=fr();return this.pe.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:yn()}}),new v(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=ct()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Tn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Y{constructor(e){this.Le=e,this.ke=new Map,this.qe=Yo(),this.Qe=Ue(),this.Ke=new Rr(ut)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:yn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,l)=>{this.je(l)&&r(l)})}Je(e){const r=e.targetId,s=e.fe.count,l=this.Ye(r);if(l){const d=l.target;if(Hc(d))if(0===s){const g=new an(d.path);this.We(r,g,Di.newNoDocument(g,rn.min()))}else Tn(1===s);else{const g=this.Ze(r);if(g!==s){const b=this.Xe(e),R=b?this.et(b,e,g):1;0!==R&&(this.He(r),this.Ke=this.Ke.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:d=0}=r;let g,b;try{g=ks(s).toUint8Array()}catch(R){if(R instanceof $f)return xo("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{b=new ph(g,l,d)}catch(R){return xo(R instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===b.Te?null:b}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(d=>{const g=this.Le.nt(),b=`projects/${g.projectId}/databases/${g.database}/documents/${d.path.canonicalString()}`;e.mightContain(b)||(this.We(r,d,null),l++)}),l}it(e){const r=new Map;this.ke.forEach((d,g)=>{const b=this.Ye(g);if(b){if(d.current&&Hc(b.target)){const R=new an(b.target.path);null!==this.qe.get(R)||this.st(g,R)||this.We(g,R,Di.newNoDocument(R,e))}d.De&&(r.set(g,d.ve()),d.Fe())}});let s=fr();this.Qe.forEach((d,g)=>{let b=!0;g.forEachWhile(R=>{const B=this.Ye(R);return!B||"TargetPurposeLimboResolution"===B.purpose||(b=!1,!1)}),b&&(s=s.add(d))}),this.qe.forEach((d,g)=>g.setReadTime(e));const l=new Zu(e,r,this.Ke,this.qe,s);return this.qe=Yo(),this.Qe=Ue(),this.Ke=new Rr(ut),l}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,r)?l.Me(r,1):l.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new F,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new Gr(ut),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||Ft("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new F),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Ue(){return new Rr(an.comparator)}function ct(){return new Rr(an.comparator)}const Mt={asc:"ASCENDING",desc:"DESCENDING"},hn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mn={and:"AND",or:"OR"};class wn{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function vi(i,e){return i.useProto3Json||qs(e)?e:{value:e}}function ko(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iu(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Bg(i,e){return ko(i,e.toTimestamp())}function Ri(i){return Tn(!!i),rn.fromTimestamp(function(r){const s=Qs(r);return new pi(s.seconds,s.nanos)}(i))}function gh(i,e){return(s=i,new _r(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function mh(i){const e=_r.fromString(i);return Tn(qv(e)),e}function Wl(i,e){return gh(i.databaseId,e.path)}function Cs(i,e){const r=mh(e);if(r.get(1)!==i.databaseId.projectId)throw new dt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new dt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new an(Ug(r))}function vh(i,e){return gh(i.databaseId,e)}function _h(i){const e=mh(i);return 4===e.length?_r.emptyPath():Ug(e)}function hl(i){return new _r(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ug(i){return Tn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function yh(i,e,r){return{name:Wl(i,e),fields:r.value.mapValue.fields}}function jg(i,e,r){const s=Cs(i,e.name),l=Ri(e.updateTime),d=e.createTime?Ri(e.createTime):rn.min(),g=new $i({mapValue:{fields:e.fields}}),b=Di.newFoundDocument(s,l,d,g);return r&&b.setHasCommittedMutations(),r?b.setHasCommittedMutations():b}function Ih(i,e){let r;if(e instanceof ul)r={update:yh(i,e.key,e.value)};else if(e instanceof ja)r={delete:Wl(i,e.key)};else if(e instanceof cl)r={update:yh(i,e.key,e.data),updateMask:_I(e.fieldMask)};else{if(!(e instanceof ya))return yn();r={verify:Wl(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,g){const b=g.transform;if(b instanceof Ko)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ua)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof jl)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof na)return{fieldPath:g.field.canonicalString(),increment:b.Ie};throw yn()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Bg(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:yn()),r;var d}function ed(i,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?mi.updateTime(Ri(d.updateTime)):void 0!==d.exists?mi.exists(d.exists):mi.none():mi.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(g,b){let R=null;"setToServerValue"in b?(Tn("REQUEST_TIME"===b.setToServerValue),R=new Ko):"appendMissingElements"in b?R=new Ua(b.appendMissingElements.values||[]):"removeAllFromArray"in b?R=new jl(b.removeAllFromArray.values||[]):"increment"in b?R=new na(g,b.increment):yn();const B=Xr.fromServerFormat(b.fieldPath);return new Hl(B,R)}(i,l)):[];var d;if(e.update){const l=Cs(i,e.update.name),d=new $i({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Oo((e.updateMask.fieldPaths||[]).map(K=>Xr.fromServerFormat(K)));return new cl(l,d,g,r,s)}return new ul(l,d,r,s)}if(e.delete){const l=Cs(i,e.delete);return new ja(l,r)}if(e.verify){const l=Cs(i,e.verify);return new ya(l,r)}return yn()}function op(i,e){return{documents:[vh(i,e.path)]}}function sp(i,e){const r={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(r.parent=vh(i,s),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=vh(i,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(R){if(0!==R.length)return Wv($r.create(R,"and"))}(e.filters);l&&(r.structuredQuery.where=l);const d=function(R){if(0!==R.length)return R.map(B=>{return{field:Ha((De=B).field),direction:zv(De.dir)};var De})}(e.orderBy);d&&(r.structuredQuery.orderBy=d);const g=vi(i,e.limit);return null!==g&&(r.structuredQuery.limit=g),e.startAt&&(r.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(r.structuredQuery.endAt=function(R){return{before:!R.inclusive,values:R.position}}(e.endAt)),r;var R}function Hg(i){let e=_h(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Tn(1===s);const K=r.from[0];K.allDescendants?l=K.collectionId:e=e.child(K.collectionId)}let d=[];r.where&&(d=function(De){const Ze=Hv(De);return Ze instanceof $r&&jf(Ze)?Ze.getFilters():[Ze]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(Ze=>{return new Uu(ql((Jt=Ze).field),function(cn){switch(cn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Jt.direction));var Jt}));let b=null;r.limit&&(b=function(De){let Ze;return Ze="object"==typeof De?De.value:De,qs(Ze)?null:Ze}(r.limit));let R=null;var De;r.startAt&&(R=new gi((De=r.startAt).values||[],!!De.before));let B=null;return r.endAt&&(B=function(De){return new gi(De.values||[],!De.before)}(r.endAt)),gu(e,l,g,d,b,"F",R,B)}function Hv(i){return void 0!==i.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=ql(r.unaryFilter.field);return Mr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ql(r.unaryFilter.field);return Mr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=ql(r.unaryFilter.field);return Mr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=ql(r.unaryFilter.field);return Mr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return yn()}}(i):void 0!==i.fieldFilter?Mr.create(ql((r=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==i.compositeFilter?function(r){return $r.create(r.compositeFilter.filters.map(s=>Hv(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yn()}}(r.compositeFilter.op))}(i):yn();var r}function zv(i){return Mt[i]}function Gv(i){return hn[i]}function ap(i){return Mn[i]}function Ha(i){return{fieldPath:i.canonicalString()}}function ql(i){return Xr.fromServerFormat(i.fieldPath)}function Wv(i){return i instanceof Mr?function(r){if("=="===r.op){if(Og(r.value))return{unaryFilter:{field:Ha(r.field),op:"IS_NAN"}};if(kl(r.value))return{unaryFilter:{field:Ha(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Og(r.value))return{unaryFilter:{field:Ha(r.field),op:"IS_NOT_NAN"}};if(kl(r.value))return{unaryFilter:{field:Ha(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(r.field),op:Gv(r.op),value:r.value}}}(i):i instanceof $r?function(r){const s=r.getFilters().map(l=>Wv(l));return 1===s.length?s[0]:{compositeFilter:{op:ap(r.op),filters:s}}}(i):yn()}function _I(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function qv(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class fl{constructor(e,r,s,l,d=rn.min(),g=rn.min(),b=Xi.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=b,this.expectedCount=R}withSequenceNumber(e){return new fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lp{constructor(e){this.ut=e}}function Yv(i,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:up(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Wl(d=i.ut,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:ko(d,g.version.toTimestamp()),createTime:ko(d,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Eu(e.version)};else{if(!e.isUnknownDocument())return yn();s.unknownDocument={path:r.path.toArray(),version:Eu(e.version)}}var d,g;return s}function up(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Eu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qu(i){const e=new pi(i.seconds,i.nanoseconds);return rn.fromTimestamp(e)}function Xu(i,e){const r=(e.baseMutations||[]).map(d=>ed(i.ut,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>ed(i.ut,d)),l=pi.fromMillis(e.localWriteTimeMs);return new yu(e.batchId,l,r,s)}function Fo(i){const e=Qu(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Qu(i.lastLimboFreeSnapshotVersion):rn.min();let s;return s=void 0!==i.query.documents?(Tn(1===(d=i.query).documents.length),io($l(_h(d.documents[0])))):function(d){return io(Hg(d))}(i.query),new fl(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,r,Xi.fromBase64String(i.resumeToken));var d}function cp(i,e){const r=Eu(e.snapshotVersion),s=Eu(e.lastLimboFreeSnapshotVersion);let l;l=Hc(e.target)?op(i.ut,e.target):sp(i.ut,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:al(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function dp(i){const e=Hg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Bl(e,e.limit,"L"):e}function Dh(i,e){return new dl(e.largestBatchId,ed(i.ut,e.overlayMutation))}function Zo(i,e){const r=e.path.lastSegment();return[i,bi(e.path.popLast()),r]}function td(i,e,r,s){return{indexId:i,uid:e.uid||"",sequenceNumber:r,readTime:Eu(s.readTime),documentKey:bi(s.documentKey.path),largestBatchId:s.largestBatchId}}class Kv{getBundleMetadata(e,r){return zg(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:Qu(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return zg(e).put({bundleId:(l=r).id,createTime:Eu(Ri(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return Zv(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:dp(d.bundledQuery),readTime:Qu(d.readTime)};var d})}saveNamedQuery(e,r){return Zv(e).put({name:(l=r).name,readTime:Eu(Ri(l.readTime)),bundledQuery:l.bundledQuery});var l}}function zg(i){return qi(i,"bundles")}function Zv(i){return qi(i,"namedQueries")}class Ch{constructor(e,r){this.serializer=e,this.userId=r}static ct(e,r){return new Ch(e,r.uid||"")}getOverlay(e,r){return Th(e).get(Zo(this.userId,r)).next(s=>s?Dh(this.serializer,s):null)}getOverlays(e,r){const s=Ds();return _.forEach(r,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((d,g)=>{const b=new dl(r,g);l.push(this.lt(e,b))}),_.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(g=>l.add(bi(g.getCollectionPath())));const d=[];return l.forEach(g=>{const b=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);d.push(Th(e).H("collectionPathOverlayIndex",b))}),_.waitFor(d)}getOverlaysForCollection(e,r,s){const l=Ds(),d=bi(r),g=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Th(e).W("collectionPathOverlayIndex",g).next(b=>{for(const R of b){const B=Dh(this.serializer,R);l.set(B.getKey(),B)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const d=Ds();let g;const b=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Th(e).Y({index:"collectionGroupOverlayIndex",range:b},(R,B,K)=>{const De=Dh(this.serializer,B);d.size()<l||De.largestBatchId===g?(d.set(De.getKey(),De),g=De.largestBatchId):K.done()}).next(()=>d)}lt(e,r){return Th(e).put(function(l,d,g){const[b,R,B]=Zo(d,g.mutation.key);return{userId:d,collectionPath:R,documentId:B,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Ih(l.ut,g.mutation)}}(this.serializer,this.userId,r))}}function Th(i){return qi(i,"documentOverlays")}class Du{constructor(){}ht(e,r){this.Pt(e,r),r.It()}Pt(e,r){if("nullValue"in e)this.Tt(r,5);else if("booleanValue"in e)this.Tt(r,10),r.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(r,15),r.Et(Vi(e.integerValue));else if("doubleValue"in e){const s=Vi(e.doubleValue);isNaN(s)?this.Tt(r,13):(this.Tt(r,15),Ys(s)?r.Et(0):r.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(r,20),"string"==typeof s?r.dt(s):(r.dt(`${s.seconds||""}`),r.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,r),this.Rt(r);else if("bytesValue"in e)this.Tt(r,30),r.Vt(ks(e.bytesValue)),this.Rt(r);else if("referenceValue"in e)this.ft(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(r,45),r.Et(s.latitude||0),r.Et(s.longitude||0)}else"mapValue"in e?Bc(e)?this.Tt(r,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,r),this.Rt(r)):"arrayValue"in e?(this.yt(e.arrayValue,r),this.Rt(r)):yn()}At(e,r){this.Tt(r,25),this.wt(e,r)}wt(e,r){r.dt(e)}gt(e,r){const s=e.fields||{};this.Tt(r,55);for(const l of Object.keys(s))this.At(l,r),this.Pt(s[l],r)}yt(e,r){const s=e.values||[];this.Tt(r,50);for(const l of s)this.Pt(l,r)}ft(e,r){this.Tt(r,37),an.fromName(e).path.forEach(s=>{this.Tt(r,60),this.wt(s,r)})}Tt(e,r){e.Et(r)}Rt(e){e.Et(2)}}function II(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Gg(i){const e=64-function(s){let l=0;for(let d=0;d<8;++d){const g=II(255&s[d]);if(l+=g,8!==g)break}return l}(i);return Math.ceil(e/8)}Du.St=new Du;class EI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Dt(s.value),s=r.next();this.Ct()}vt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ft(s.value),s=r.next();this.Mt()}xt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const l=r.codePointAt(0);this.Dt(240|l>>>18),this.Dt(128|63&l>>>12),this.Dt(128|63&l>>>6),this.Dt(128|63&l)}}this.Ct()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const l=r.codePointAt(0);this.Ft(240|l>>>18),this.Ft(128|63&l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l)}}this.Mt()}Nt(e){const r=this.Bt(e),s=Gg(r);this.Lt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}kt(e){const r=this.Bt(e),s=Gg(r);this.Lt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(d){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,d,!1),new Uint8Array(g.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Dt(e){const r=255&e;0===r?(this.Qt(0),this.Qt(255)):255===r?(this.Qt(255),this.Qt(0)):this.Qt(r)}Ft(e){const r=255&e;0===r?(this.$t(0),this.$t(255)):255===r?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class DI{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Wg{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Ju{constructor(){this.Wt=new EI,this.Gt=new DI(this.Wt),this.zt=new Wg(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class ec{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Ht(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ec(this.indexId,this.documentKey,this.arrayValue,s)}}function Ia(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=Qv(i.arrayValue,e.arrayValue),0!==r?r:(r=Qv(i.directionalValue,e.directionalValue),0!==r?r:an.comparator(i.documentKey,e.documentKey)))}function Qv(i,e){for(let r=0;r<i.length&&r<e.length;++r){const s=i[r]-e[r];if(0!==s)return s}return i.length-e.length}class Xv{constructor(e){this.Jt=new Gr((r,s)=>Xr.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(Tn(e.collectionGroup===this.collectionId),this.Xt)return!1;const r=Sc(e);if(void 0!==r&&!this.tn(r))return!1;const s=Os(e);let l=new Set,d=0,g=0;for(;d<s.length&&this.tn(s[d]);++d)l=l.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Jt.size>0){const b=this.Jt.getIterator().getNext();if(!l.has(b.field.canonicalString())){const R=s[d];if(!this.nn(b,R)||!this.rn(this.Yt[g++],R))return!1}++d}for(;d<s.length;++d)if(g>=this.Yt.length||!this.rn(this.Yt[g++],s[d]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Gr(Xr.comparator);const r=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Zi(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Zi(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Zi(s.field,"asc"===s.dir?0:1)));return new Ws(Ws.UNKNOWN_ID,this.collectionId,r,_o.empty())}tn(e){for(const r of this.Zt)if(this.nn(r,e))return!0;return!1}nn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function qg(i){var e,r;if(Tn(i instanceof Mr||i instanceof $r),i instanceof Mr){if(i instanceof Yf){const l=(null===(r=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>Mr.create(i.field,"==",d)))||[];return $r.create(l,"or")}return i}const s=i.filters.map(l=>qg(l));return $r.create(s,i.op)}function Jv(i){if(0===i.getFilters().length)return[];const e=fp(qg(i));return Tn(wh(e)),hp(e)||Cu(e)?[e]:e.getFilters()}function hp(i){return i instanceof Mr}function Cu(i){return i instanceof $r&&jf(i)}function wh(i){return hp(i)||Cu(i)||function(r){if(r instanceof $r&&ju(r)){for(const s of r.getFilters())if(!hp(s)&&!Cu(s))return!1;return!0}return!1}(i)}function fp(i){if(Tn(i instanceof Mr||i instanceof $r),i instanceof Mr)return i;if(1===i.filters.length)return fp(i.filters[0]);const e=i.filters.map(s=>fp(s));let r=$r.create(e,i.op);return r=pp(r),wh(r)?r:(Tn(r instanceof $r),Tn(va(r)),Tn(r.filters.length>1),r.filters.reduce((s,l)=>bh(s,l)))}function bh(i,e){let r;return Tn(i instanceof Mr||i instanceof $r),Tn(e instanceof Mr||e instanceof $r),r=i instanceof Mr?e instanceof Mr?$r.create([i,e],"and"):Ah(i,e):e instanceof Mr?Ah(e,i):function(l,d){if(Tn(l.filters.length>0&&d.filters.length>0),va(l)&&va(d))return pu(l,d.getFilters());const g=ju(l)?l:d,b=ju(l)?d:l,R=g.filters.map(B=>bh(B,b));return $r.create(R,"or")}(i,e),pp(r)}function Ah(i,e){if(va(e))return pu(e,i.getFilters());{const r=e.filters.map(s=>bh(i,s));return $r.create(r,"or")}}function pp(i){if(Tn(i instanceof Mr||i instanceof $r),i instanceof Mr)return i;const e=i.getFilters();if(1===e.length)return pp(e[0]);if(eh(i))return i;const r=e.map(l=>pp(l)),s=[];return r.forEach(l=>{l instanceof Mr?s.push(l):l instanceof $r&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:$r.create(s,i.op)}class CI{constructor(){this.on=new Yg}addToCollectionParentIndex(e,r){return this.on.add(r),_.resolve()}getCollectionParents(e,r){return _.resolve(this.on.getEntries(r))}addFieldIndex(e,r){return _.resolve()}deleteFieldIndex(e,r){return _.resolve()}deleteAllFieldIndexes(e){return _.resolve()}createTargetIndexes(e,r){return _.resolve()}getDocumentsMatchingTarget(e,r){return _.resolve(null)}getIndexType(e,r){return _.resolve(0)}getFieldIndexes(e,r){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,r){return _.resolve(Wo.min())}getMinOffsetFromCollectionGroup(e,r){return _.resolve(Wo.min())}updateCollectionGroup(e,r,s){return _.resolve()}updateIndexEntries(e,r){return _.resolve()}}class Yg{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new Gr(_r.comparator),d=!l.has(s);return this.index[r]=l.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Gr(_r.comparator)).toArray()}}const gp=new Uint8Array(0);class TI{constructor(e,r){this.user=e,this.databaseId=r,this._n=new Yg,this.an=new ea(s=>al(s),(s,l)=>La(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this._n.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this._n.add(r)});const d={collectionId:s,parent:bi(l)};return e_(e).put(d)}return _.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[Fu(r),""],!1,!0);return e_(e).W(l).next(d=>{for(const g of d){if(g.collectionId!==r)break;s.push(Es(g.parent))}return s})}addFieldIndex(e,r){const s=Yl(e),l={indexId:(b=r).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var b;delete l.indexId;const d=s.add(l);if(r.indexState){const g=Kl(e);return d.next(b=>{g.put(td(b,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=Yl(e),l=Kl(e),d=tc(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Yl(e),s=tc(e),l=Kl(e);return r.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,r){return _.forEach(this.un(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const d=new Xv(s).sn();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=tc(e);let l=!0;const d=new Map;return _.forEach(this.un(r),g=>this.cn(e,g).next(b=>{l&&(l=!!b),d.set(g,b)})).next(()=>{if(l){let g=fr();const b=[];return _.forEach(d,(R,B)=>{var Zn;Ft("IndexedDbIndexManager",`Using index ${Zn=R,`id=${Zn.indexId}|cg=${Zn.collectionGroup}|f=${Zn.fields.map(Tr=>`${Tr.fieldPath}:${Tr.kind}`).join(",")}`} to execute ${al(r)}`);const K=function(Zn,Tr){const Jr=Sc(Tr);if(void 0===Jr)return null;for(const Lr of Vl(Zn,Jr.fieldPath))switch(Lr.op){case"array-contains-any":return Lr.value.arrayValue.values||[];case"array-contains":return[Lr.value]}return null}(B,R),De=function(Zn,Tr){const Jr=new Map;for(const Lr of Os(Tr))for(const to of Vl(Zn,Lr.fieldPath))switch(to.op){case"==":case"in":Jr.set(Lr.fieldPath.canonicalString(),to.value);break;case"not-in":case"!=":return Jr.set(Lr.fieldPath.canonicalString(),to.value),Array.from(Jr.values())}return null}(B,R),Ze=function(Zn,Tr){const Jr=[];let Lr=!0;for(const to of Os(Tr)){const so=0===to.kind?Kf(Zn,to.fieldPath,Zn.startAt):rh(Zn,to.fieldPath,Zn.startAt);Jr.push(so.value),Lr&&(Lr=so.inclusive)}return new gi(Jr,Lr)}(B,R),mt=function(Zn,Tr){const Jr=[];let Lr=!0;for(const to of Os(Tr)){const so=0===to.kind?rh(Zn,to.fieldPath,Zn.endAt):Kf(Zn,to.fieldPath,Zn.endAt);Jr.push(so.value),Lr&&(Lr=so.inclusive)}return new gi(Jr,Lr)}(B,R),Jt=this.ln(R,B,Ze),un=this.ln(R,B,mt),cn=this.hn(R,B,De),Wn=this.Pn(R.indexId,K,Jt,Ze.inclusive,un,mt.inclusive,cn);return _.forEach(Wn,Qn=>s.j(Qn,r.limit).next(Zn=>{Zn.forEach(Tr=>{const Jr=an.fromSegments(Tr.documentKey);g.has(Jr)||(g=g.add(Jr),b.push(Jr))})}))}).next(()=>b)}return _.resolve(null)})}un(e){let r=this.an.get(e);return r||(r=0===e.filters.length?[e]:Jv($r.create(e.filters,"and")).map(s=>Fa(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,r),r)}Pn(e,r,s,l,d,g,b){const R=(null!=r?r.length:1)*Math.max(s.length,d.length),B=R/(null!=r?r.length:1),K=[];for(let De=0;De<R;++De){const Ze=r?this.In(r[De/B]):gp,mt=this.Tn(e,Ze,s[De%B],l),Jt=this.En(e,Ze,d[De%B],g),un=b.map(cn=>this.Tn(e,Ze,cn,!0));K.push(...this.createRange(mt,Jt,un))}return K}Tn(e,r,s,l){const d=new ec(e,an.empty(),r,s);return l?d:d.Ht()}En(e,r,s,l){const d=new ec(e,an.empty(),r,s);return l?d.Ht():d}cn(e,r){const s=new Xv(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let g=null;for(const b of d)s.en(b)&&(!g||b.fields.length>g.fields.length)&&(g=b);return g})}getIndexType(e,r){let s=2;const l=this.un(r);return _.forEach(l,d=>this.cn(e,d).next(g=>{g?0!==s&&g.fields.length<function(R){let B=new Gr(Xr.comparator),K=!1;for(const De of R.filters)for(const Ze of De.getFlattenedFilters())Ze.field.isKeyField()||("array-contains"===Ze.op||"array-contains-any"===Ze.op?K=!0:B=B.add(Ze.field));for(const De of R.orderBy)De.field.isKeyField()||(B=B.add(De.field));return B.size+(K?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}dn(e,r){const s=new Ju;for(const l of Os(e)){const d=r.data.field(l.fieldPath);if(null==d)return null;const g=s.jt(l.kind);Du.St.ht(d,g)}return s.Ut()}In(e){const r=new Ju;return Du.St.ht(e,r.jt(0)),r.Ut()}An(e,r){const s=new Ju;return Du.St.ht(Vs(this.databaseId,r),s.jt(function(d){const g=Os(d);return 0===g.length?0:g[g.length-1].kind}(e))),s.Ut()}hn(e,r,s){if(null===s)return[];let l=[];l.push(new Ju);let d=0;for(const g of Os(e)){const b=s[d++];for(const R of l)if(this.Rn(r,g.fieldPath)&&ka(b))l=this.Vn(l,g,b);else{const B=R.jt(g.kind);Du.St.ht(b,B)}}return this.mn(l)}ln(e,r,s){return this.hn(e,r,s.position)}mn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Ut();return r}Vn(e,r,s){const l=[...e],d=[];for(const g of s.arrayValue.values||[])for(const b of l){const R=new Ju;R.seed(b.Ut()),Du.St.ht(g,R.jt(r.kind)),d.push(R)}return d}Rn(e,r){return!!e.filters.find(s=>s instanceof Mr&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Yl(e),l=Kl(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const g=[];return _.forEach(d,b=>l.get([b.indexId,this.uid]).next(R=>{g.push(function(K,De){const Ze=De?new _o(De.sequenceNumber,new Wo(Qu(De.readTime),new an(Es(De.documentKey)),De.largestBatchId)):_o.empty(),mt=K.fields.map(([Jt,un])=>new Zi(Xr.fromServerFormat(Jt),un));return new Ws(K.indexId,K.collectionGroup,mt,Ze)}(b,R))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:ut(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=Yl(e),d=Kl(e);return this.fn(e).next(g=>l.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(b=>_.forEach(b,R=>d.put(td(R.indexId,this.user,g,s)))))}updateIndexEntries(e,r){const s=new Map;return _.forEach(r,(l,d)=>{const g=s.get(l.collectionGroup);return(g?_.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(b=>(s.set(l.collectionGroup,b),_.forEach(b,R=>this.gn(e,l,R).next(B=>{const K=this.pn(d,R);return B.isEqual(K)?_.resolve():this.yn(e,d,R,B,K)}))))})}wn(e,r,s,l){return tc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.An(s,r.key),documentKey:r.key.path.toArray()})}Sn(e,r,s,l){return tc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.An(s,r.key),r.key.path.toArray()])}gn(e,r,s){const l=tc(e);let d=new Gr(Ia);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,r)])},(g,b)=>{d=d.add(new ec(s.indexId,r,b.arrayValue,b.directionalValue))}).next(()=>d)}pn(e,r){let s=new Gr(Ia);const l=this.dn(r,e);if(null==l)return s;const d=Sc(r);if(null!=d){const g=e.data.field(d.fieldPath);if(ka(g))for(const b of g.arrayValue.values||[])s=s.add(new ec(r.indexId,e.key,this.In(b),l))}else s=s.add(new ec(r.indexId,e.key,gp,l));return s}yn(e,r,s,l,d){Ft("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const g=[];return function(R,B,K,De,Ze){const mt=R.getIterator(),Jt=B.getIterator();let un=ga(mt),cn=ga(Jt);for(;un||cn;){let Wn=!1,Qn=!1;if(un&&cn){const Zn=K(un,cn);Zn<0?Qn=!0:Zn>0&&(Wn=!0)}else null!=un?Qn=!0:Wn=!0;Wn?(De(cn),cn=ga(Jt)):Qn?(Ze(un),un=ga(mt)):(un=ga(mt),cn=ga(Jt))}}(l,d,Ia,b=>{g.push(this.wn(e,r,s,b))},b=>{g.push(this.Sn(e,r,s,b))}),_.waitFor(g)}fn(e){let r=1;return Kl(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((g,b)=>Ia(g,b)).filter((g,b,R)=>!b||0!==Ia(g,R[b-1]));const l=[];l.push(e);for(const g of s){const b=Ia(g,e),R=Ia(g,r);if(0===b)l[0]=e.Ht();else if(b>0&&R<0)l.push(g),l.push(g.Ht());else if(R>0)break}l.push(r);const d=[];for(let g=0;g<l.length;g+=2){if(this.bn(l[g],l[g+1]))return[];d.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,gp,[]],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,gp,[]]))}return d}bn(e,r){return Ia(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(mp)}getMinOffset(e,r){return _.mapArray(this.un(r),s=>this.cn(e,s).next(l=>l||yn())).next(mp)}}function e_(i){return qi(i,"collectionParents")}function tc(i){return qi(i,"indexEntries")}function Yl(i){return qi(i,"indexConfiguration")}function Kl(i){return qi(i,"indexState")}function mp(i){Tn(0!==i.length);let e=i[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Yd(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new Wo(e.readTime,e.documentKey,r)}const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class us{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vp(i,e,r){const s=i.store("mutations"),l=i.store("documentMutations"),d=[],g=IDBKeyRange.only(r.batchId);let b=0;const R=s.Y({range:g},(K,De,Ze)=>(b++,Ze.delete()));d.push(R.next(()=>{Tn(1===b)}));const B=[];for(const K of r.mutations){const De=Pl(e,K.key.path,r.batchId);d.push(l.delete(De)),B.push(K.key)}return _.waitFor(d).next(()=>B)}function Sh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw yn();e=i.noDocument}return JSON.stringify(e).length}us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(41943040,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);class pl{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Dn={}}static ct(e,r,s,l){Tn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new pl(d,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zl(e).Y({index:"userMutationsIndex",range:s},(l,d,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const d=nd(e),g=Zl(e);return g.add({}).next(b=>{Tn("number"==typeof b);const R=new yu(b,r,s,l),B=function(mt,Jt,un){const cn=un.baseMutations.map(Qn=>Ih(mt.ut,Qn)),Wn=un.mutations.map(Qn=>Ih(mt.ut,Qn));return{userId:Jt,batchId:un.batchId,localWriteTimeMs:un.localWriteTime.toMillis(),baseMutations:cn,mutations:Wn}}(this.serializer,this.userId,R),K=[];let De=new Gr((Ze,mt)=>ut(Ze.canonicalString(),mt.canonicalString()));for(const Ze of l){const mt=Pl(this.userId,Ze.key.path,b);De=De.add(Ze.key.path.popLast()),K.push(g.put(B)),K.push(d.put(mt,xl))}return De.forEach(Ze=>{K.push(this.indexManager.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.Dn[b]=R.keys()}),_.waitFor(K).next(()=>R)})}lookupMutationBatch(e,r){return Zl(e).get(r).next(s=>s?(Tn(s.userId===this.userId),Xu(this.serializer,s)):null)}Cn(e,r){return this.Dn[r]?_.resolve(this.Dn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Dn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Zl(e).Y({index:"userMutationsIndex",range:l},(g,b,R)=>{b.userId===this.userId&&(Tn(b.batchId>=s),d=Xu(this.serializer,b)),R.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Zl(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(l,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zl(e).W("userMutationsIndex",r).next(s=>s.map(l=>Xu(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=Pc(this.userId,r.path),l=IDBKeyRange.lowerBound(s),d=[];return nd(e).Y({range:l},(g,b,R)=>{const[B,K,De]=g,Ze=Es(K);if(B===this.userId&&r.path.isEqual(Ze))return Zl(e).get(De).next(mt=>{if(!mt)throw yn();Tn(mt.userId===this.userId),d.push(Xu(this.serializer,mt))});R.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Gr(ut);const l=[];return r.forEach(d=>{const g=Pc(this.userId,d.path),b=IDBKeyRange.lowerBound(g),R=nd(e).Y({range:b},(B,K,De)=>{const[Ze,mt,Jt]=B,un=Es(mt);Ze===this.userId&&d.path.isEqual(un)?s=s.add(Jt):De.done()});l.push(R)}),_.waitFor(l).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,d=Pc(this.userId,s),g=IDBKeyRange.lowerBound(d);let b=new Gr(ut);return nd(e).Y({range:g},(R,B,K)=>{const[De,Ze,mt]=R,Jt=Es(Ze);De===this.userId&&s.isPrefixOf(Jt)?Jt.length===l&&(b=b.add(mt)):K.done()}).next(()=>this.vn(e,b))}vn(e,r){const s=[],l=[];return r.forEach(d=>{l.push(Zl(e).get(d).next(g=>{if(null===g)throw yn();Tn(g.userId===this.userId),s.push(Xu(this.serializer,g))}))}),_.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return vp(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Fn(r.batchId)}),_.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return _.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return nd(e).Y({range:s},(d,g,b)=>{if(d[0]===this.userId){const R=Es(d[1]);l.push(R)}else b.done()}).next(()=>{Tn(0===l.length)})})}containsKey(e,r){return Kg(e,this.userId,r)}Mn(e){return wI(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kg(i,e,r){const s=Pc(e,r.path),l=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return nd(i).Y({range:d,J:!0},(b,R,B)=>{const[K,De,Ze]=b;K===e&&De===l&&(g=!0),B.done()}).next(()=>g)}function Zl(i){return qi(i,"mutations")}function nd(i){return qi(i,"documentMutations")}function wI(i){return qi(i,"mutationQueues")}class gl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new gl(0)}static Nn(){return new gl(-1)}}class bI{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new gl(r.highestTargetId);return r.highestTargetId=s.next(),this.Ln(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>rn.fromTimestamp(new pi(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.Ln(e,l)))}addTargetData(e,r){return this.kn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.qn(r,s),this.Ln(e,s))))}updateTargetData(e,r){return this.kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>nc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Tn(s.targetCount>0),s.targetCount-=1,this.Ln(e,s)))}removeTargets(e,r,s){let l=0;const d=[];return nc(e).Y((g,b)=>{const R=Fo(b);R.sequenceNumber<=r&&null===s.get(R.targetId)&&(l++,d.push(this.removeTargetData(e,R)))}).next(()=>_.waitFor(d)).next(()=>l)}forEachTarget(e,r){return nc(e).Y((s,l)=>{const d=Fo(l);r(d)})}Bn(e){return Zg(e).get("targetGlobalKey").next(r=>(Tn(null!==r),r))}Ln(e,r){return Zg(e).put("targetGlobalKey",r)}kn(e,r){return nc(e).put(cp(this.serializer,r))}qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=al(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return nc(e).Y({range:l,index:"queryTargetsIndex"},(g,b,R)=>{const B=Fo(b);La(r,B.target)&&(d=B,R.done())}).next(()=>d)}addMatchingKeys(e,r,s){const l=[],d=Ql(e);return r.forEach(g=>{const b=bi(g.path);l.push(d.put({targetId:s,path:b})),l.push(this.referenceDelegate.addReference(e,s,g))}),_.waitFor(l)}removeMatchingKeys(e,r,s){const l=Ql(e);return _.forEach(r,d=>{const g=bi(d.path);return _.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=Ql(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=Ql(e);let d=fr();return l.Y({range:s,J:!0},(g,b,R)=>{const B=Es(g[1]),K=new an(B);d=d.add(K)}).next(()=>d)}containsKey(e,r){const s=bi(r.path),l=IDBKeyRange.bound([s],[Fu(s)],!1,!0);let d=0;return Ql(e).Y({index:"documentTargetsIndex",J:!0,range:l},([g,b],R,B)=>{0!==g&&(d++,B.done())}).next(()=>d>0)}_t(e,r){return nc(e).get(r).next(s=>s?Fo(s):null)}}function nc(i){return qi(i,"targets")}function Zg(i){return qi(i,"targetGlobal")}function Ql(i){return qi(i,"targetDocuments")}function _p([i,e],[r,s]){const l=ut(i,r);return 0===l?ut(e,s):l}class n_{constructor(e){this.Qn=e,this.buffer=new Gr(_p),this.Kn=0}$n(){return++this.Kn}Un(e){const r=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();_p(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Rh{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var r=this;Ft("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,le.Z)(function*(){r.Wn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Ot(s)?Ft("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield w(s)}yield r.Gn(3e5)}))}}class Mh{constructor(e,r){this.zn=e,this.params=r}calculateTargetCount(e,r){return this.zn.jn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return _.resolve(sr._e);const s=new n_(r);return this.zn.forEachTarget(e,l=>s.Un(l.sequenceNumber)).next(()=>this.zn.Hn(e,l=>s.Un(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.zn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.zn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),_.resolve(t_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.Jn(e,r))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,r){let s,l,d,g,b,R,B;const K=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(De=>(De>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${De}`),l=this.params.maximumSequenceNumbersToCollect):l=De,g=Date.now(),this.nthSequenceNumber(e,l))).next(De=>(s=De,b=Date.now(),this.removeTargets(e,s,r))).next(De=>(d=De,R=Date.now(),this.removeOrphanedDocuments(e,s))).next(De=>(B=Date.now(),Is()<=we.in.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-K}ms\n\tDetermined least recently used ${l} in `+(b-g)+`ms\n\tRemoved ${d} targets in `+(R-b)+`ms\n\tRemoved ${De} documents in `+(B-R)+`ms\nTotal Duration: ${B-K}ms`),_.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:De})))}}class Xg{constructor(e,r){this.db=e,this.garbageCollector=function Qg(i,e){return new Mh(i,e)}(this,r)}jn(e){const r=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Yn(e){let r=0;return this.Hn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Hn(e,r){return this.Zn(e,(s,l)=>r(l))}addReference(e,r,s){return rc(e,s)}removeReference(e,r,s){return rc(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return rc(e,r)}Xn(e,r){return function(l,d){let g=!1;return wI(l).Z(b=>Kg(l,b,d).next(R=>(R&&(g=!0),_.resolve(!R)))).next(()=>g)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Zn(e,(g,b)=>{if(b<=r){const R=this.Xn(e,g).next(B=>{if(!B)return d++,s.getEntry(e,g).next(()=>(s.removeEntry(g,rn.min()),Ql(e).delete([0,bi(g.path)])))});l.push(R)}}).next(()=>_.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return rc(e,r)}Zn(e,r){const s=Ql(e);let l,d=sr._e;return s.Y({index:"documentTargetsIndex"},([g,b],{path:R,sequenceNumber:B})=>{0===g?(d!==sr._e&&r(new an(Es(l)),d),d=B,l=R):d=sr._e}).next(()=>{d!==sr._e&&r(new an(Es(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rc(i,e){return Ql(i).put((l=i.currentSequenceNumber,{targetId:0,path:bi(e.path),sequenceNumber:l}));var l}class Jg{constructor(){this.changes=new ea(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Di.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?_.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class em{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return ic(e).put(s)}removeEntry(e,r,s){return ic(e).delete(function(d,g){const b=d.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],up(g),b[b.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.er(e,s)))}getEntry(e,r){let s=Di.newInvalidDocument(r);return ic(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ph(r))},(l,d)=>{s=this.tr(r,d)}).next(()=>s)}nr(e,r){let s={size:0,document:Di.newInvalidDocument(r)};return ic(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ph(r))},(l,d)=>{s={document:this.tr(r,d),size:Sh(d)}}).next(()=>s)}getEntries(e,r){let s=Yo();return this.rr(e,r,(l,d)=>{const g=this.tr(l,d);s=s.insert(l,g)}).next(()=>s)}ir(e,r){let s=Yo(),l=new Rr(an.comparator);return this.rr(e,r,(d,g)=>{const b=this.tr(d,g);s=s.insert(d,b),l=l.insert(d,Sh(g))}).next(()=>({documents:s,sr:l}))}rr(e,r,s){if(r.isEmpty())return _.resolve();let l=new Gr(nm);r.forEach(R=>l=l.add(R));const d=IDBKeyRange.bound(Ph(l.first()),Ph(l.last())),g=l.getIterator();let b=g.getNext();return ic(e).Y({index:"documentKeyIndex",range:d},(R,B,K)=>{const De=an.fromSegments([...B.prefixPath,B.collectionGroup,B.documentId]);for(;b&&nm(b,De)<0;)s(b,null),b=g.getNext();b&&b.isEqual(De)&&(s(b,B),b=g.hasNext()?g.getNext():null),b?K.U(Ph(b)):K.done()}).next(()=>{for(;b;)s(b,null),b=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,d){const g=r.path,b=[g.popLast().toArray(),g.lastSegment(),up(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).W(IDBKeyRange.bound(b,R,!0)).next(B=>{null==d||d.incrementDocumentReadCount(B.length);let K=Yo();for(const De of B){const Ze=this.tr(an.fromSegments(De.prefixPath.concat(De.collectionGroup,De.documentId)),De);Ze.isFoundDocument()&&(zu(r,Ze)||l.has(Ze.key))&&(K=K.insert(Ze.key,Ze))}return K})}getAllFromCollectionGroup(e,r,s,l){let d=Yo();const g=r_(r,s),b=r_(r,Wo.max());return ic(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,b,!0)},(R,B,K)=>{const De=this.tr(an.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);d=d.insert(De.key,De),d.size===l&&K.done()}).next(()=>d)}newChangeBuffer(e){return new AI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return tm(e).get("remoteDocumentGlobalKey").next(r=>(Tn(!!r),r))}er(e,r){return tm(e).put("remoteDocumentGlobalKey",r)}tr(e,r){if(r){const s=function yI(i,e){let r;if(e.document)r=jg(i.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=an.fromSegments(e.noDocument.path),l=Qu(e.noDocument.readTime);r=Di.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return yn();{const s=an.fromSegments(e.unknownDocument.path),l=Qu(e.unknownDocument.version);r=Di.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const d=new pi(l[0],l[1]);return rn.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(rn.min()))return s}return Di.newInvalidDocument(e)}}function rd(i){return new em(i)}class AI extends Jg{constructor(e,r){super(),this._r=e,this.trackRemovals=r,this.ar=new ea(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new Gr((d,g)=>ut(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const b=this.ar.get(d);if(r.push(this._r.removeEntry(e,d,b.readTime)),g.isValidDocument()){const R=Yv(this._r.serializer,g);l=l.add(d.path.popLast());const B=Sh(R);s+=B-b.size,r.push(this._r.addEntry(e,d,R))}else if(s-=b.size,this.trackRemovals){const R=Yv(this._r.serializer,g.convertToNoDocument(rn.min()));r.push(this._r.addEntry(e,d,R))}}),l.forEach(d=>{r.push(this._r.indexManager.addToCollectionParentIndex(e,d))}),r.push(this._r.updateMetadata(e,s)),_.waitFor(r)}getFromCache(e,r){return this._r.nr(e,r).next(s=>(this.ar.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this._r.ir(e,r).next(({documents:s,sr:l})=>(l.forEach((d,g)=>{this.ar.set(d,{size:g,readTime:s.get(d).readTime})}),s))}}function tm(i){return qi(i,"remoteDocumentGlobal")}function ic(i){return qi(i,"remoteDocumentsV14")}function Ph(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function r_(i,e){const r=e.documentKey.path.toArray();return[i,up(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function nm(i,e){const r=i.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(l=ut(r[d],s[d]),l)return l;return l=ut(r.length,s.length),l||(l=ut(r[r.length-2],s[s.length-2]),l||ut(r[r.length-1],s[s.length-1]))}class i_{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class xh{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&_u(s.mutation,l,Oo.empty(),pi.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,fr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=fr()){const l=Ds();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(d=>{let g=Ul();return d.forEach((b,R)=>{g=g.insert(b,R.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=Ds();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,fr()))}populateOverlays(e,r,s){const l=[];return s.forEach(d=>{r.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((g,b)=>{r.set(g,b)})})}computeViews(e,r,s,l){let d=Yo();const g=$a(),b=$a();return r.forEach((R,B)=>{const K=s.get(B.key);l.has(B.key)&&(void 0===K||K.mutation instanceof cl)?d=d.insert(B.key,B):void 0!==K?(g.set(B.key,K.mutation.getFieldMask()),_u(K.mutation,B,K.mutation.getFieldMask(),pi.now())):g.set(B.key,Oo.empty())}),this.recalculateAndSaveOverlays(e,d).next(R=>(R.forEach((B,K)=>g.set(B,K)),r.forEach((B,K)=>{var De;return b.set(B,new i_(K,null!==(De=g.get(B))&&void 0!==De?De:null))}),b))}recalculateAndSaveOverlays(e,r){const s=$a();let l=new Rr((g,b)=>g-b),d=fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const b of g)b.keys().forEach(R=>{const B=r.get(R);if(null===B)return;let K=s.get(R)||Oo.empty();K=b.applyToLocalView(B,K),s.set(R,K);const De=(l.get(b.batchId)||fr()).add(R);l=l.insert(b.batchId,De)})}).next(()=>{const g=[],b=l.getReverseIterator();for(;b.hasNext();){const R=b.getNext(),B=R.key,K=R.value,De=Vg();K.forEach(Ze=>{if(!d.has(Ze)){const mt=as(r.get(Ze),s.get(Ze));null!==mt&&De.set(Ze,mt),d=d.add(Ze)}}),g.push(this.documentOverlayCache.saveOverlays(e,B,De))}return _.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return an.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Va(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var g}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(d=>{const g=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-d.size):_.resolve(Ds());let b=-1,R=d;return g.next(B=>_.forEach(B,(K,De)=>(b<De.largestBatchId&&(b=De.largestBatchId),d.get(K)?_.resolve():this.remoteDocumentCache.getEntry(e,K).next(Ze=>{R=R.insert(K,Ze)}))).next(()=>this.populateOverlays(e,B,d)).next(()=>this.computeViews(e,R,B,fr())).next(K=>({batchId:b,changes:Gu(K)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new an(r)).next(s=>{let l=Ul();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const d=r.collectionGroup;let g=Ul();return this.indexManager.getCollectionParents(e,d).next(b=>_.forEach(b,R=>{const B=(De=r,Ze=R.child(d),new Xs(Ze,null,De.explicitOrderBy.slice(),De.filters.slice(),De.limit,De.limitType,De.startAt,De.endAt));var De,Ze;return this.getDocumentsMatchingCollectionQuery(e,B,s,l).next(K=>{K.forEach((De,Ze)=>{g=g.insert(De,Ze)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,l){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(d=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,l))).next(g=>{d.forEach((R,B)=>{const K=B.getKey();null===g.get(K)&&(g=g.insert(K,Di.newInvalidDocument(K)))});let b=Ul();return g.forEach((R,B)=>{const K=d.get(R);void 0!==K&&_u(K.mutation,B,Oo.empty(),pi.now()),zu(r,B)&&(b=b.insert(R,B))}),b})}}class rm{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,r){return _.resolve(this.ur.get(r))}saveBundleMetadata(e,r){return this.ur.set(r.id,{id:(l=r).id,version:l.version,createTime:Ri(l.createTime)}),_.resolve();var l}getNamedQuery(e,r){return _.resolve(this.cr.get(r))}saveNamedQuery(e,r){return this.cr.set(r.name,{name:(l=r).name,query:dp(l.bundledQuery),readTime:Ri(l.readTime)}),_.resolve();var l}}class id{constructor(){this.overlays=new Rr(an.comparator),this.lr=new Map}getOverlay(e,r){return _.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Ds();return _.forEach(r,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,d)=>{this.lt(e,r,d)}),_.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.lr.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.lr.delete(s)),_.resolve()}getOverlaysForCollection(e,r,s){const l=Ds(),d=r.length+1,g=new an(r.child("")),b=this.overlays.getIteratorFrom(g);for(;b.hasNext();){const R=b.getNext().value,B=R.getKey();if(!r.isPrefixOf(B.path))break;B.path.length===d&&R.largestBatchId>s&&l.set(R.getKey(),R)}return _.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let d=new Rr((B,K)=>B-K);const g=this.overlays.getIterator();for(;g.hasNext();){const B=g.getNext().value;if(B.getKey().getCollectionGroup()===r&&B.largestBatchId>s){let K=d.get(B.largestBatchId);null===K&&(K=Ds(),d=d.insert(B.largestBatchId,K)),K.set(B.getKey(),B)}}const b=Ds(),R=d.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((B,K)=>b.set(B,K)),!(b.size()>=l)););return _.resolve(b)}lt(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const g=this.lr.get(l.largestBatchId).delete(s.key);this.lr.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new dl(r,s));let d=this.lr.get(r);void 0===d&&(d=fr(),this.lr.set(r,d)),this.lr.set(r,d.add(s.key))}}class im{constructor(){this.hr=new Gr(Lo.Pr),this.Ir=new Gr(Lo.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,r){const s=new Lo(e,r);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.dr(new Lo(e,r))}Ar(e,r){e.forEach(s=>this.removeReference(s,r))}Rr(e){const r=new an(new _r([])),s=new Lo(r,e),l=new Lo(r,e+1),d=[];return this.Ir.forEachInRange([s,l],g=>{this.dr(g),d.push(g.key)}),d}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const r=new an(new _r([])),s=new Lo(r,e),l=new Lo(r,e+1);let d=fr();return this.Ir.forEachInRange([s,l],g=>{d=d.add(g.key)}),d}containsKey(e){const r=new Lo(e,0),s=this.hr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Lo{constructor(e,r){this.key=e,this.gr=r}static Pr(e,r){return an.comparator(e.key,r.key)||ut(e.gr,r.gr)}static Tr(e,r){return ut(e.gr,r.gr)||an.comparator(e.key,r.key)}}class pD{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.pr=1,this.yr=new Gr(Lo.Pr)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const d=this.pr;this.pr++;const g=new yu(d,r,s,l);this.mutationQueue.push(g);for(const b of l)this.yr=this.yr.add(new Lo(b.key,d)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return _.resolve(g)}lookupMutationBatch(e,r){return _.resolve(this.wr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.Sr(r+1),d=l<0?0:l;return _.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Lo(r,0),l=new Lo(r,Number.POSITIVE_INFINITY),d=[];return this.yr.forEachInRange([s,l],g=>{const b=this.wr(g.gr);d.push(b)}),_.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Gr(ut);return r.forEach(l=>{const d=new Lo(l,0),g=new Lo(l,Number.POSITIVE_INFINITY);this.yr.forEachInRange([d,g],b=>{s=s.add(b.gr)})}),_.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let d=s;an.isDocumentKey(d)||(d=d.child(""));const g=new Lo(new an(d),0);let b=new Gr(ut);return this.yr.forEachWhile(R=>{const B=R.key.path;return!!s.isPrefixOf(B)&&(B.length===l&&(b=b.add(R.gr)),!0)},g),_.resolve(this.br(b))}br(e){const r=[];return e.forEach(s=>{const l=this.wr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){Tn(0===this.Dr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return _.forEach(r.mutations,l=>{const d=new Lo(l.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,r){const s=new Lo(r,0),l=this.yr.firstAfterOrEqual(s);return _.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return _.resolve()}Dr(e,r){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const r=this.Sr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class SI{constructor(e){this.Cr=e,this.docs=new Rr(an.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),d=l?l.size:0,g=this.Cr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return _.resolve(s?s.document.mutableCopy():Di.newInvalidDocument(r))}getEntries(e,r){let s=Yo();return r.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():Di.newInvalidDocument(l))}),_.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let d=Yo();const g=r.path,b=new an(g.child("")),R=this.docs.getIteratorFrom(b);for(;R.hasNext();){const{key:B,value:{document:K}}=R.getNext();if(!g.isPrefixOf(B.path))break;B.path.length>g.length+1||Yd(qd(K),s)<=0||(l.has(K.key)||zu(r,K))&&(d=d.insert(K.key,K.mutableCopy()))}return _.resolve(d)}getAllFromCollectionGroup(e,r,s,l){yn()}vr(e,r){return _.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new yp(this)}getSize(e){return _.resolve(this.size)}}class yp extends Jg{constructor(e){super(),this._r=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this._r.addEntry(e,l)):this._r.removeEntry(s)}),_.waitFor(r)}getFromCache(e,r){return this._r.getEntry(e,r)}getAllFromCache(e,r){return this._r.getEntries(e,r)}}class om{constructor(e){this.persistence=e,this.Fr=new ea(r=>al(r),La),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new im,this.targetCount=0,this.Nr=gl.On()}forEachTarget(e,r){return this.Fr.forEach((s,l)=>r(l)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Mr&&(this.Mr=r),_.resolve()}kn(e){this.Fr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Nr=new gl(r),this.highestTargetId=r),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,r){return this.kn(r),this.targetCount+=1,_.resolve()}updateTargetData(e,r){return this.kn(r),_.resolve()}removeTargetData(e,r){return this.Fr.delete(r.target),this.Or.Rr(r.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,r,s){let l=0;const d=[];return this.Fr.forEach((g,b)=>{b.sequenceNumber<=r&&null===s.get(b.targetId)&&(this.Fr.delete(g),d.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)}),_.waitFor(d).next(()=>l)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,r){const s=this.Fr.get(r)||null;return _.resolve(s)}addMatchingKeys(e,r,s){return this.Or.Er(r,s),_.resolve()}removeMatchingKeys(e,r,s){this.Or.Ar(r,s);const l=this.persistence.referenceDelegate,d=[];return l&&r.forEach(g=>{d.push(l.markPotentiallyOrphaned(e,g))}),_.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Or.Rr(r),_.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Or.mr(r);return _.resolve(s)}containsKey(e,r){return _.resolve(this.Or.containsKey(r))}}class Ip{constructor(e,r){this.Br={},this.overlays={},this.Lr=new sr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new om(this),this.indexManager=new CI,this.remoteDocumentCache=new SI(s=>this.referenceDelegate.Qr(s)),this.serializer=new lp(r),this.Kr=new rm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new id,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new pD(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,r,s){Ft("MemoryPersistence","Starting transaction:",e);const l=new o_(this.Lr.next());return this.referenceDelegate.$r(),s(l).next(d=>this.referenceDelegate.Ur(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Wr(e,r){return _.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class o_ extends E{constructor(e){super(),this.currentSequenceNumber=e}}class Oh{constructor(e){this.persistence=e,this.Gr=new im,this.zr=null}static jr(e){return new Oh(e)}get Hr(){if(this.zr)return this.zr;throw yn()}addReference(e,r,s){return this.Gr.addReference(s,r),this.Hr.delete(s.toString()),_.resolve()}removeReference(e,r,s){return this.Gr.removeReference(s,r),this.Hr.add(s.toString()),_.resolve()}markPotentiallyOrphaned(e,r){return this.Hr.add(r.toString()),_.resolve()}removeTarget(e,r){this.Gr.Rr(r.targetId).forEach(l=>this.Hr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(d=>this.Hr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}$r(){this.zr=new Set}Ur(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Hr,s=>{const l=an.fromPath(s);return this.Jr(e,l).next(d=>{d||r.removeEntry(l,rn.min())})}).next(()=>(this.zr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Jr(e,r).next(s=>{s?this.Hr.delete(r.toString()):this.Hr.add(r.toString())})}Qr(e){return 0}Jr(e,r){return _.or([()=>_.resolve(this.Gr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Wr(e,r)])}}class RI{constructor(e){this.serializer=e}N(e,r,s,l){const d=new P("createOrUpgrade",r);var R;s<1&&l>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zs,{unique:!0}),R.createObjectStore("documentMutations"),s_(e),function(R){R.createObjectStore("remoteDocuments")}(e));let g=_.resolve();return s<3&&l>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),s_(e)),g=g.next(()=>function(R){const B=R.store("targetGlobal"),K={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rn.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",K)}(d))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(R,B){return B.store("mutations").W().next(K=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zs,{unique:!0});const De=B.store("mutations"),Ze=K.map(mt=>De.put(mt));return _.waitFor(Ze)})}(e,d))),g=g.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(g=g.next(()=>this.Zr(d))),s<6&&l>=6&&(g=g.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(d)))),s<7&&l>=7&&(g=g.next(()=>this.ei(d))),s<8&&l>=8&&(g=g.next(()=>this.ti(e,d))),s<9&&l>=9&&(g=g.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(g=g.next(()=>this.ni(d))),s<11&&l>=11&&(g=g.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(g=g.next(()=>{!function(R){const B=R.createObjectStore("documentOverlays",{keyPath:xg});B.createIndex("collectionPathOverlayIndex",$v,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Lf,{unique:!1})}(e)})),s<13&&l>=13&&(g=g.next(()=>function(R){const B=R.createObjectStore("remoteDocumentsV14",{keyPath:uu});B.createIndex("documentKeyIndex",Kd),B.createIndex("collectionGroupIndex",xc)}(e)).next(()=>this.ri(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(g=g.next(()=>this.ii(e,d))),s<15&&l>=15&&(g=g.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Pg}).createIndex("sequenceNumberIndex",Zd,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Qd}).createIndex("documentKeyIndex",Ff,{unique:!1})}(e))),g}Xr(e){let r=0;return e.store("remoteDocuments").Y((s,l)=>{r+=Sh(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(l=>_.forEach(l,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",g).next(b=>_.forEach(b,R=>{Tn(R.userId===d.userId);const B=Xu(this.serializer,R);return vp(e,d.userId,B).next(()=>{})}))}))}ei(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Y((g,b)=>{const R=new _r(g),B=[0,bi(R)];d.push(r.get(B).next(K=>K?_.resolve():r.put({targetId:0,path:bi(R),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>_.waitFor(d))})}ti(e,r){e.createObjectStore("collectionParents",{keyPath:Lu});const s=r.store("collectionParents"),l=new Yg,d=g=>{if(l.add(g)){const b=g.lastSegment(),R=g.popLast();return s.put({collectionId:b,parent:bi(R)})}};return r.store("remoteDocuments").Y({J:!0},(g,b)=>{const R=new _r(g);return d(R.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([g,b,R],B)=>{const K=Es(b);return d(K.popLast())}))}ni(e){const r=e.store("targets");return r.Y((s,l)=>{const d=Fo(l),g=cp(this.serializer,d);return r.put(g)})}ri(e,r){const s=r.store("remoteDocuments"),l=[];return s.Y((d,g)=>{const b=r.store("remoteDocumentsV14"),R=(De=g,De.document?new an(_r.fromString(De.document.name).popFirst(5)):De.noDocument?an.fromSegments(De.noDocument.path):De.unknownDocument?an.fromSegments(De.unknownDocument.path):yn()).path.toArray(),B={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};var De;l.push(b.put(B))}).next(()=>_.waitFor(l))}ii(e,r){const s=r.store("mutations"),l=rd(this.serializer),d=new Ip(Oh.jr,this.serializer.ut);return s.W().next(g=>{const b=new Map;return g.forEach(R=>{var B;let K=null!==(B=b.get(R.userId))&&void 0!==B?B:fr();Xu(this.serializer,R).keys().forEach(De=>K=K.add(De)),b.set(R.userId,K)}),_.forEach(b,(R,B)=>{const K=new Sr(B),De=Ch.ct(this.serializer,K),Ze=d.getIndexManager(K),mt=pl.ct(K,this.serializer,Ze,d.referenceDelegate);return new xh(l,mt,De,Ze).recalculateAndSaveOverlaysForDocumentKeys(new du(r,sr._e),R).next()})})}}function s_(i){i.createObjectStore("targetDocuments",{keyPath:Ol}).createIndex("documentTargetsIndex",nl,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cu,{unique:!0}),i.createObjectStore("targetGlobal")}const sm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class am{constructor(e,r,s,l,d,g,b,R,B,K,De=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.si=d,this.window=g,this.document=b,this.oi=B,this._i=K,this.ai=De,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=Ze=>Promise.resolve(),!am.D())throw new dt(_t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xg(this,l),this.Ii=r+"main",this.serializer=new lp(R),this.Ti=new W(this.Ii,this.ai,new RI(this.serializer)),this.qr=new bI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=rd(this.serializer),this.Kr=new Kv,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===K&&wi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dt(_t.FAILED_PRECONDITION,sm);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new sr(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var r=this;return this.Pi=function(){var s=(0,le.Z)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var r=(0,le.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,le.Z)(function*(){r.started&&(yield r.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>za(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(r=>this.isPrimary&&!r?this.pi(e).next(()=>!1):!!r&&this.yi(e).next(()=>!0))).catch(e=>{if(Ot(e))return Ft("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ft("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return kh(e).get("owner").next(r=>_.resolve(this.wi(r)))}Si(e){return za(e).delete(this.clientId)}bi(){var e=this;return(0,le.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=qi(s,"clientMetadata");return l.W().next(d=>{const g=e.Ci(d,18e5),b=d.filter(R=>-1===g.indexOf(R));return _.forEach(b,R=>l.delete(R.clientId)).next(()=>b)})}).catch(()=>[]);if(e.Ei)for(const s of r)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?_.resolve(!0):kh(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)){if(this.wi(r)&&this.networkEnabled)return!0;if(!this.wi(r)){if(!r.allowTabSynchronization)throw new dt(_t.FAILED_PRECONDITION,sm);return!1}}return!(!this.networkEnabled||!this.inForeground)||za(e).W().next(s=>void 0===this.Ci(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ft("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,le.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new du(r,sr._e);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,r){return e.filter(s=>this.Di(s.updateTimeMs,r)&&!this.Fi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>za(e).W().next(r=>this.Ci(r,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,r){return pl.ct(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new TI(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Ch.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,r,s){Ft("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",d=15===(R=this.ai)?Vu:14===R?rl:13===R?Vf:12===R?Nl:11===R?Oc:void yn();var R;let g;return this.Ti.runTransaction(e,l,d,b=>(g=new du(b,this.Lr?this.Lr.next():sr._e),"readwrite-primary"===r?this.fi(g).next(R=>!!R||this.gi(g)).next(R=>{if(!R)throw wi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new dt(_t.FAILED_PRECONDITION,el);return s(g)}).next(R=>this.yi(g).next(()=>R)):this.Li(g).next(()=>s(g)))).then(b=>(g.raiseOnCommittedEvent(),b))}Li(e){return kh(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)&&!this.wi(r)&&!(this._i||this.allowTabSynchronization&&r.allowTabSynchronization))throw new dt(_t.FAILED_PRECONDITION,sm)})}yi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kh(e).put("owner",r)}static D(){return W.D()}pi(e){const r=kh(e);return r.get("owner").next(s=>this.wi(s)?(Ft("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):_.resolve())}Di(e,r){const s=Date.now();return!(e<s-r||e>s&&(wi(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const r=/(?:Version|Mobile)\/1[456]/;(0,ee.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var r;try{const s=null!==(null===(r=this.Ei)||void 0===r?void 0:r.getItem(this.vi(e)));return Ft("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return wi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){wi("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kh(i){return qi(i,"owner")}function za(i){return qi(i,"clientMetadata")}function oc(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class lm{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.ki=s,this.qi=l}static Qi(e,r){let s=fr(),l=fr();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new lm(e,r.fromCache,s,l)}}class gD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MI{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,r){this.Gi=e,this.indexManager=r,this.Ki=!0}getDocumentsMatchingQuery(e,r,s,l){const d={result:null};return this.zi(e,r).next(g=>{d.result=g}).next(()=>{if(!d.result)return this.ji(e,r,l,s).next(g=>{d.result=g})}).next(()=>{if(d.result)return;const g=new gD;return this.Hi(e,r,g).next(b=>{if(d.result=b,this.$i)return this.Ji(e,r,g,b.size)})}).next(()=>d.result)}Ji(e,r,s,l){return s.documentReadCount<this.Ui?(Is()<=we.in.DEBUG&&Ft("QueryEngine","SDK will not create cache indexes for query:",ll(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),_.resolve()):(Is()<=we.in.DEBUG&&Ft("QueryEngine","Query:",ll(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Wi*l?(Is()<=we.in.DEBUG&&Ft("QueryEngine","The SDK decides to create cache indexes for query:",ll(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,io(r))):_.resolve())}zi(e,r){if(Fg(r))return _.resolve(null);let s=io(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=Bl(r,null,"F"),s=io(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const g=fr(...d);return this.Gi.getDocuments(e,g).next(b=>this.indexManager.getMinOffset(e,s).next(R=>{const B=this.Yi(r,b);return this.Zi(r,B,g,R.readTime)?this.zi(e,Bl(r,null,"F")):this.Xi(e,B,r,R)}))})))}ji(e,r,s,l){return Fg(r)||l.isEqual(rn.min())?_.resolve(null):this.Gi.getDocuments(e,s).next(d=>{const g=this.Yi(r,d);return this.Zi(r,g,s,l)?_.resolve(null):(Is()<=we.in.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ll(r)),this.Xi(e,g,r,Ns(l,-1)).next(b=>b))})}Yi(e,r){let s=new Gr(_a(e));return r.forEach((l,d)=>{zu(e,d)&&(s=s.add(d))}),s}Zi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Hi(e,r,s){return Is()<=we.in.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",ll(r)),this.Gi.getDocumentsMatchingQuery(e,r,Wo.min(),s)}Xi(e,r,s,l){return this.Gi.getDocumentsMatchingQuery(e,s,l).next(d=>(r.forEach(g=>{d=d.insert(g.key,g)}),d))}}class mD{constructor(e,r,s,l){this.persistence=e,this.es=r,this.serializer=l,this.ts=new Rr(ut),this.ns=new ea(d=>al(d),La),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xh(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ts))}}function PI(i,e,r,s){return new mD(i,e,r,s)}function xI(i,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,le.Z)(function*(i,e){const r=sn(i);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,r.os(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const g=[],b=[];let R=fr();for(const B of l){g.push(B.batchId);for(const K of B.mutations)R=R.add(K.key)}for(const B of d){b.push(B.batchId);for(const K of B.mutations)R=R.add(K.key)}return r.localDocuments.getDocuments(s,R).next(B=>({_s:B,removedBatchIds:g,addedBatchIds:b}))})})}),Ep.apply(this,arguments)}function a_(i){const e=sn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.qr.getLastRemoteSnapshotVersion(r))}function l_(i,e,r){let s=fr(),l=fr();return r.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let g=Yo();return r.forEach((b,R)=>{const B=d.get(b);R.isFoundDocument()!==B.isFoundDocument()&&(l=l.add(b)),R.isNoDocument()&&R.version.isEqual(rn.min())?(e.removeEntry(b,R.readTime),g=g.insert(b,R)):!B.isValidDocument()||R.version.compareTo(B.version)>0||0===R.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(R),g=g.insert(b,R)):Ft("LocalStore","Ignoring outdated watch update for ",b,". Current version:",B.version," Watch version:",R.version)}),{us:g,cs:l}})}function um(i,e){const r=sn(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $s(i,e){const r=sn(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.qr.getTargetData(s,e).next(d=>d?(l=d,_.resolve(l)):r.qr.allocateTargetId(s).next(g=>(l=new fl(e,g,"TargetPurposeListen",s.currentSequenceNumber),r.qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ts.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ts=r.ts.insert(s.targetId,s),r.ns.set(e,s.targetId)),s})}function ml(i,e,r){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,le.Z)(function*(i,e,r){const s=sn(i),l=s.ts.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!Ot(g))throw g;Ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.ts=s.ts.remove(e),s.ns.delete(l.target)}),Dp.apply(this,arguments)}function Fh(i,e,r){const s=sn(i);let l=rn.min(),d=fr();return s.persistence.runTransaction("Execute query","readwrite",g=>function(R,B,K){const De=sn(R),Ze=De.ns.get(K);return void 0!==Ze?_.resolve(De.ts.get(Ze)):De.qr.getTargetData(B,K)}(s,g,io(e)).next(b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(g,b.targetId).next(R=>{d=R})}).next(()=>s.es.getDocumentsMatchingQuery(g,e,r?l:rn.min(),r?d:fr())).next(b=>(FI(s,Qf(e),b),{documents:b,ls:d})))}function cm(i,e){const r=sn(i),s=sn(r.qr),l=r.ts.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(g=>g?g.target:null))}function kI(i,e){const r=sn(i),s=r.rs.get(e)||rn.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.ss.getAllFromCollectionGroup(l,e,Ns(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(FI(r,e,l),l))}function FI(i,e,r){let s=i.rs.get(e)||rn.min();r.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.rs.set(e,s)}function Lh(){return Lh=(0,le.Z)(function*(i,e,r,s){const l=sn(i);let d=fr(),g=Yo();for(const B of r){const K=e.hs(B.metadata.name);B.document&&(d=d.add(K));const De=e.Ps(B);De.setReadTime(e.Is(B.metadata.readTime)),g=g.insert(K,De)}const b=l.ss.newChangeBuffer({trackRemovals:!0}),R=yield $s(l,(K=s,io($l(_r.fromString(`__bundle__/docs/${K}`)))));var K;return l.persistence.runTransaction("Apply bundle documents","readwrite",B=>l_(B,b,g).next(K=>(b.apply(B),K)).next(K=>l.qr.removeMatchingKeysForTargetId(B,R.targetId).next(()=>l.qr.addMatchingKeys(B,d,R.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(B,K.us,K.cs)).next(()=>K.us)))}),Lh.apply(this,arguments)}function dm(i,e){return u_.apply(this,arguments)}function u_(){return u_=(0,le.Z)(function*(i,e,r=fr()){const s=yield $s(i,io(dp(e.bundledQuery))),l=sn(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const g=Ri(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.Kr.saveNamedQuery(d,e);const b=s.withResumeToken(Xi.EMPTY_BYTE_STRING,g);return l.ts=l.ts.insert(b.targetId,b),l.qr.updateTargetData(d,b).next(()=>l.qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.qr.addMatchingKeys(d,r,s.targetId)).next(()=>l.Kr.saveNamedQuery(d,e))})}),u_.apply(this,arguments)}function LI(i,e){return`firestore_clients_${i}_${e}`}function hm(i,e,r){let s=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function fm(i,e){return`firestore_targets_${i}_${e}`}class Cp{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Ts(e,r,s){const l=JSON.parse(s);let d,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(d=new dt(l.error.code,l.error.message))),g?new Cp(e,r,l.state,d):(wi("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Ts(e,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new dt(s.error.code,s.error.message))),d?new Vh(e,s.state,l):(wi("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tp{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Ts(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=Ba();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=tl(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return l?new Tp(e,d):(wi("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class wp{constructor(e,r){this.clientId=e,this.onlineState=r}static Ts(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new wp(r.clientId,r.onlineState):(wi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class od{constructor(){this.activeTargetIds=Ba()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pm{constructor(e,r,s,l,d){this.window=e,this.si=r,this.persistenceKey=s,this.Rs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Rr(ut),this.started=!1,this.ps=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ys=LI(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new od),this.Ss=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,le.Z)(function*(){const r=yield e.syncEngine.Bi();for(const l of r){if(l===e.Rs)continue;const d=e.getItem(LI(e.persistenceKey,l));if(d){const g=Tp.Ts(l,d);g&&(e.gs=e.gs.insert(g.clientId,g))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const l=e.Ms(s);l&&e.xs(l)}for(const l of e.ps)e.fs(l);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let r=!1;return this.gs.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,r,s){this.Ns(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(fm(this.persistenceKey,e));if(s){const l=Vh.Ts(e,s);l&&(r=l.state)}}return this.Ls.ds(e),this.Fs(),r}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fm(this.persistenceKey,e))}updateQueryState(e,r,s){this.ks(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ft("SharedClientState","READ",e,r),r}setItem(e,r){Ft("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ft("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Ft("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void wi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,le.Z)(function*(){if(r.started){if(null!==s.key)if(r.Ss.test(s.key)){if(null==s.newValue){const l=r.Ks(s.key);return r.$s(l,null)}{const l=r.Us(s.key,s.newValue);if(l)return r.$s(l.clientId,l)}}else if(r.bs.test(s.key)){if(null!==s.newValue){const l=r.Ws(s.key,s.newValue);if(l)return r.Gs(l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.zs(s.key,s.newValue);if(l)return r.js(l)}}else if(s.key===r.Cs){if(null!==s.newValue){const l=r.Ms(s.newValue);if(l)return r.xs(l)}}else if(s.key===r.ws){const l=function(g){let b=sr._e;if(null!=g)try{const R=JSON.parse(g);Tn("number"==typeof R),b=R}catch(R){wi("SharedClientState","Failed to read sequence number from WebStorage",R)}return b}(s.newValue);l!==sr._e&&r.sequenceNumberHandler(l)}else if(s.key===r.vs){const l=r.Hs(s.newValue);yield Promise.all(l.map(d=>r.syncEngine.Js(d)))}}else r.ps.push(s)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,r,s){const l=new Cp(this.currentUser,e,r,s),d=hm(this.persistenceKey,this.currentUser,e);this.setItem(d,l.Es())}Bs(e){const r=hm(this.persistenceKey,this.currentUser,e);this.removeItem(r)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,r,s){const l=fm(this.persistenceKey,e),d=new Vh(e,r,s);this.setItem(l,d.Es())}Qs(e){const r=JSON.stringify(Array.from(e));this.setItem(this.vs,r)}Ks(e){const r=this.Ss.exec(e);return r?r[1]:null}Us(e,r){const s=this.Ks(e);return Tp.Ts(s,r)}Ws(e,r){const s=this.bs.exec(e),l=Number(s[1]);return Cp.Ts(new Sr(void 0!==s[2]?s[2]:null),l,r)}zs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return Vh.Ts(l,r)}Ms(e){return wp.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var r=this;return(0,le.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Ys(e.batchId,e.state,e.error);Ft("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,r){const s=r?this.gs.insert(e,r):this.gs.remove(e),l=this.Os(this.gs),d=this.Os(s),g=[],b=[];return d.forEach(R=>{l.has(R)||g.push(R)}),l.forEach(R=>{d.has(R)||b.push(R)}),this.syncEngine.Xs(g,b).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let r=Ba();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class bp{constructor(){this.eo=new od,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,r,s){this.no[e]=r}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new od,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VI{ro(e){}shutdown(){}}class sc{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ap=null;function gm(){return null===Ap?Ap=268435456+Math.round(2147483648*Math.random()):Ap++,"0x"+Ap.toString(16)}const c_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d_{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const cs="WebChannelConnection";class $I extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+r.host,this.fo=`projects/${l}/databases/${d}`,this.po="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${d}`}get yo(){return!1}wo(r,s,l,d,g){const b=gm(),R=this.So(r,s);Ft("RestConnection",`Sending RPC '${r}' ${b}:`,R,l);const B={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(B,d,g),this.Do(r,R,B,l).then(K=>(Ft("RestConnection",`Received RPC '${r}' ${b}: `,K),K),K=>{throw xo("RestConnection",`RPC '${r}' ${b} failed with error: `,K,"url: ",R,"request:",l),K})}Co(r,s,l,d,g,b){return this.wo(r,s,l,d,g)}bo(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+fi,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,g)=>r[g]=d),l&&l.headers.forEach((d,g)=>r[g]=d)}So(r,s){return`${this.mo}/v1/${s}:${c_[r]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,r,s,l){const d=gm();return new Promise((g,b)=>{const R=new Al;R.setWithCredentials(!0),R.listenOnce(fa.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case ys.NO_ERROR:const K=R.getResponseJson();Ft(cs,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(K)),g(K);break;case ys.TIMEOUT:Ft(cs,`RPC '${e}' ${d} timed out`),b(new dt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case ys.HTTP_ERROR:const De=R.getStatus();if(Ft(cs,`RPC '${e}' ${d} failed with status:`,De,"response text:",R.getResponseText()),De>0){let Ze=R.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const mt=null==Ze?void 0:Ze.error;if(mt&&mt.status&&mt.message){const Jt=function(cn){const Wn=cn.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(Wn)>=0?Wn:_t.UNKNOWN}(mt.status);b(new dt(Jt,mt.message))}else b(new dt(_t.UNKNOWN,"Server responded with status "+R.getStatus()))}else b(new dt(_t.UNAVAILABLE,"Connection failed."));break;default:yn()}}finally{Ft(cs,`RPC '${e}' ${d} completed.`)}});const B=JSON.stringify(l);Ft(cs,`RPC '${e}' ${d} sending request:`,l),R.send(r,"POST",B,s,15)})}vo(e,r,s){const l=gm(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=Fi(),b=Ms(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},B=this.longPollingOptions.timeoutSeconds;void 0!==B&&(R.longPollingTimeout=Math.round(1e3*B)),this.useFetchStreams&&(R.useFetchStreams=!0),this.bo(R.initMessageHeaders,r,s),R.encodeInitMessageHeaders=!0;const K=d.join("");Ft(cs,`Creating RPC '${e}' stream ${l}: ${K}`,R);const De=g.createWebChannel(K,R);let Ze=!1,mt=!1;const Jt=new d_({co:cn=>{mt?Ft(cs,`Not sending because RPC '${e}' stream ${l} is closed:`,cn):(Ze||(Ft(cs,`Opening RPC '${e}' stream ${l} transport.`),De.open(),Ze=!0),Ft(cs,`RPC '${e}' stream ${l} sending:`,cn),De.send(cn))},lo:()=>De.close()}),un=(cn,Wn,Qn)=>{cn.listen(Wn,Zn=>{try{Qn(Zn)}catch(Tr){setTimeout(()=>{throw Tr},0)}})};return un(De,Gs.EventType.OPEN,()=>{mt||Ft(cs,`RPC '${e}' stream ${l} transport opened.`)}),un(De,Gs.EventType.CLOSE,()=>{mt||(mt=!0,Ft(cs,`RPC '${e}' stream ${l} transport closed`),Jt.Ro())}),un(De,Gs.EventType.ERROR,cn=>{mt||(mt=!0,xo(cs,`RPC '${e}' stream ${l} transport errored:`,cn),Jt.Ro(new dt(_t.UNAVAILABLE,"The operation could not be completed")))}),un(De,Gs.EventType.MESSAGE,cn=>{var Wn;if(!mt){const Qn=cn.data[0];Tn(!!Qn);const Tr=Qn.error||(null===(Wn=Qn[0])||void 0===Wn?void 0:Wn.error);if(Tr){Ft(cs,`RPC '${e}' stream ${l} received error:`,Tr);const Jr=Tr.status;let Lr=function(Zy){const Qy=Si[Zy];if(void 0!==Qy)return Gl(Qy)}(Jr),to=Tr.message;void 0===Lr&&(Lr=_t.INTERNAL,to="Unknown error status: "+Jr+" with message "+Tr.message),mt=!0,Jt.Ro(new dt(Lr,to)),De.close()}else Ft(cs,`RPC '${e}' stream ${l} received:`,Qn),Jt.Vo(Qn)}}),un(b,zd.STAT_EVENT,cn=>{cn.stat===wc.PROXY?Ft(cs,`RPC '${e}' stream ${l} detected buffering proxy`):cn.stat===wc.NOPROXY&&Ft(cs,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Jt.Ao()},0),Jt}}function h_(){return typeof window<"u"?window:null}function Sp(){return typeof document<"u"?document:null}function sd(i){return new wn(i,!0)}class f_{constructor(e,r,s=1e3,l=1.5,d=6e4){this.si=e,this.timerId=r,this.Fo=s,this.Mo=l,this.xo=d,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const r=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),l=Math.max(0,r-s);l>0&&Ft("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Oo} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class BI{constructor(e,r,s,l,d,g,b,R){this.si=e,this.Ko=s,this.$o=l,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=b,this.listener=R,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new f_(e,r)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,le.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,le.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,r){var s=this;return(0,le.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():r&&r.code===_t.RESOURCE_EXHAUSTED?(wi(r.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):r&&r.code===_t.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(r)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),r=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Uo===r&&this.s_(s,l)},s=>{e(()=>{const l=new dt(_t.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(l)})})}s_(e,r){const s=this.i_(this.Uo);this.stream=this.__(e,r),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(l=>{s(()=>this.o_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Jo(){var e=this;this.state=5,this.zo.ko((0,le.Z)(function*(){e.state=0,e.start()}))}o_(e){return Ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return r=>{this.si.enqueueAndForget(()=>this.Uo===e?r():(Ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $h extends BI{constructor(e,r,s,l,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,g),this.serializer=d}__(e,r){return this.connection.vo("Listen",e,r)}onMessage(e){this.zo.reset();const r=function fD(i,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:yn(),l=e.targetChange.targetIds||[],d=function(B,K){return B.useProto3Json?(Tn(void 0===K||"string"==typeof K),Xi.fromBase64String(K||"")):(Tn(void 0===K||K instanceof Uint8Array),Xi.fromUint8Array(K||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,b=g&&function(B){const K=void 0===B.code?_t.UNKNOWN:Gl(B.code);return new dt(K,B.message||"")}(g);r=new I(s,l,d,b||null)}else if("documentChange"in e){const s=e.documentChange,l=Cs(i,s.document.name),d=Ri(s.document.updateTime),g=s.document.createTime?Ri(s.document.createTime):rn.min(),b=new $i({mapValue:{fields:s.document.fields}}),R=Di.newFoundDocument(l,d,g,b);r=new f(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,l=Cs(i,s.document),d=s.readTime?Ri(s.readTime):rn.min(),g=Di.newNoDocument(l,d);r=new f([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,l=Cs(i,s.document);r=new f([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return yn();{const s=e.filter,{count:l=0,unchangedNames:d}=s,g=new dh(l,d);r=new p(s.targetId,g)}}var B;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return rn.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?rn.min():g.readTime?Ri(g.readTime):rn.min()}(e);return this.listener.a_(r,s)}u_(e){const r={};r.database=hl(this.serializer),r.addTarget=function(d,g){let b;const R=g.target;if(b=Hc(R)?{documents:op(d,R)}:{query:sp(d,R)},b.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){b.resumeToken=Iu(d,g.resumeToken);const B=vi(d,g.expectedCount);null!==B&&(b.expectedCount=B)}else if(g.snapshotVersion.compareTo(rn.min())>0){b.readTime=ko(d,g.snapshotVersion.toTimestamp());const B=vi(d,g.expectedCount);null!==B&&(b.expectedCount=B)}return b}(this.serializer,e);const s=function Eh(i,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yn()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.e_(r)}c_(e){const r={};r.database=hl(this.serializer),r.removeTarget=e,this.e_(r)}}class UI extends BI{constructor(e,r,s,l,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,g),this.serializer=d,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,r){return this.connection.vo("Write",e,r)}onMessage(e){if(Tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const r=function ip(i,e){return i&&i.length>0?(Tn(void 0!==e),i.map(r=>function(l,d){let g=Ri(l.updateTime?l.updateTime:d);return g.isEqual(rn.min())&&(g=Ri(d)),new np(g,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.I_(s,r)}return Tn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=hl(this.serializer),this.e_(e)}P_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Ih(this.serializer,s))};this.e_(r)}}class _D extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.d_=!1}A_(){if(this.d_)throw new dt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.wo(e,r,s,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new dt(_t.UNKNOWN,l.toString())})}Co(e,r,s,l){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,r,s,d,g,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(_t.UNKNOWN,d.toString())})}terminate(){this.d_=!0}}class jI{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(wi(r),this.f_=!1):Ft("OnlineStateTracker",r)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class mm{constructor(e,r,s,l,d){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=d,this.F_.ro(b=>{s.enqueueAndForget((0,le.Z)(function*(){var R;uc(g)&&(Ft("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,le.Z)(function*(K){const De=sn(K);De.C_.add(4),yield Xl(De),De.M_.set("Unknown"),De.C_.delete(4),yield ac(De)}),function B(K){return R.apply(this,arguments)})(g))}))}),this.M_=new jI(s,l)}}function ac(i){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,le.Z)(function*(i){if(uc(i))for(const e of i.v_)yield e(!0)}),Tu.apply(this,arguments)}function Xl(i){return ld.apply(this,arguments)}function ld(){return ld=(0,le.Z)(function*(i){for(const e of i.v_)yield e(!1)}),ld.apply(this,arguments)}function Jl(i,e){const r=sn(i);r.D_.has(e.targetId)||(r.D_.set(e.targetId,e),lc(r)?ud(r):dd(r).Ho()&&wu(r,e))}function eu(i,e){const r=sn(i),s=dd(r);r.D_.delete(e),s.Ho()&&Rp(r,e),0===r.D_.size&&(s.Ho()?s.Zo():uc(r)&&r.M_.set("Unknown"))}function wu(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rn.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}dd(i).u_(e)}function Rp(i,e){i.x_.Oe(e),dd(i).c_(e)}function ud(i){i.x_=new Y({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),dd(i).start(),i.M_.g_()}function lc(i){return uc(i)&&!dd(i).jo()&&i.D_.size>0}function uc(i){return 0===sn(i).C_.size}function Mp(i){i.x_=void 0}function Bh(i){return vm.apply(this,arguments)}function vm(){return vm=(0,le.Z)(function*(i){i.D_.forEach((e,r)=>{wu(i,e)})}),vm.apply(this,arguments)}function p_(i,e){return _m.apply(this,arguments)}function _m(){return _m=(0,le.Z)(function*(i,e){Mp(i),lc(i)?(i.M_.w_(e),ud(i)):i.M_.set("Unknown")}),_m.apply(this,arguments)}function HI(i,e,r){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,le.Z)(function*(i,e,r){if(i.M_.set("Online"),e instanceof I&&2===e.state&&e.cause)try{yield(s=(0,le.Z)(function*(d,g){const b=g.cause;for(const R of g.targetIds)d.D_.has(R)&&(yield d.remoteSyncer.rejectListen(R,b),d.D_.delete(R),d.x_.removeTarget(R))}),function l(d,g){return s.apply(this,arguments)})(i,e)}catch(s){Ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield jh(i,s)}else if(e instanceof f?i.x_.$e(e):e instanceof p?i.x_.Je(e):i.x_.Ge(e),!r.isEqual(rn.min()))try{const s=yield a_(i.localStore);r.compareTo(s)>=0&&(yield function(d,g){const b=d.x_.it(g);return b.targetChanges.forEach((R,B)=>{if(R.resumeToken.approximateByteSize()>0){const K=d.D_.get(B);K&&d.D_.set(B,K.withResumeToken(R.resumeToken,g))}}),b.targetMismatches.forEach((R,B)=>{const K=d.D_.get(R);if(!K)return;d.D_.set(R,K.withResumeToken(Xi.EMPTY_BYTE_STRING,K.snapshotVersion)),Rp(d,R);const De=new fl(K.target,R,B,K.sequenceNumber);wu(d,De)}),d.remoteSyncer.applyRemoteEvent(b)}(i,r))}catch(s){Ft("RemoteStore","Failed to raise snapshot:",s),yield jh(i,s)}var s}),Uh.apply(this,arguments)}function jh(i,e,r){return ym.apply(this,arguments)}function ym(){return ym=(0,le.Z)(function*(i,e,r){if(!Ot(e))throw e;i.C_.add(1),yield Xl(i),i.M_.set("Offline"),r||(r=()=>a_(i.localStore)),i.asyncQueue.enqueueRetryable((0,le.Z)(function*(){Ft("RemoteStore","Retrying IndexedDB access"),yield r(),i.C_.delete(1),yield ac(i)}))}),ym.apply(this,arguments)}function g_(i,e){return e().catch(r=>jh(i,r,e))}function Hh(i){return Im.apply(this,arguments)}function Im(){return Im=(0,le.Z)(function*(i){const e=sn(i),r=tu(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Pp(e);)try{const l=yield um(e.localStore,s);if(null===l){0===e.b_.length&&r.Zo();break}s=l.batchId,Em(e,l)}catch(l){yield jh(e,l)}m_(e)&&Dm(e)}),Im.apply(this,arguments)}function Pp(i){return uc(i)&&i.b_.length<10}function Em(i,e){i.b_.push(e);const r=tu(i);r.Ho()&&r.h_&&r.P_(e.mutations)}function m_(i){return uc(i)&&!tu(i).jo()&&i.b_.length>0}function Dm(i){tu(i).start()}function Cm(i){return cd.apply(this,arguments)}function cd(){return cd=(0,le.Z)(function*(i){tu(i).E_()}),cd.apply(this,arguments)}function zI(i){return xp.apply(this,arguments)}function xp(){return xp=(0,le.Z)(function*(i){const e=tu(i);for(const r of i.b_)e.P_(r.mutations)}),xp.apply(this,arguments)}function GI(i,e,r){return Op.apply(this,arguments)}function Op(){return Op=(0,le.Z)(function*(i,e,r){const s=i.b_.shift(),l=Xc.from(s,e,r);yield g_(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Hh(i)}),Op.apply(this,arguments)}function ID(i,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,le.Z)(function*(i,e){var r;e&&tu(i).h_&&(yield(r=(0,le.Z)(function*(l,d){if(bo(b=d.code)&&b!==_t.ABORTED){const g=l.b_.shift();tu(l).Yo(),yield g_(l,()=>l.remoteSyncer.rejectFailedWrite(g.batchId,d)),yield Hh(l)}var b}),function s(l,d){return r.apply(this,arguments)})(i,e)),m_(i)&&Dm(i)}),Tm.apply(this,arguments)}function zh(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,le.Z)(function*(i,e){const r=sn(i);r.asyncQueue.verifyOperationInProgress(),Ft("RemoteStore","RemoteStore received new credentials");const s=uc(r);r.C_.add(3),yield Xl(r),s&&r.M_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.C_.delete(3),yield ac(r)}),wm.apply(this,arguments)}function bu(i,e){return cc.apply(this,arguments)}function cc(){return cc=(0,le.Z)(function*(i,e){const r=sn(i);e?(r.C_.delete(2),yield ac(r)):e||(r.C_.add(2),yield Xl(r),r.M_.set("Unknown"))}),cc.apply(this,arguments)}function dd(i){return i.O_||(i.O_=function(r,s,l){const d=sn(r);return d.A_(),new $h(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{ho:Bh.bind(null,i),Io:p_.bind(null,i),a_:HI.bind(null,i)}),i.v_.push(function(){var e=(0,le.Z)(function*(r){r?(i.O_.Yo(),lc(i)?ud(i):i.M_.set("Unknown")):(yield i.O_.stop(),Mp(i))});return function(r){return e.apply(this,arguments)}}())),i.O_}function tu(i){return i.N_||(i.N_=function(r,s,l){const d=sn(r);return d.A_(),new UI(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{ho:Cm.bind(null,i),Io:ID.bind(null,i),T_:zI.bind(null,i),I_:GI.bind(null,i)}),i.v_.push(function(){var e=(0,le.Z)(function*(r){r?(i.N_.Yo(),yield Hh(i)):(yield i.N_.stop(),i.b_.length>0&&(Ft("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(r){return e.apply(this,arguments)}}())),i.N_}class bm{constructor(e,r,s,l,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,d){const g=Date.now()+s,b=new bm(e,r,g,l,d);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dt(_t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hd(i,e){if(wi("AsyncQueue",`${e}: ${i}`),Ot(i))return new dt(_t.UNAVAILABLE,`${e}: ${i}`);throw i}class fd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||an.comparator(r.key,s.key):(r,s)=>an.comparator(r.key,s.key),this.keyedMap=Ul(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new fd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof fd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new fd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Np{constructor(){this.B_=new Rr(an.comparator)}track(e){const r=e.doc.key,s=this.B_.get(r);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(r,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(r):1===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):yn():this.B_=this.B_.insert(r,e)}L_(){const e=[];return this.B_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Gh{constructor(e,r,s,l,d,g,b,R,B){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=b,this.excludesMetadataChanges=R,this.hasCachedResults=B}static fromInitialDocuments(e,r,s,l,d){const g=[];return r.forEach(b=>{g.push({type:0,doc:b})}),new Gh(e,r,fd.emptySet(r),g,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class ED{constructor(){this.k_=void 0,this.listeners=[]}}class DD{constructor(){this.queries=new ea(e=>Lg(e),Hu),this.onlineState="Unknown",this.q_=new Set}}function Am(i,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,le.Z)(function*(i,e){const r=sn(i),s=e.query;let l=!1,d=r.queries.get(s);if(d||(l=!0,d=new ED),l)try{d.k_=yield r.onListen(s)}catch(g){const b=hd(g,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(b)}r.queries.set(s,d),d.listeners.push(e),e.Q_(r.onlineState),d.k_&&e.K_(d.k_)&&Wh(r)}),Sm.apply(this,arguments)}function v_(i,e){return pd.apply(this,arguments)}function pd(){return pd=(0,le.Z)(function*(i,e){const r=sn(i),s=e.query;let l=!1;const d=r.queries.get(s);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),l=0===d.listeners.length)}if(l)return r.queries.delete(s),r.onUnlisten(s)}),pd.apply(this,arguments)}function WI(i,e){const r=sn(i);let s=!1;for(const l of e){const g=r.queries.get(l.query);if(g){for(const b of g.listeners)b.K_(l)&&(s=!0);g.k_=l}}s&&Wh(r)}function qI(i,e,r){const s=sn(i),l=s.queries.get(e);if(l)for(const d of l.listeners)d.onError(r);s.queries.delete(e)}function Wh(i){i.q_.forEach(e=>{e.next()})}class kp{constructor(e,r,s){this.query=e,this.U_=r,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Gh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.W_?this.z_(e)&&(this.U_.next(e),r=!0):this.j_(e,this.onlineState)&&(this.H_(e),r=!0),this.G_=e,r}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let r=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),r=!0),r}j_(e,r){return!e.fromCache||(!this.options.J_||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class YI{constructor(e,r){this.Y_=e,this.byteLength=r}Z_(){return"metadata"in this.Y_}}class __{constructor(e){this.serializer=e}hs(e){return Cs(this.serializer,e)}Ps(e){return e.metadata.exists?jg(this.serializer,e.document,!1):Di.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Ri(e)}}class KI{constructor(e,r,s){this.X_=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=y_(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++r;const s=_r.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ta(e){const r=new Map,s=new __(this.serializer);for(const l of e)if(l.metadata.queries){const d=s.hs(l.metadata.name);for(const g of l.metadata.queries){const b=(r.get(g)||fr()).add(d);r.set(g,b)}}return r}complete(){var e=this;return(0,le.Z)(function*(){const r=yield function vD(i,e,r,s){return Lh.apply(this,arguments)}(e.localStore,new __(e.serializer),e.documents,e.X_.id),s=e.ta(e.documents);for(const l of e.queries)yield dm(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:r}})()}}function y_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Rm{constructor(e){this.key=e}}class Mm{constructor(e){this.key=e}}class Pm{constructor(e,r){this.query=e,this.ia=r,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=fr(),this.mutatedKeys=fr(),this._a=_a(e),this.aa=new fd(this._a)}get ua(){return this.ia}ca(e,r){const s=r?r.la:new Np,l=r?r.aa:this.aa;let d=r?r.mutatedKeys:this.mutatedKeys,g=l,b=!1;const R="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,B="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((K,De)=>{const Ze=l.get(K),mt=zu(this.query,De)?De:null,Jt=!!Ze&&this.mutatedKeys.has(Ze.key),un=!!mt&&(mt.hasLocalMutations||this.mutatedKeys.has(mt.key)&&mt.hasCommittedMutations);let cn=!1;Ze&&mt?Ze.data.isEqual(mt.data)?Jt!==un&&(s.track({type:3,doc:mt}),cn=!0):this.ha(Ze,mt)||(s.track({type:2,doc:mt}),cn=!0,(R&&this._a(mt,R)>0||B&&this._a(mt,B)<0)&&(b=!0)):!Ze&&mt?(s.track({type:0,doc:mt}),cn=!0):Ze&&!mt&&(s.track({type:1,doc:Ze}),cn=!0,(R||B)&&(b=!0)),cn&&(mt?(g=g.add(mt),d=un?d.add(K):d.delete(K)):(g=g.delete(K),d=d.delete(K)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const K="F"===this.query.limitType?g.last():g.first();g=g.delete(K.key),d=d.delete(K.key),s.track({type:1,doc:K})}return{aa:g,la:s,Zi:b,mutatedKeys:d}}ha(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const d=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const g=e.la.L_();g.sort((K,De)=>function(mt,Jt){const un=cn=>{switch(cn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yn()}};return un(mt)-un(Jt)}(K.type,De.type)||this._a(K.doc,De.doc)),this.Pa(s),l=null!=l&&l;const b=r&&!l?this.Ia():[],R=0===this.oa.size&&this.current&&!l?1:0,B=R!==this.sa;return this.sa=R,0!==g.length||B?{snapshot:new Gh(this.query,e.aa,d,g,e.mutatedKeys,0===R,B,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:b}:{Ta:b}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Np,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(r=>this.ia=this.ia.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.ia=this.ia.delete(r)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=fr(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const r=[];return e.forEach(s=>{this.oa.has(s)||r.push(new Mm(s))}),this.oa.forEach(s=>{e.has(s)||r.push(new Rm(s))}),r}da(e){this.ia=e.ls,this.oa=fr();const r=this.ca(e.documents);return this.applyChanges(r,!0)}Aa(){return Gh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class ZI{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class QI{constructor(e){this.key=e,this.Ra=!1}}class I_{constructor(e,r,s,l,d,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.Va={},this.ma=new ea(b=>Lg(b),Hu),this.fa=new Map,this.ga=new Set,this.pa=new Rr(an.comparator),this.ya=new Map,this.wa=new im,this.Sa={},this.ba=new Map,this.Da=gl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function xm(i,e){return E_.apply(this,arguments)}function E_(){return E_=(0,le.Z)(function*(i,e){const r=Qh(i);let s,l;const d=r.ma.get(e);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),l=d.view.Aa();else{const g=yield $s(r.localStore,io(e)),b=r.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,l=yield Fp(r,e,s,"current"===b,g.resumeToken),r.isPrimaryClient&&Jl(r.remoteStore,g)}return l}),E_.apply(this,arguments)}function Fp(i,e,r,s,l){return qh.apply(this,arguments)}function qh(){return qh=(0,le.Z)(function*(i,e,r,s,l){i.va=(De,Ze,mt)=>{return(Jt=(0,le.Z)(function*(cn,Wn,Qn,Zn){let Tr=Wn.view.ca(Qn);Tr.Zi&&(Tr=yield Fh(cn.localStore,Wn.query,!1).then(({documents:so})=>Wn.view.ca(so,Tr)));const Jr=Zn&&Zn.targetChanges.get(Wn.targetId),Lr=Zn&&null!=Zn.targetMismatches.get(Wn.targetId),to=Wn.view.applyChanges(Tr,cn.isPrimaryClient,Jr,Lr);return km(cn,Wn.targetId,to.Ta),to.snapshot}),function un(cn,Wn,Qn,Zn){return Jt.apply(this,arguments)})(i,De,Ze,mt);var Jt};const d=yield Fh(i.localStore,e,!0),g=new Pm(e,d.ls),b=g.ca(d.documents),R=v.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState,l),B=g.applyChanges(b,i.isPrimaryClient,R);km(i,r,B.Ta);const K=new ZI(e,r,g);return i.ma.set(e,K),i.fa.has(r)?i.fa.get(r).push(e):i.fa.set(r,[e]),B.snapshot}),qh.apply(this,arguments)}function XI(i,e){return dc.apply(this,arguments)}function dc(){return dc=(0,le.Z)(function*(i,e){const r=sn(i),s=r.ma.get(e),l=r.fa.get(s.targetId);if(l.length>1)return r.fa.set(s.targetId,l.filter(d=>!Hu(d,e))),void r.ma.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ml(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),eu(r.remoteStore,s.targetId),gd(r,s.targetId)}).catch(w))):(gd(r,s.targetId),yield ml(r.localStore,s.targetId,!0))}),dc.apply(this,arguments)}function Lp(){return Lp=(0,le.Z)(function*(i,e,r){const s=Vm(i);try{const l=yield function(g,b){const R=sn(g),B=pi.now(),K=b.reduce((mt,Jt)=>mt.add(Jt.key),fr());let De,Ze;return R.persistence.runTransaction("Locally write mutations","readwrite",mt=>{let Jt=Yo(),un=fr();return R.ss.getEntries(mt,K).next(cn=>{Jt=cn,Jt.forEach((Wn,Qn)=>{Qn.isValidDocument()||(un=un.add(Wn))})}).next(()=>R.localDocuments.getOverlayedDocuments(mt,Jt)).next(cn=>{De=cn;const Wn=[];for(const Qn of b){const Zn=rp(Qn,De.get(Qn.key).overlayedDocument);null!=Zn&&Wn.push(new cl(Qn.key,Zn,Uf(Zn.value.mapValue),mi.exists(!0)))}return R.mutationQueue.addMutationBatch(mt,B,Wn,b)}).next(cn=>{Ze=cn;const Wn=cn.applyToLocalDocumentSet(De,un);return R.documentOverlayCache.saveOverlays(mt,cn.batchId,Wn)})}).then(()=>({batchId:Ze.batchId,changes:Gu(De)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(g,b,R){let B=g.Sa[g.currentUser.toKey()];B||(B=new Rr(ut)),B=B.insert(b,R),g.Sa[g.currentUser.toKey()]=B}(s,l.batchId,r),yield nu(s,l.changes),yield Hh(s.remoteStore)}catch(l){const d=hd(l,"Failed to persist write");r.reject(d)}}),Lp.apply(this,arguments)}function C_(i,e){return Om.apply(this,arguments)}function Om(){return Om=(0,le.Z)(function*(i,e){const r=sn(i);try{const s=yield function NI(i,e){const r=sn(i),s=e.snapshotVersion;let l=r.ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=r.ss.newChangeBuffer({trackRemovals:!0});l=r.ts;const b=[];e.targetChanges.forEach((K,De)=>{const Ze=l.get(De);if(!Ze)return;b.push(r.qr.removeMatchingKeys(d,K.removedDocuments,De).next(()=>r.qr.addMatchingKeys(d,K.addedDocuments,De)));let mt=Ze.withSequenceNumber(d.currentSequenceNumber);var un,cn,Wn;null!==e.targetMismatches.get(De)?mt=mt.withResumeToken(Xi.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):K.resumeToken.approximateByteSize()>0&&(mt=mt.withResumeToken(K.resumeToken,s)),l=l.insert(De,mt),cn=mt,Wn=K,(0===(un=Ze).resumeToken.approximateByteSize()||cn.snapshotVersion.toMicroseconds()-un.snapshotVersion.toMicroseconds()>=3e8||Wn.addedDocuments.size+Wn.modifiedDocuments.size+Wn.removedDocuments.size>0)&&b.push(r.qr.updateTargetData(d,mt))});let R=Yo(),B=fr();if(e.documentUpdates.forEach(K=>{e.resolvedLimboDocuments.has(K)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(d,K))}),b.push(l_(d,g,e.documentUpdates).next(K=>{R=K.us,B=K.cs})),!s.isEqual(rn.min())){const K=r.qr.getLastRemoteSnapshotVersion(d).next(De=>r.qr.setTargetsMetadata(d,d.currentSequenceNumber,s));b.push(K)}return _.waitFor(b).next(()=>g.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,R,B)).next(()=>R)}).then(d=>(r.ts=l,d))}(r.localStore,e);e.targetChanges.forEach((l,d)=>{const g=r.ya.get(d);g&&(Tn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.Ra=!0:l.modifiedDocuments.size>0?Tn(g.Ra):l.removedDocuments.size>0&&(Tn(g.Ra),g.Ra=!1))}),yield nu(r,s,e)}catch(s){yield w(s)}}),Om.apply(this,arguments)}function T_(i,e,r){const s=sn(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ma.forEach((d,g)=>{const b=g.view.Q_(e);b.snapshot&&l.push(b.snapshot)}),function(g,b){const R=sn(g);R.onlineState=b;let B=!1;R.queries.forEach((K,De)=>{for(const Ze of De.listeners)Ze.Q_(b)&&(B=!0)}),B&&Wh(R)}(s.eventManager,e),l.length&&s.Va.a_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function JI(i,e,r){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,le.Z)(function*(i,e,r){const s=sn(i);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.ya.get(e),d=l&&l.key;if(d){let g=new Rr(an.comparator);g=g.insert(d,Di.newNoDocument(d,rn.min()));const b=fr().add(d),R=new Zu(rn.min(),new Map,new Rr(ut),g,b);yield C_(s,R),s.pa=s.pa.remove(d),s.ya.delete(e),A_(s)}else yield ml(s.localStore,e,!1).then(()=>gd(s,e,r)).catch(w)}),Vp.apply(this,arguments)}function CD(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,le.Z)(function*(i,e){const r=sn(i),s=e.batch.batchId;try{const l=yield function OI(i,e){const r=sn(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=r.ss.newChangeBuffer({trackRemovals:!0});return function(b,R,B,K){const De=B.batch,Ze=De.keys();let mt=_.resolve();return Ze.forEach(Jt=>{mt=mt.next(()=>K.getEntry(R,Jt)).next(un=>{const cn=B.docVersions.get(Jt);Tn(null!==cn),un.version.compareTo(cn)<0&&(De.applyToRemoteDocument(un,B),un.isValidDocument()&&(un.setReadTime(B.commitVersion),K.addEntry(un)))})}),mt.next(()=>b.mutationQueue.removeMutationBatch(R,De))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let R=fr();for(let B=0;B<b.mutationResults.length;++B)b.mutationResults[B].transformResults.length>0&&(R=R.add(b.batch.mutations[B].key));return R}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);Nm(r,s,null),jp(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield nu(r,l)}catch(l){yield w(l)}}),Yh.apply(this,arguments)}function Au(i,e,r){return $p.apply(this,arguments)}function $p(){return $p=(0,le.Z)(function*(i,e,r){const s=sn(i);try{const l=yield function(g,b){const R=sn(g);return R.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let K;return R.mutationQueue.lookupMutationBatch(B,b).next(De=>(Tn(null!==De),K=De.keys(),R.mutationQueue.removeMutationBatch(B,De))).next(()=>R.mutationQueue.performConsistencyCheck(B)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(B,K,b)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,K)).next(()=>R.localDocuments.getDocuments(B,K))})}(s.localStore,e);Nm(s,e,r),jp(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield nu(s,l)}catch(l){yield w(l)}}),$p.apply(this,arguments)}function Up(){return Up=(0,le.Z)(function*(i,e){const r=sn(i);uc(r.remoteStore)||Ft("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const b=sn(g);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>b.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===s)return void e.resolve();const l=r.ba.get(s)||[];l.push(e),r.ba.set(s,l)}catch(s){const l=hd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Up.apply(this,arguments)}function jp(i,e){(i.ba.get(e)||[]).forEach(r=>{r.resolve()}),i.ba.delete(e)}function Nm(i,e,r){const s=sn(i);let l=s.Sa[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(r?d.reject(r):d.resolve(),l=l.remove(e)),s.Sa[s.currentUser.toKey()]=l}}function gd(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.fa.get(e))i.ma.delete(s),r&&i.Va.Fa(s,r);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(s=>{i.wa.containsKey(s)||w_(i,s)})}function w_(i,e){i.ga.delete(e.path.canonicalString());const r=i.pa.get(e);null!==r&&(eu(i.remoteStore,r),i.pa=i.pa.remove(e),i.ya.delete(r),A_(i))}function km(i,e,r){for(const s of r)s instanceof Rm?(i.wa.addReference(s.key,e),b_(i,s)):s instanceof Mm?(Ft("SyncEngine","Document no longer in limbo: "+s.key),i.wa.removeReference(s.key,e),i.wa.containsKey(s.key)||w_(i,s.key)):yn()}function b_(i,e){const r=e.key,s=r.path.canonicalString();i.pa.get(r)||i.ga.has(s)||(Ft("SyncEngine","New document in limbo: "+r),i.ga.add(s),A_(i))}function A_(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const r=new an(_r.fromString(e)),s=i.Da.next();i.ya.set(s,new QI(r)),i.pa=i.pa.insert(r,s),Jl(i.remoteStore,new fl(io($l(r.path)),s,"TargetPurposeLimboResolution",sr._e))}}function nu(i,e,r){return S_.apply(this,arguments)}function S_(){return S_=(0,le.Z)(function*(i,e,r){const s=sn(i),l=[],d=[],g=[];var b;s.ma.isEmpty()||(s.ma.forEach((b,R)=>{g.push(s.va(R,e,r).then(B=>{if((B||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(R.targetId,null!=B&&B.fromCache?"not-current":"current"),B){l.push(B);const K=lm.Qi(R.targetId,B);d.push(K)}}))}),yield Promise.all(g),s.Va.a_(l),yield(b=(0,le.Z)(function*(B,K){const De=sn(B);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>_.forEach(K,mt=>_.forEach(mt.ki,Jt=>De.persistence.referenceDelegate.addReference(Ze,mt.targetId,Jt)).next(()=>_.forEach(mt.qi,Jt=>De.persistence.referenceDelegate.removeReference(Ze,mt.targetId,Jt)))))}catch(Ze){if(!Ot(Ze))throw Ze;Ft("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of K){const mt=Ze.targetId;if(!Ze.fromCache){const Jt=De.ts.get(mt),cn=Jt.withLastLimboFreeSnapshotVersion(Jt.snapshotVersion);De.ts=De.ts.insert(mt,cn)}}}),function R(B,K){return b.apply(this,arguments)})(s.localStore,d))}),S_.apply(this,arguments)}function TD(i,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,le.Z)(function*(i,e){const r=sn(i);if(!r.currentUser.isEqual(e)){Ft("SyncEngine","User change. New user:",e.toKey());const s=yield xI(r.localStore,e);r.currentUser=e,(d=r).ba.forEach(b=>{b.forEach(R=>{R.reject(new dt(_t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ba.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield nu(r,s._s)}var d}),Hp.apply(this,arguments)}function R_(i,e){const r=sn(i),s=r.ya.get(e);if(s&&s.Ra)return fr().add(s.key);{let l=fr();const d=r.fa.get(e);if(!d)return l;for(const g of d){const b=r.ma.get(g);l=l.unionWith(b.view.ua)}return l}}function wD(i,e){return hr.apply(this,arguments)}function hr(){return hr=(0,le.Z)(function*(i,e){const r=sn(i),s=yield Fh(r.localStore,e.query,!0),l=e.view.da(s);return r.isPrimaryClient&&km(r,e.targetId,l.Ta),l}),hr.apply(this,arguments)}function M_(i,e){return zp.apply(this,arguments)}function zp(){return zp=(0,le.Z)(function*(i,e){const r=sn(i);return kI(r.localStore,e).then(s=>nu(r,s))}),zp.apply(this,arguments)}function md(i,e,r,s){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,le.Z)(function*(i,e,r,s){const l=sn(i),d=yield function(b,R){const B=sn(b),K=sn(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",De=>K.Cn(De,R).next(Ze=>Ze?B.localDocuments.getDocuments(De,Ze):_.resolve(null)))}(l.localStore,e);var R;null!==d?("pending"===r?yield Hh(l.remoteStore):"acknowledged"===r||"rejected"===r?(Nm(l,e,s||null),jp(l,e),R=e,sn(sn(l.localStore).mutationQueue).Fn(R)):yn(),yield nu(l,d)):Ft("SyncEngine","Cannot apply mutation batch with id: "+e)}),Gp.apply(this,arguments)}function vd(){return vd=(0,le.Z)(function*(i,e){const r=sn(i);if(Qh(r),Vm(r),!0===e&&!0!==r.Ca){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield hc(r,s.toArray());r.Ca=!0,yield bu(r.remoteStore,!0);for(const d of l)Jl(r.remoteStore,d)}else if(!1===e&&!1!==r.Ca){const s=[];let l=Promise.resolve();r.fa.forEach((d,g)=>{r.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(gd(r,g),ml(r.localStore,g,!0))),eu(r.remoteStore,g)}),yield l,yield hc(r,s),function(g){const b=sn(g);b.ya.forEach((R,B)=>{eu(b.remoteStore,B)}),b.wa.Vr(),b.ya=new Map,b.pa=new Rr(an.comparator)}(r),r.Ca=!1,yield bu(r.remoteStore,!1)}}),vd.apply(this,arguments)}function hc(i,e,r){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,le.Z)(function*(i,e,r){const s=sn(i),l=[],d=[];for(const g of e){let b;const R=s.fa.get(g);if(R&&0!==R.length){b=yield $s(s.localStore,io(R[0]));for(const B of R){const K=s.ma.get(B),De=yield wD(s,K);De.snapshot&&d.push(De.snapshot)}}else{const B=yield cm(s.localStore,g);b=yield $s(s.localStore,B),yield Fp(s,_d(B),g,!1,b.resumeToken)}l.push(b)}return s.Va.a_(d),l}),Kh.apply(this,arguments)}function _d(i){return gu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function P_(i){return r=sn(i).localStore,sn(sn(r).persistence).Bi();var r}function Fm(i,e,r,s){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,le.Z)(function*(i,e,r,s){const l=sn(i);if(l.Ca)return void Ft("SyncEngine","Ignoring unexpected query state notification.");const d=l.fa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const g=yield kI(l.localStore,Qf(d[0])),b=Zu.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Xi.EMPTY_BYTE_STRING);yield nu(l,g,b);break}case"rejected":yield ml(l.localStore,e,!0),gd(l,e,s);break;default:yn()}}),Zh.apply(this,arguments)}function Lm(i,e,r){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,le.Z)(function*(i,e,r){const s=Qh(i);if(s.Ca){for(const l of e){if(s.fa.has(l)){Ft("SyncEngine","Adding an already active target "+l);continue}const d=yield cm(s.localStore,l),g=yield $s(s.localStore,d);yield Fp(s,_d(d),g.targetId,!1,g.resumeToken),Jl(s.remoteStore,g)}for(const l of r)s.fa.has(l)&&(yield ml(s.localStore,l,!1).then(()=>{eu(s.remoteStore,l),gd(s,l)}).catch(w))}}),Wp.apply(this,arguments)}function Qh(i){const e=sn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=C_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JI.bind(null,e),e.Va.a_=WI.bind(null,e.eventManager),e.Va.Fa=qI.bind(null,e.eventManager),e}function Vm(i){const e=sn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Au.bind(null,e),e}class Xh{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,le.Z)(function*(){r.serializer=sd(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return PI(this.persistence,new MI,e.initialUser,this.serializer)}createPersistence(e){return new Ip(Oh.jr,this.serializer)}createSharedClientState(e){return new bp}terminate(){var e=this;return(0,le.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $m extends Xh{constructor(e,r,s){super(),this.xa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,le.Z)(function*(){yield r().call(s,e),yield s.xa.initialize(s,e),yield Vm(s.xa.syncEngine),yield Hh(s.xa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return PI(this.persistence,new MI,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Rh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new Ei(r,this.persistence);return new tr(e.asyncQueue,s)}createPersistence(e){const r=oc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new am(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,h_(),Sp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new bp}}class O_ extends $m{constructor(e,r){super(e,r,!1),this.xa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,le.Z)(function*(){yield r().call(s,e);const l=s.xa.syncEngine;s.sharedClientState instanceof pm&&(s.sharedClientState.syncEngine={Ys:md.bind(null,l),Zs:Fm.bind(null,l),Xs:Lm.bind(null,l),Bi:P_.bind(null,l),Js:M_.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var d=(0,le.Z)(function*(g){yield function e0(i,e){return vd.apply(this,arguments)}(s.xa.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=h_();if(!pm.D(r))throw new dt(_t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=oc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pm(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class yd{initialize(e,r){var s=this;return(0,le.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>T_(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=TD.bind(null,s.syncEngine),yield bu(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new DD}createDatastore(e){const r=sd(e.databaseInfo.databaseId),s=new $I(e.databaseInfo);return new _D(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,d=e.asyncQueue,g=r=>T_(this.syncEngine,r,0),b=sc.D()?new sc:new VI,new mm(s,l,d,g,b);var s,l,d,g,b}createSyncEngine(e,r){return function(l,d,g,b,R,B,K){const De=new I_(l,d,g,b,R,B);return K&&(De.Ca=!0),De}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,le.Z)(function*(s){const l=sn(s);Ft("RemoteStore","RemoteStore shutting down."),l.C_.add(5),yield Xl(l),l.F_.shutdown(),l.M_.set("Unknown")}),function r(s){return e.apply(this,arguments)})(this.remoteStore);var e}}function N_(i,e=10240){let r=0;return{read:()=>(0,le.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,le.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Jh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class k_{constructor(e,r){this.Ba=e,this.serializer=r,this.metadata=new Li,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(s=>{s&&s.Z_()?this.metadata.resolve(s.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Y_)}`))},s=>this.metadata.reject(s))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,le.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,le.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,le.Z)(function*(){const r=yield e.qa();if(null===r)return null;const s=e.La.decode(r),l=Number(s);isNaN(l)&&e.Qa(`length string (${s}) is not valid number`);const d=yield e.Ka(l);return new YI(JSON.parse(d),r.length+l)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,le.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const r=e.$a();r<0&&e.Qa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ka(e){var r=this;return(0,le.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ua())&&r.Qa("Reached the end of bundle when more is expected.");const s=r.La.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,le.Z)(function*(){const r=yield e.Ba.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class n0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,le.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new dt(_t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,le.Z)(function*(g,b){const R=sn(g),B=hl(R.serializer)+"/documents",K={documents:b.map(Jt=>Wl(R.serializer,Jt))},De=yield R.Co("BatchGetDocuments",B,K,b.length),Ze=new Map;De.forEach(Jt=>{const un=function hD(i,e){return"found"in e?function(s,l){Tn(!!l.found);const d=Cs(s,l.found.name),g=Ri(l.found.updateTime),b=l.found.createTime?Ri(l.found.createTime):rn.min(),R=new $i({mapValue:{fields:l.found.fields}});return Di.newFoundDocument(d,g,b,R)}(i,e):"missing"in e?function(s,l){Tn(!!l.missing),Tn(!!l.readTime);const d=Cs(s,l.missing),g=Ri(l.readTime);return Di.newNoDocument(d,g)}(i,e):yn()}(R.serializer,Jt);Ze.set(un.key.toString(),un)});const mt=[];return b.forEach(Jt=>{const un=Ze.get(Jt.toString());Tn(!!un),mt.push(un)}),mt}),function d(g,b){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ja(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,le.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const d=an.fromPath(l);e.mutations.push(new ya(d,e.precondition(d)))}),yield(s=(0,le.Z)(function*(d,g){const b=sn(d),R=hl(b.serializer)+"/documents",B={writes:g.map(K=>Ih(b.serializer,K))};yield b.wo("Commit",R,B)}),function l(d,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw yn();r=rn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new dt(_t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(rn.min())?mi.exists(!1):mi.updateTime(r):mi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(rn.min()))throw new dt(_t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mi.updateTime(r)}return mi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class r0{constructor(e,r,s,l,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=d,this.Wa=s.maxAttempts,this.zo=new f_(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,le.Z)(function*(){const r=new n0(e.datastore),s=e.za(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.ja(d)}))}).catch(l=>{e.ja(l)})}))}za(e){try{const r=this.updateFunction(e);return!qs(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!bo(r)}return!1}}class ra{constructor(e,r,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=Sr.UNAUTHENTICATED,this.clientId=Ac.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,le.Z)(function*(b){Ft("FirestoreClient","Received user=",b.uid),yield d.authCredentialListener(b),d.user=b});return function(b){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(Ft("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,le.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=hd(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function qp(i,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,le.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ft("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,le.Z)(function*(d){s.isEqual(d)||(yield xI(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Bm.apply(this,arguments)}function F_(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,le.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield jm(i);Ft("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(r,s),i.setCredentialChangeListener(l=>zh(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,d)=>zh(e.remoteStore,d)),i._onlineComponents=e}),ef.apply(this,arguments)}function Um(i){return"FirebaseError"===i.name?i.code===_t.FAILED_PRECONDITION||i.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function jm(i){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,le.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ft("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qp(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Um(r))throw r;xo("Error using user provided cache. Falling back to memory cache: "+r),yield qp(i,new Xh)}}else Ft("FirestoreClient","Using default OfflineComponentProvider"),yield qp(i,new Xh);return i._offlineComponents}),Hm.apply(this,arguments)}function Yp(i){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,le.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ft("FirestoreClient","Using user provided OnlineComponentProvider"),yield F_(i,i._uninitializedComponentsProvider._online)):(Ft("FirestoreClient","Using default OnlineComponentProvider"),yield F_(i,new yd))),i._onlineComponents}),Kp.apply(this,arguments)}function L_(i){return jm(i).then(e=>e.persistence)}function Id(i){return jm(i).then(e=>e.localStore)}function Zp(i){return Yp(i).then(e=>e.remoteStore)}function zm(i){return Yp(i).then(e=>e.syncEngine)}function Ed(i){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,le.Z)(function*(i){const e=yield Yp(i),r=e.eventManager;return r.onListen=xm.bind(null,e.syncEngine),r.onUnlisten=XI.bind(null,e.syncEngine),r}),Gm.apply(this,arguments)}function $_(i,e,r={}){const s=new Li;return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function(d,g,b,R,B){const K=new Jh({next:Ze=>{g.enqueueAndForget(()=>v_(d,De));const mt=Ze.docs.has(b);!mt&&Ze.fromCache?B.reject(new dt(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):mt&&Ze.fromCache&&R&&"server"===R.source?B.reject(new dt(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ze)},error:Ze=>B.reject(Ze)}),De=new kp($l(b.path),K,{includeMetadataChanges:!0,J_:!0});return Am(d,De)}(yield Ed(i),i.asyncQueue,e,r,s)})),s.promise}function U_(i,e,r={}){const s=new Li;return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function(d,g,b,R,B){const K=new Jh({next:Ze=>{g.enqueueAndForget(()=>v_(d,De)),Ze.fromCache&&"server"===R.source?B.reject(new dt(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ze)},error:Ze=>B.reject(Ze)}),De=new kp(b,K,{includeMetadataChanges:!0,J_:!0});return Am(d,De)}(yield Ed(i),i.asyncQueue,e,r,s)})),s.promise}function Ym(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Km=new Map;function Dd(i,e,r){if(!r)throw new dt(_t.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Xp(i,e,r,s){if(!0===e&&!0===s)throw new dt(_t.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function _l(i){if(!an.isDocumentKey(i))throw new dt(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function G_(i){if(an.isDocumentKey(i))throw new dt(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Cd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":yn()}function kr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new dt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Cd(i);throw new dt(_t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function s0(i,e){if(e<=0)throw new dt(_t.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class W_{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new dt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ym(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new dt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new dt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new dt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Rg;switch(s.type){case"firstParty":return new pa(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Km.get(r);s&&(Ft("ComponentProvider","Removing Datastore"),Km.delete(r),s.terminate())}(this),Promise.resolve()}}function Zm(i,e,r,s={}){var l;const d=(i=kr(i,tf))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==g&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},d),{host:g,ssl:!1})),s.mockUserToken){let b,R;if("string"==typeof s.mockUserToken)b=s.mockUserToken,R=Sr.MOCK_USER;else{b=(0,ee.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const B=s.mockUserToken.sub||s.mockUserToken.user_id;if(!B)throw new dt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Sr(B)}i._authCredentials=new ku(new kf(b,R))}}class Qo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qo(this.firestore,e,this._query)}}class Ni{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class Ga extends Qo{constructor(e,r,s){super(e,r,$l(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new an(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function nf(i,e,...r){if(i=(0,ee.m9)(i),Dd("collection","path",e),i instanceof tf){const s=_r.fromString(e,...r);return G_(s),new Ga(i,null,s)}{if(!(i instanceof Ni||i instanceof Ga))throw new dt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(_r.fromString(e,...r));return G_(s),new Ga(i.firestore,null,s)}}function Su(i,e,...r){if(i=(0,ee.m9)(i),1===arguments.length&&(e=Ac.newId()),Dd("doc","path",e),i instanceof tf){const s=_r.fromString(e,...r);return _l(s),new Ni(i,null,new an(s))}{if(!(i instanceof Ni||i instanceof Ga))throw new dt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(_r.fromString(e,...r));return _l(s),new Ni(i.firestore,i instanceof Ga?i.converter:null,new an(s))}}function Td(i,e){return i=(0,ee.m9)(i),e=(0,ee.m9)(e),(i instanceof Ni||i instanceof Ga)&&(e instanceof Ni||e instanceof Ga)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Jp(i,e){return i=(0,ee.m9)(i),e=(0,ee.m9)(e),i instanceof Qo&&e instanceof Qo&&i.firestore===e.firestore&&Hu(i._query,e._query)&&i.converter===e.converter}class a0{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new f_(this,"async_queue_retry"),this.iu=()=>{const r=Sp();r&&Ft("AsyncQueue","Visibility state changed to "+r.visibilityState),this.zo.Qo()};const e=Sp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const r=Sp();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const r=new Li;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,le.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(r){if(!Ot(r))throw r;Ft("AsyncQueue","Operation failed with retryable error: "+r)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const r=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,wi("INTERNAL UNHANDLED ERROR: ",function(g){let b=g.message||"";return g.stack&&(b=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),b}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=r,r}enqueueAfterDelay(e,r,s){this.su(),this.ru.indexOf(e)>-1&&(r=0);const l=bm.createAndSchedule(this,e,r,s,d=>this.au(d));return this.Xa.push(l),l}su(){this.eu&&yn()}verifyOperationInProgress(){}uu(){var e=this;return(0,le.Z)(function*(){let r;do{r=e.Ja,yield r}while(r!==e.Ja)})()}cu(e){for(const r of this.Xa)if(r.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Xa)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const r=this.Xa.indexOf(e);this.Xa.splice(r,1)}}function Qm(i){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const d of["next","error","complete"])if(d in l&&"function"==typeof l[d])return!0;return!1}(i)}class l0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Li,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ki extends tf{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new a0,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Y_(this),this._firestoreClient.terminate()}}function eg(i,e){const r="object"==typeof i?i:(0,Fe.getApp)(),s="string"==typeof i?i:e||"(default)",l=(0,Fe._getProvider)(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const d=(0,ee.P0)("firestore");d&&Zm(l,...d)}return l}function eo(i){return i._firestoreClient||Y_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Y_(i){var e,r,s;const l=i._freezeSettings(),d=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new $u(i._databaseId,R,i._persistenceKey,(K=l).host,K.ssl,K.experimentalForceLongPolling,K.experimentalAutoDetectLongPolling,Ym(K.experimentalLongPollingOptions),K.useFetchStreams));var R,K;i._firestoreClient=new ra(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function K_(i,e,r){const s=new Li;return i.asyncQueue.enqueue((0,le.Z)(function*(){try{yield qp(i,r),yield F_(i,e),s.resolve()}catch(l){const d=l;if(!Um(d))throw d;xo("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function tg(i){if(i._initialized||i._terminated)throw new dt(_t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(Xi.fromBase64String(e))}catch(r){throw new dt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new yl(Xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new dt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pc{constructor(e){this._methodName=e}}class wd{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new dt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new dt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}const v0=/^__.*__$/;class _0{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new cl(e,this.data,this.fieldMask,r,this.fieldTransforms):new ul(e,this.data,r,this.fieldTransforms)}}class ng{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new cl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Xm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yn()}}class rf{constructor(e,r,s,l,d,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Pu(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Tu({path:s,du:!1});return l.Au(e),l}Ru(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Tu({path:s,du:!1});return l.Pu(),l}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return lg(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Xm(this.Iu)&&v0.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class y0{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||sd(e)}pu(e,r,s,l=!1){return new rf({Iu:e,methodName:r,gu:s,path:Xr.emptyPath(),du:!1,fu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gc(i){const e=i._freezeSettings(),r=sd(i._databaseId);return new y0(i._databaseId,!!e.ignoreUndefinedProperties,r)}function rg(i,e,r,s,l,d={}){const g=i.pu(d.merge||d.mergeFields?2:0,e,r,l);Ad("Data must be an object, but it was:",g,s);const b=sg(s,g);let R,B;if(d.merge)R=new Oo(g.fieldMask),B=g.fieldTransforms;else if(d.mergeFields){const K=[];for(const De of d.mergeFields){const Ze=Sd(e,De,r);if(!g.contains(Ze))throw new dt(_t.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);Rd(K,Ze)||K.push(Ze)}R=new Oo(K),B=g.fieldTransforms.filter(De=>R.covers(De.field))}else R=null,B=g.fieldTransforms;return new _0(new $i(b),R,B)}class Wa extends pc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wa}}function Jm(i,e,r){return new rf({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ig extends pc{_toFieldTransform(e){return new Hl(e.path,new Ko)}isEqual(e){return e instanceof ig}}class I0 extends pc{constructor(e,r){super(e),this.yu=r}_toFieldTransform(e){const r=Jm(this,e,!0),s=this.yu.map(d=>mc(d,r)),l=new Ua(s);return new Hl(e.path,l)}isEqual(e){return this===e}}class Q_ extends pc{constructor(e,r){super(e),this.yu=r}_toFieldTransform(e){const r=Jm(this,e,!0),s=this.yu.map(d=>mc(d,r)),l=new jl(s);return new Hl(e.path,l)}isEqual(e){return this===e}}class X_ extends pc{constructor(e,r){super(e),this.wu=r}_toFieldTransform(e){const r=new na(e.serializer,mu(e.serializer,this.wu));return new Hl(e.path,r)}isEqual(e){return this===e}}function og(i,e,r,s){const l=i.pu(1,e,r);Ad("Data must be an object, but it was:",l,s);const d=[],g=$i.empty();Pa(s,(R,B)=>{const K=ag(e,R,r);B=(0,ee.m9)(B);const De=l.Ru(K);if(B instanceof Wa)d.push(K);else{const Ze=mc(B,De);null!=Ze&&(d.push(K),g.set(K,Ze))}});const b=new Oo(d);return new ng(g,b,l.fieldTransforms)}function bd(i,e,r,s,l,d){const g=i.pu(1,e,r),b=[Sd(e,s,r)],R=[l];if(d.length%2!=0)throw new dt(_t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<d.length;Ze+=2)b.push(Sd(e,d[Ze])),R.push(d[Ze+1]);const B=[],K=$i.empty();for(let Ze=b.length-1;Ze>=0;--Ze)if(!Rd(B,b[Ze])){const mt=b[Ze];let Jt=R[Ze];Jt=(0,ee.m9)(Jt);const un=g.Ru(mt);if(Jt instanceof Wa)B.push(mt);else{const cn=mc(Jt,un);null!=cn&&(B.push(mt),K.set(mt,cn))}}const De=new Oo(B);return new ng(K,De,g.fieldTransforms)}function J_(i,e,r,s=!1){return mc(r,i.pu(s?4:3,e))}function mc(i,e){if(ey(i=(0,ee.m9)(i)))return Ad("Unsupported field value:",e,i),sg(i,e);if(i instanceof pc)return function(s,l){if(!Xm(l.Iu))throw l.mu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.mu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(l);d&&l.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,l){const d=[];let g=0;for(const b of s){let R=mc(b,l.Vu(g));null==R&&(R={nullValue:"NULL_VALUE"}),d.push(R),g++}return{arrayValue:{values:d}}}(i,e)}return function(s,l){if(null===(s=(0,ee.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return mu(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=pi.fromDate(s);return{timestampValue:ko(l.serializer,d)}}if(s instanceof pi){const d=new pi(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ko(l.serializer,d)}}if(s instanceof wd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yl)return{bytesValue:Iu(l.serializer,s._byteString)};if(s instanceof Ni){const d=l.databaseId,g=s.firestore._databaseId;if(!g.isEqual(d))throw l.mu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:gh(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.mu(`Unsupported field value: ${Cd(s)}`)}(i,e)}function sg(i,e){const r={};return Nc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(i,(s,l)=>{const d=mc(l,e.Eu(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function ey(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof pi||i instanceof wd||i instanceof yl||i instanceof Ni||i instanceof pc)}function Ad(i,e,r){if(!ey(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Cd(r);throw e.mu("an object"===s?i+" a custom object":i+" "+s)}var l}function Sd(i,e,r){if((e=(0,ee.m9)(e))instanceof Ru)return e._internalPath;if("string"==typeof e)return ag(i,e);throw lg("Field path arguments must be of type string or ",i,!1,void 0,r)}const ty=new RegExp("[~\\*/\\[\\]]");function ag(i,e,r){if(e.search(ty)>=0)throw lg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Ru(...e.split("."))._internalPath}catch{throw lg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function lg(i,e,r,s,l){const d=s&&!s.isEmpty(),g=void 0!==l;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let R="";return(d||g)&&(R+=" (found",d&&(R+=` in field ${s}`),g&&(R+=` in document ${l}`),R+=")"),new dt(_t.INVALID_ARGUMENT,b+i+R)}function Rd(i,e){return i.some(r=>r.isEqual(e))}class sf{constructor(e,r,s,l,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new E0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(ug("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class E0 extends sf{data(){return super.data()}}function ug(i,e){return"string"==typeof e?ag(i,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}function ny(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new dt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class af extends ev{}function Mu(i,e,...r){let s=[];e instanceof ev&&s.push(e),s=s.concat(r),function(d){const g=d.filter(R=>R instanceof Pu).length,b=d.filter(R=>R instanceof lf).length;if(g>1||g>0&&b>0)throw new dt(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class lf extends af{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new lf(e,r,s)}_apply(e){const r=this._parse(e);return Md(e._query,r),new Qo(e.firestore,e.converter,Zf(e._query,r))}_parse(e){const r=gc(e.firestore);return function(d,g,b,R,B,K,De){let Ze;if(B.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new dt(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on documentId().`);if("in"===K||"not-in"===K){qa(De,K);const mt=[];for(const Jt of De)mt.push(iv(R,d,Jt));Ze={arrayValue:{values:mt}}}else Ze=iv(R,d,De)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||qa(De,K),Ze=J_(b,"where",De,"in"===K||"not-in"===K);return Mr.create(B,K,Ze)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class Pu extends ev{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Pu(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:$r.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,d){let g=l;const b=d.getFlattenedFilters();for(const R of b)Md(g,R),g=Zf(g,R)}(e._query,r),new Qo(e.firestore,e.converter,Zf(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nv extends af{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new nv(e,r)}_apply(e){const r=function(l,d,g){if(null!==l.startAt)throw new dt(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new dt(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uu(d,g)}(e._query,this._field,this._direction);return new Qo(e.firestore,e.converter,function(l,d){const g=l.explicitOrderBy.concat([d]);return new Xs(l.path,l.collectionGroup,g,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}class cg extends af{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new cg(e,r,s)}_apply(e){return new Qo(e.firestore,e.converter,Bl(e._query,this._limit,this._limitType))}}class dg extends af{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new dg(e,r,s)}_apply(e){const r=rv(e,this.type,this._docOrFields,this._inclusive);return new Qo(e.firestore,e.converter,(d=r,new Xs((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,d,l.endAt)));var l,d}}class uf extends af{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new uf(e,r,s)}_apply(e){const r=rv(e,this.type,this._docOrFields,this._inclusive);return new Qo(e.firestore,e.converter,(d=r,new Xs((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,d)));var l,d}}function rv(i,e,r,s){if(r[0]=(0,ee.m9)(r[0]),r[0]instanceof sf)return function(d,g,b,R,B){if(!R)throw new dt(_t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const K=[];for(const De of Js(d))if(De.field.isKeyField())K.push(Vs(g,R.key));else{const Ze=R.data.field(De.field);if(Fs(Ze))throw new dt(_t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+De.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const mt=De.field.canonicalString();throw new dt(_t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${mt}' (used as the orderBy) does not exist.`)}K.push(Ze)}return new gi(K,B)}(i._query,i.firestore._databaseId,e,r[0]._document,s);{const l=gc(i.firestore);return function(g,b,R,B,K,De){const Ze=g.explicitOrderBy;if(K.length>Ze.length)throw new dt(_t.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const mt=[];for(let Jt=0;Jt<K.length;Jt++){const un=K[Jt];if(Ze[Jt].field.isKeyField()){if("string"!=typeof un)throw new dt(_t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof un}`);if(!Va(g)&&-1!==un.indexOf("/"))throw new dt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${un}' contains a slash.`);const cn=g.path.child(_r.fromString(un));if(!an.isDocumentKey(cn))throw new dt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${cn}' is not because it contains an odd number of segments.`);const Wn=new an(cn);mt.push(Vs(b,Wn))}else{const cn=J_(R,B,un);mt.push(cn)}}return new gi(mt,De)}(i._query,i.firestore._databaseId,l,e,r,s)}}function iv(i,e,r){if("string"==typeof(r=(0,ee.m9)(r))){if(""===r)throw new dt(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Va(e)&&-1!==r.indexOf("/"))throw new dt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(_r.fromString(r));if(!an.isDocumentKey(s))throw new dt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vs(i,new an(s))}if(r instanceof Ni)return Vs(i,r._key);throw new dt(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(r)}.`)}function qa(i,e){if(!Array.isArray(i)||0===i.length)throw new dt(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Md(i,e){const r=function(l,d){for(const g of l)for(const b of g.getFlattenedFilters())if(d.indexOf(b.op)>=0)return b.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new dt(_t.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class ru{convertValue(e,r="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw yn()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Pa(e,(l,d)=>{s[l]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new wd(Vi(e.latitude),Vi(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Lc(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const r=Qs(e);return new pi(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=_r.fromString(e);Tn(qv(s));const l=new qo(s.get(1),s.get(3)),d=new an(s.popFirst(5));return l.isEqual(r)||wi(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function vc(i,e,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,s}class Ea extends ru{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,r)}}class Da{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Us extends sf{constructor(e,r,s,l,d,g){super(e,r,s,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Il(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(ug("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Il extends Us{data(e={}){return super.data(e)}}class ia{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Da(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Il(this._firestore,this._userDataWriter,s.key,s,new Da(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new dt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,d){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(b=>({type:"added",doc:new Il(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Da(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(b=>d||3!==b.type).map(b=>{const R=new Il(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Da(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let B=-1,K=-1;return 0!==b.type&&(B=g.indexOf(b.doc.key),g=g.delete(b.doc.key)),1!==b.type&&(g=g.add(b.doc),K=g.indexOf(b.doc.key)),{type:xd(b.type),doc:R,oldIndex:B,newIndex:K}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function xd(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yn()}}function ov(i,e){return i instanceof Us&&e instanceof Us?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ia&&e instanceof ia&&i._firestore===e._firestore&&Jp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class iu extends ru{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,r)}}function sv(i,e,r){i=kr(i,Ni);const s=kr(i.firestore,ki),l=vc(i.converter,e,r);return Ca(s,[rg(gc(s),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,mi.none())])}function ff(i,e,r,...s){i=kr(i,Ni);const l=kr(i.firestore,ki),d=gc(l);let g;return g="string"==typeof(e=(0,ee.m9)(e))||e instanceof Ru?bd(d,"updateDoc",i._key,e,r,s):og(d,"updateDoc",i._key,e),Ca(l,[g.toMutation(i._key,mi.exists(!0))])}function hy(i,e){const r=kr(i.firestore,ki),s=Su(i),l=vc(i.converter,e);return Ca(r,[rg(gc(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,mi.exists(!1))]).then(()=>s)}function fy(i,...e){var r,s,l;i=(0,ee.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||Qm(e[g])||(d=e[g],g++);const b={includeMetadataChanges:d.includeMetadataChanges};if(Qm(e[g])){const De=e[g];e[g]=null===(r=De.next)||void 0===r?void 0:r.bind(De),e[g+1]=null===(s=De.error)||void 0===s?void 0:s.bind(De),e[g+2]=null===(l=De.complete)||void 0===l?void 0:l.bind(De)}let R,B,K;if(i instanceof Ni)B=kr(i.firestore,ki),K=$l(i._key.path),R={next:De=>{e[g]&&e[g](pf(B,i,De))},error:e[g+1],complete:e[g+2]};else{const De=kr(i,Qo);B=kr(De.firestore,ki),K=De._query;const Ze=new iu(B);R={next:mt=>{e[g]&&e[g](new ia(B,Ze,De,mt))},error:e[g+1],complete:e[g+2]},ny(i._query)}return function(Ze,mt,Jt,un){const cn=new Jh(un),Wn=new kp(mt,cn,Jt);return Ze.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return Am(yield Ed(Ze),Wn)})),()=>{cn.Na(),Ze.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return v_(yield Ed(Ze),Wn)}))}}(eo(B),K,b,R)}function Ca(i,e){return function(s,l){const d=new Li;return s.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function D_(i,e,r){return Lp.apply(this,arguments)}(yield zm(s),l,d)})),d.promise}(eo(i),e)}function pf(i,e,r){const s=r.docs.get(e._key),l=new iu(i);return new Us(i,l,e._key,s,new Da(r.hasPendingWrites,r.fromCache),e.converter)}const gy={maxAttempts:5};class uv{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=gc(e)}set(e,r,s){this._verifyNotCommitted();const l=oa(e,this._firestore),d=vc(l.converter,r,s),g=rg(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,mi.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const d=oa(e,this._firestore);let g;return g="string"==typeof(r=(0,ee.m9)(r))||r instanceof Ru?bd(this._dataReader,"WriteBatch.update",d._key,r,s,l):og(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(g.toMutation(d._key,mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=oa(e,this._firestore);return this._mutations=this._mutations.concat(new ja(r._key,mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(_t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function oa(i,e){if((i=(0,ee.m9)(i)).firestore!==e)throw new dt(_t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class O0 extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=gc(r)}get(r){const s=oa(r,this._firestore),l=new Ea(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return yn();const g=d[0];if(g.isFoundDocument())return new sf(this._firestore,l,g.key,g,s.converter);if(g.isNoDocument())return new sf(this._firestore,l,s._key,null,s.converter);throw yn()})}set(r,s,l){const d=oa(r,this._firestore),g=vc(d.converter,s,l),b=rg(this._dataReader,"Transaction.set",d._key,g,null!==d.converter,l);return this._transaction.set(d._key,b),this}update(r,s,l,...d){const g=oa(r,this._firestore);let b;return b="string"==typeof(s=(0,ee.m9)(s))||s instanceof Ru?bd(this._dataReader,"Transaction.update",g._key,s,l,d):og(this._dataReader,"Transaction.update",g._key,s),this._transaction.update(g._key,b),this}delete(r){const s=oa(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=oa(e,this._firestore),s=new iu(this._firestore);return super.get(e).then(l=>new Us(this._firestore,s,r._key,l._document,new Da(!1,!1),r.converter))}}function gf(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new dt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Od(){if(typeof Uint8Array>"u")throw new dt("unimplemented","Uint8Arrays are not available in this environment.")}function yy(){if(!function Fc(){return typeof atob<"u"}())throw new dt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){fi=Fe.SDK_VERSION,(0,Fe._registerComponent)(new Oe.wA("firestore",(s,{instanceIdentifier:l,options:d})=>{const g=s.getProvider("app").getImmediate(),b=new ki(new Wd(s.getProvider("auth-internal")),new Ml(s.getProvider("app-check-internal")),function(B,K){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new dt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(B.options.projectId,K)}(g,l),g);return d=Object.assign({useFetchStreams:r},d),b._setSettings(d),b},"PUBLIC").setMultipleInstances(!0)),(0,Fe.registerVersion)(Rl,"4.4.0",e),(0,Fe.registerVersion)(Rl,"4.4.0","esm2017")}();class Nd{constructor(e){this._delegate=e}static fromBase64String(e){return yy(),new Nd(yl.fromBase64String(e))}static fromUint8Array(e){return Od(),new Nd(yl.fromUint8Array(e))}toBase64(){return yy(),this._delegate.toBase64()}toUint8Array(){return Od(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fv(i){return function B0(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of e)if(s in r&&"function"==typeof r[s])return!0;return!1}(i,["next","error","complete"])}class Iy{enableIndexedDbPersistence(e,r){return function AD(i,e){tg(i=kr(i,ki));const r=eo(i);if(r._uninitializedComponentsProvider)throw new dt(_t.FAILED_PRECONDITION,"SDK cache is already specified.");xo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new yd;return K_(r,l,new $m(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function c0(i){tg(i=kr(i,ki));const e=eo(i);if(e._uninitializedComponentsProvider)throw new dt(_t.FAILED_PRECONDITION,"SDK cache is already specified.");xo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),s=new yd;return K_(e,s,new O_(s,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function d0(i){if(i._initialized&&!i._terminated)throw new dt(_t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Li;return i._queue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{yield(r=(0,le.Z)(function*(l){if(!W.D())return Promise.resolve();const d=l+"main";yield W.delete(d)}),function s(l){return r.apply(this,arguments)})(oc(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class pv{constructor(e,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof qo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&xo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,s={}){Zm(this._delegate,e,r,s)}enableNetwork(){return function f0(i){return function o0(i){return i.asyncQueue.enqueue((0,le.Z)(function*(){const e=yield L_(i),r=yield Zp(i);return e.setNetworkEnabled(!0),function(l){const d=sn(l);return d.C_.delete(0),ac(d)}(r)}))}(eo(i=kr(i,ki)))}(this._delegate)}disableNetwork(){return function p0(i){return function vl(i){return i.asyncQueue.enqueue((0,le.Z)(function*(){const e=yield L_(i),r=yield Zp(i);return e.setNetworkEnabled(!1),(s=(0,le.Z)(function*(d){const g=sn(d);g.C_.add(0),yield Xl(g),g.M_.set("Offline")}),function l(d){return s.apply(this,arguments)})(r);var s}))}(eo(i=kr(i,ki)))}(this._delegate)}enablePersistence(e){let r=!1,s=!1;return e&&(r=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Xp("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function h0(i){return function(r){const s=new Li;return r.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function Bp(i,e){return Up.apply(this,arguments)}(yield zm(r),s)})),s.promise}(eo(i=kr(i,ki)))}(this._delegate)}onSnapshotsInSync(e){return function av(i,e){return function j_(i,e){const r=new Jh(e);return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return l=yield Ed(i),d=r,sn(l).q_.add(d),void d.next();var l,d})),()=>{r.Na(),i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return l=yield Ed(i),d=r,void sn(l).q_.delete(d);var l,d}))}}(eo(i=kr(i,ki)),Qm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new dt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new kd(this,nf(this._delegate,e))}catch(r){throw Ts(r,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,Su(this._delegate,e))}catch(r){throw Ts(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ws(this,function q_(i,e){if(i=kr(i,tf),Dd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dt(_t.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qo(i,null,(s=e,new Xs(_r.emptyPath(),s)));var s}(this._delegate,e))}catch(r){throw Ts(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function N0(i,e,r){i=kr(i,ki);const s=Object.assign(Object.assign({},gy),r);return function(d){if(d.maxAttempts<1)throw new dt(_t.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,g,b){const R=new Li;return d.asyncQueue.enqueueAndForget((0,le.Z)(function*(){const B=yield function V_(i){return Yp(i).then(e=>e.datastore)}(d);new r0(d.asyncQueue,B,b,g,R).run()})),R.promise}(eo(i),l=>e(new O0(i,l)),s)}(this._delegate,r=>e(new gv(this,r)))}batch(){return eo(this._delegate),new Ey(new uv(this._delegate,e=>Ca(this._delegate,e)))}loadBundle(e){return function fc(i,e){const r=eo(i=kr(i,ki)),s=new l0;return function H_(i,e,r,s){const l=function(g,b){let R;return R="string"==typeof g?Jc().encode(g):g,K=function(K,De){if(K instanceof Uint8Array)return N_(K,void 0);if(K instanceof ArrayBuffer)return N_(new Uint8Array(K),void 0);if(K instanceof ReadableStream)return K.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new k_(K,b);var K}(r,sd(e));i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){!function t0(i,e,r){const s=sn(i);var l;(l=(0,le.Z)(function*(g,b,R){try{const B=yield b.getMetadata();if(yield function(Jt,un){const cn=sn(Jt),Wn=Ri(un.createTime);return cn.persistence.runTransaction("hasNewerBundle","readonly",Qn=>cn.Kr.getBundleMetadata(Qn,un.id)).then(Qn=>!!Qn&&Qn.createTime.compareTo(Wn)>=0)}(g.localStore,B))return yield b.close(),R._completeWith({taskState:"Success",documentsLoaded:(Jt=B).totalDocuments,bytesLoaded:Jt.totalBytes,totalDocuments:Jt.totalDocuments,totalBytes:Jt.totalBytes}),Promise.resolve(new Set);R._updateProgress(y_(B));const K=new KI(B,g.localStore,b.serializer);let De=yield b.Ma();for(;De;){const mt=yield K.ea(De);mt&&R._updateProgress(mt),De=yield b.Ma()}const Ze=yield K.complete();return yield nu(g,Ze.ra,void 0),yield function(Jt,un){const cn=sn(Jt);return cn.persistence.runTransaction("Save bundle","readwrite",Wn=>cn.Kr.saveBundleMetadata(Wn,un))}(g.localStore,B),R._completeWith(Ze.progress),Promise.resolve(Ze.na)}catch(B){return xo("SyncEngine",`Loading bundle failed with ${B}`),R._failWith(B),Promise.resolve(new Set)}var Jt}),function d(g,b,R){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield zm(i),l,s)}))}(r,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function m0(i,e){return function Qp(i,e){return i.asyncQueue.enqueue((0,le.Z)(function*(){return function(s,l){const d=sn(s);return d.persistence.runTransaction("Get named query","readonly",g=>d.Kr.getNamedQuery(g,l))}(yield Id(i),e)}))}(eo(i=kr(i,ki)),e).then(r=>r?new Qo(i,null,r.query):null)}(this._delegate,e).then(r=>r?new ws(this,r):null)}}class _c extends ru{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nd(new yl(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(r,this.firestore,null)}}class gv{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new _c(e)}get(e){const r=Fd(e);return this._delegate.get(r).then(s=>new mf(this._firestore,new Us(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(e,r,s){const l=Fd(e);return s?(gf("Transaction.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const d=Fd(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(e){const r=Fd(e);return this._delegate.delete(r),this}}class Ey{constructor(e){this._delegate=e}set(e,r,s){const l=Fd(e);return s?(gf("WriteBatch.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const d=Fd(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(e){const r=Fd(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class yc{constructor(e,r,s){this._firestore=e,this._userDataWriter=r,this._delegate=s}fromFirestore(e,r){const s=new Il(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vf(this._firestore,s),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const s=yc.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let d=l.get(r);return d||(d=new yc(e,new _c(e),r),l.set(r,d)),d}}yc.INSTANCES=new WeakMap;class wa{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new _c(e)}static forPath(e,r,s){if(e.length%2!=0)throw new dt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(r,new Ni(r._delegate,s,new an(e)))}static forKey(e,r,s){return new wa(r,new Ni(r._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new kd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new kd(this.firestore,nf(this._delegate,e))}catch(r){throw Ts(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ee.m9)(e))instanceof Ni&&Td(this._delegate,e)}set(e,r){r=gf("DocumentReference.set",r);try{return r?sv(this._delegate,e,r):sv(this._delegate,e)}catch(s){throw Ts(s,"setDoc()","DocumentReference.set()")}}update(e,r,...s){try{return 1===arguments.length?ff(this._delegate,e):ff(this._delegate,e,r,...s)}catch(l){throw Ts(l,"updateDoc()","DocumentReference.update()")}}delete(){return function xu(i){return Ca(kr(i.firestore,ki),[new ja(i._key,mi.none())])}(this._delegate)}onSnapshot(...e){const r=Dy(e),s=Cy(e,l=>new mf(this.firestore,new Us(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return fy(this._delegate,r,s)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function ay(i){i=kr(i,Ni);const e=kr(i.firestore,ki),r=eo(e),s=new iu(e);return function Wm(i,e){const r=new Li;return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return(s=(0,le.Z)(function*(d,g,b){try{const R=yield function(K,De){const Ze=sn(K);return Ze.persistence.runTransaction("read document","readonly",mt=>Ze.localDocuments.getDocument(mt,De))}(d,g);R.isFoundDocument()?b.resolve(R):R.isNoDocument()?b.resolve(null):b.reject(new dt(_t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const B=hd(R,`Failed to get document '${g} from cache`);b.reject(B)}}),function l(d,g,b){return s.apply(this,arguments)})(yield Id(i),e,r);var s})),r.promise}(r,i._key).then(l=>new Us(e,s,i._key,l,new Da(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ly(i){i=kr(i,Ni);const e=kr(i.firestore,ki);return $_(eo(e),i._key,{source:"server"}).then(r=>pf(e,i,r))}(this._delegate):function sy(i){i=kr(i,Ni);const e=kr(i.firestore,ki);return $_(eo(e),i._key).then(r=>pf(e,i,r))}(this._delegate),r.then(s=>new mf(this.firestore,new Us(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?yc.getInstance(this.firestore,e):null))}}function Ts(i,e,r){return i.message=i.message.replace(e,r),i}function Dy(i){for(const e of i)if("object"==typeof e&&!fv(e))return e;return{}}function Cy(i,e){var r,s;let l;return l=fv(i[0])?i[0]:fv(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class mf{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return ov(this._delegate,e._delegate)}}class vf extends mf{data(e){const r=this._delegate.data(e);return this._delegate._converter||function Xa(i,e){i||yn()}(void 0!==r),r}}class ws{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new _c(e)}where(e,r,s){try{return new ws(this.firestore,Mu(this._delegate,function ry(i,e,r){const s=e,l=ug("where",i);return lf._create(l,s,r)}(e,r,s)))}catch(l){throw Ts(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new ws(this.firestore,Mu(this._delegate,function D0(i,e="asc"){const r=e,s=ug("orderBy",i);return nv._create(s,r)}(e,r)))}catch(s){throw Ts(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ws(this.firestore,Mu(this._delegate,function C0(i){return s0("limit",i),cg._create("limit",i,"F")}(e)))}catch(r){throw Ts(r,"limit()","Query.limit()")}}limitToLast(e){try{return new ws(this.firestore,Mu(this._delegate,function T0(i){return s0("limitToLast",i),cg._create("limitToLast",i,"L")}(e)))}catch(r){throw Ts(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ws(this.firestore,Mu(this._delegate,function w0(...i){return dg._create("startAt",i,!0)}(...e)))}catch(r){throw Ts(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ws(this.firestore,Mu(this._delegate,function iy(...i){return dg._create("startAfter",i,!1)}(...e)))}catch(r){throw Ts(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ws(this.firestore,Mu(this._delegate,function b0(...i){return uf._create("endBefore",i,!1)}(...e)))}catch(r){throw Ts(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ws(this.firestore,Mu(this._delegate,function RD(...i){return uf._create("endAt",i,!0)}(...e)))}catch(r){throw Ts(r,"endAt()","Query.endAt()")}}isEqual(e){return Jp(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function cy(i){i=kr(i,Qo);const e=kr(i.firestore,ki),r=eo(e),s=new iu(e);return function B_(i,e){const r=new Li;return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return(s=(0,le.Z)(function*(d,g,b){try{const R=yield Fh(d,g,!0),B=new Pm(g,R.ls),K=B.ca(R.documents),De=B.applyChanges(K,!1);b.resolve(De.snapshot)}catch(R){const B=hd(R,`Failed to execute query '${g} against cache`);b.reject(B)}}),function l(d,g,b){return s.apply(this,arguments)})(yield Id(i),e,r);var s})),r.promise}(r,i._query).then(l=>new ia(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function dy(i){i=kr(i,Qo);const e=kr(i.firestore,ki),r=eo(e),s=new iu(e);return U_(r,i._query,{source:"server"}).then(l=>new ia(e,s,i,l))}(this._delegate):function uy(i){i=kr(i,Qo);const e=kr(i.firestore,ki),r=eo(e),s=new iu(e);return ny(i._query),U_(r,i._query).then(l=>new ia(e,s,i,l))}(this._delegate),r.then(s=>new _f(this.firestore,new ia(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const r=Dy(e),s=Cy(e,l=>new _f(this.firestore,new ia(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return fy(this._delegate,r,s)}withConverter(e){return new ws(this.firestore,this._delegate.withConverter(e?yc.getInstance(this.firestore,e):null))}}class j0{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new vf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _f{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new j0(this._firestore,r))}forEach(e,r){this._delegate.forEach(s=>{e.call(r,new vf(this._firestore,s))})}isEqual(e){return ov(this._delegate,e._delegate)}}class kd extends ws{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?Su(this._delegate):Su(this._delegate,e))}catch(r){throw Ts(r,"doc()","CollectionReference.doc()")}}add(e){return hy(this._delegate,e).then(r=>new wa(this.firestore,r))}isEqual(e){return Td(this._delegate,e._delegate)}withConverter(e){return new kd(this.firestore,this._delegate.withConverter(e?yc.getInstance(this.firestore,e):null))}}function Fd(i){return kr(i,Ni)}class Ty{constructor(...e){this._delegate=new Ru(...e)}static documentId(){return new Ty(Xr.keyField().canonicalString())}isEqual(e){return(e=(0,ee.m9)(e))instanceof Ru&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ic{constructor(e){this._delegate=e}static serverTimestamp(){const e=function k0(){return new ig("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ic(e)}static delete(){const e=function my(){return new Wa("deleteField")}();return e._methodName="FieldValue.delete",new Ic(e)}static arrayUnion(...e){const r=function vy(...i){return new I0("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new Ic(r)}static arrayRemove(...e){const r=function kD(...i){return new Q_("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new Ic(r)}static increment(e){const r=function cv(i){return new X_("increment",i)}(e);return r._methodName="FieldValue.increment",new Ic(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const H0={Firestore:pv,GeoPoint:wd,Timestamp:pi,Blob:Nd,Transaction:gv,WriteBatch:Ey,DocumentReference:wa,DocumentSnapshot:mf,Query:ws,QueryDocumentSnapshot:vf,QuerySnapshot:_f,CollectionReference:kd,FieldPath:Ty,FieldValue:Ic,setLogLevel:function U0(i){!function Gd(i){Ps.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function wy(i,e){return function G0(i,e=pe.z){return new We.y(r=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,e)}function yf(i,e){return wy(i,e).pipe((0,Pe.U)(r=>({payload:r,type:"query"})))}!function z0(i){(function VD(i,e){i.INTERNAL.registerComponent(new Oe.wA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),l=r.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},H0)))})(i,(e,r)=>new pv(e,r,new Iy)),i.registerVersion("@firebase/firestore-compat","0.3.23")}(ht.Z),N(7142);class Ld{constructor(e,r){(0,U.Z)(this,"ref",void 0),(0,U.Z)(this,"afs",void 0),this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const s=this.ref.collection(e),{ref:l,query:d}=Py(s,r);return new $d(l,d,this.afs)}snapshotChanges(){return function W0(i,e){return wy(i,e).pipe((0,ce.O)(void 0),Re(),(0,Pe.U)(r=>{const[s,l]=r;return l.exists?null!=s&&s.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pe.U)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,je.D)(this.ref.get(e)).pipe(J.iC)}}function Vd(i,e){return yf(i,e).pipe((0,ce.O)(void 0),Re(),(0,Pe.U)(r=>{const[s,l]=r,d=l.payload.docChanges(),g=d.map(b=>({type:b.type,payload:b}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((b,R)=>{const B=d.find(De=>De.doc.ref.isEqual(b.ref)),K=null==s?void 0:s.payload.docs.find(De=>De.ref.isEqual(b.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(b.metadata)||!B&&K&&JSON.stringify(K.metadata)===JSON.stringify(b.metadata)||g.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:b}})}),g}))}function If(i,e,r){return Vd(i,r).pipe((0,nt.R)((s,l)=>function by(i,e,r){return e.forEach(s=>{r.indexOf(s.type)>-1&&(i=function Ay(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ec(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return Ec(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ec(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),e),[]),(0,xe.x)(),(0,Pe.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function Ec(i,e,r,...s){const l=i.slice();return l.splice(e,r,...s),l}function Sy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class $d{constructor(e,r,s){(0,U.Z)(this,"ref",void 0),(0,U.Z)(this,"query",void 0),(0,U.Z)(this,"afs",void 0),this.ref=e,this.query=r,this.afs=s}stateChanges(e){let r=Vd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Pe.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),r.pipe((0,ce.O)(void 0),Re(),(0,Le.h)(([s,l])=>l.length>0||!s),(0,Pe.U)(([,s])=>s),J.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,nt.R)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=Sy(e);return If(this.query,r,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return yf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(r=>r.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),J.iC)}get(e){return(0,je.D)(this.query.get(e)).pipe(J.iC)}add(e){return this.ref.add(e)}doc(e){return new Ld(this.ref.doc(e),this.afs)}}class Ry{constructor(e,r){(0,U.Z)(this,"query",void 0),(0,U.Z)(this,"afs",void 0),this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?Vd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)),(0,Le.h)(r=>r.length>0),J.iC):Vd(this.query,this.afs.schedulers.outsideAngular).pipe(J.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,nt.R)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=Sy(e);return If(this.query,r,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return yf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),J.iC)}get(e){return(0,je.D)(this.query.get(e)).pipe(J.iC)}}const q0=new u.OlP("angularfire2.enableFirestorePersistence"),My=new u.OlP("angularfire2.firestore.persistenceSettings"),pg=new u.OlP("angularfire2.firestore.settings"),Y0=new u.OlP("angularfire2.firestore.use-emulator");function Py(i,e=(r=>r)){return{query:e(i),ref:i}}let K0=(()=>{var i;class e{constructor(s,l,d,g,b,R,B,K,De,Ze,mt,Jt,un,cn,Wn,Qn,Zn){(0,U.Z)(this,"schedulers",void 0),(0,U.Z)(this,"firestore",void 0),(0,U.Z)(this,"persistenceEnabled$",void 0),this.schedulers=B;const Tr=(0,Me.on)(s,R,l),Jr=De;Ze&&(0,se.nw)(Tr,R,mt,un,cn,Wn,Jt,Qn),[this.firestore,this.persistenceEnabled$]=(0,Me.cc)(`${Tr.name}.firestore`,"AngularFirestore",Tr.name,()=>{const Lr=R.runOutsideAngular(()=>Tr.firestore());if(g&&Lr.settings(g),Jr&&Lr.useEmulator(...Jr),d&&!(0,Q.PM)(b)){const to=()=>{try{return(0,je.D)(Lr.enablePersistence(K||void 0).then(()=>!0,()=>!1))}catch(so){return typeof console<"u"&&console.warn(so),(0,Ie.of)(!1)}};return[Lr,R.runOutsideAngular(to)]}return[Lr,(0,Ie.of)(!1)]},[g,Jr,d])}collection(s,l){let d;d="string"==typeof s?this.firestore.collection(s):s;const{ref:g,query:b}=Py(d,l),R=this.schedulers.ngZone.run(()=>g);return new $d(R,b,this)}collectionGroup(s,l){const d=l||(b=>b),g=this.firestore.collectionGroup(s);return new Ry(d(g),this)}doc(s){let l;l="string"==typeof s?this.firestore.doc(s):s;const d=this.schedulers.ngZone.run(()=>l);return new Ld(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i=e,(0,U.Z)(e,"\u0275fac",function(s){return new(s||i)(u.LFG(Me.Dh),u.LFG(Me.xv,8),u.LFG(q0,8),u.LFG(pg,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(J.HU),u.LFG(My,8),u.LFG(Y0,8),u.LFG(se.zQ,8),u.LFG(se.Qv,8),u.LFG(se.L6,8),u.LFG(se._Q,8),u.LFG(se.rT,8),u.LFG(se.lh,8),u.LFG(se.f7,8),u.LFG(J.Rf,8))}),(0,U.Z)(e,"\u0275prov",u.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})),e})();N(3182);const $y=(0,J.u3)(hy,!0),lE=(0,J.u3)(nf,!0),jy=(0,J.u3)(eg,!0);let Ky=(()=>{var i;class e{constructor(s){this.afAuth=s,this.firestore=(0,u.f3M)(K0)}addVisit(s){return $y(lE(jy(),"visits"),s)}signInAnonymously(){this.afAuth.signInAnonymously().then(s=>{var l;const d=null===(l=s.user)||void 0===l?void 0:l.uid;console.log("Usuario an\xf3nimo inici\xf3 sesi\xf3n con el uid: "+d)}).catch(s=>{console.error("Error al iniciar sesi\xf3n de forma an\xf3nima: "+s)})}}return(i=e).\u0275fac=function(s){return new(s||i)(u.LFG(se.zQ))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})()},6162:(Wt,et,N)=>{"use strict";var u=N(6593),U=N(9212),Q=N(4934),J=N(7217),Me=N(5472),se=N(1929),pe=N(9949),We=N(4562);let je=(()=>{var Re;class Pe{constructor(xe){this.firestoreService=xe,this.initializeApp()}initializeApp(){this.firestoreService.signInAnonymously()}}return(Re=Pe).\u0275fac=function(xe){return new(xe||Re)(U.Y36(We.C))},Re.\u0275cmp=U.Xpm({type:Re,selectors:[["app-root"]],decls:2,vars:0,template:function(xe,Le){1&xe&&(U.TgZ(0,"ion-app"),U._UZ(1,"ion-router-outlet"),U.qZA())},dependencies:[se.dr,se.jP]}),Pe})();const Ie=[{path:"home",loadChildren:()=>N.e(6260).then(N.bind(N,6260)).then(Re=>Re.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"out-home",loadChildren:()=>N.e(4218).then(N.bind(N,4218)).then(Re=>Re.OutHomePageModule)}];let ce=(()=>{var Re;class Pe{}return(Re=Pe).\u0275fac=function(xe){return new(xe||Re)},Re.\u0275mod=U.oAB({type:Re}),Re.\u0275inj=U.cJS({imports:[Q.Bz.forRoot(Ie,{preloadingStrategy:Q.wm}),Q.Bz]}),Pe})();const Ne_firebaseConfig={apiKey:"AIzaSyDKBkjA0oTinqYcjmwvp7L3HcBBQVjKUkw",authDomain:"ingresovst.firebaseapp.com",projectId:"ingresovst",storageBucket:"ingresovst.appspot.com",messagingSenderId:"796747489927",appId:"1:796747489927:web:22ca8712c7f40087684e22"};let $e=(()=>{var Re;class Pe{}return(Re=Pe).\u0275fac=function(xe){return new(xe||Re)},Re.\u0275mod=U.oAB({type:Re,bootstrap:[je]}),Re.\u0275inj=U.cJS({providers:[{provide:Q.wN,useClass:Me.r4}],imports:[u.b2,se.Pc.forRoot(),ce,J.hO.initializeApp(Ne_firebaseConfig),pe.ww]}),Pe})();(0,U.G48)(),u.q6().bootstrapModule($e).catch(Re=>console.log(Re))},5619:(Wt,et,N)=>{"use strict";N.d(et,{X:()=>U});var u=N(8645);class U extends u.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const Me=super._subscribe(J);return!Me.closed&&J.next(this._value),Me}getValue(){const{hasError:J,thrownError:Me,_value:se}=this;if(J)throw Me;return this._throwIfClosed(),se}next(J){super.next(this._value=J)}}},5592:(Wt,et,N)=>{"use strict";N.d(et,{y:()=>We});var u=N(305),U=N(7394),Q=N(4850),J=N(8407),Me=N(2653),se=N(4674),pe=N(1441);let We=(()=>{class Ne{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Pe=new Ne;return Pe.source=this,Pe.operator=Re,Pe}subscribe(Re,Pe,nt){const xe=function ce(Ne){return Ne&&Ne instanceof u.Lv||function Ie(Ne){return Ne&&(0,se.m)(Ne.next)&&(0,se.m)(Ne.error)&&(0,se.m)(Ne.complete)}(Ne)&&(0,U.Nn)(Ne)}(Re)?Re:new u.Hp(Re,Pe,nt);return(0,pe.x)(()=>{const{operator:Le,source:He}=this;xe.add(Le?Le.call(xe,He):He?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Pe){Re.error(Pe)}}forEach(Re,Pe){return new(Pe=je(Pe))((nt,xe)=>{const Le=new u.Hp({next:He=>{try{Re(He)}catch(ht){xe(ht),Le.unsubscribe()}},error:xe,complete:nt});this.subscribe(Le)})}_subscribe(Re){var Pe;return null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe(Re)}[Q.L](){return this}pipe(...Re){return(0,J.U)(Re)(this)}toPromise(Re){return new(Re=je(Re))((Pe,nt)=>{let xe;this.subscribe(Le=>xe=Le,Le=>nt(Le),()=>Pe(xe))})}}return Ne.create=$e=>new Ne($e),Ne})();function je(Ne){var $e;return null!==($e=null!=Ne?Ne:Me.config.Promise)&&void 0!==$e?$e:Promise}},8645:(Wt,et,N)=>{"use strict";N.d(et,{x:()=>pe});var u=N(5592),U=N(7394);const J=(0,N(2306).d)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=N(9039),se=N(1441);let pe=(()=>{class je extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const Ne=new We(this,this);return Ne.operator=ce,Ne}_throwIfClosed(){if(this.closed)throw new J}next(ce){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(ce)}})}error(ce){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(ce)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:Ne,isStopped:$e,observers:Re}=this;return Ne||$e?U.Lc:(this.currentObservers=null,Re.push(ce),new U.w0(()=>{this.currentObservers=null,(0,Me.P)(Re,ce)}))}_checkFinalizedStatuses(ce){const{hasError:Ne,thrownError:$e,isStopped:Re}=this;Ne?ce.error($e):Re&&ce.complete()}asObservable(){const ce=new u.y;return ce.source=this,ce}}return je.create=(Ie,ce)=>new We(Ie,ce),je})();class We extends pe{constructor(Ie,ce){super(),this.destination=Ie,this.source=ce}next(Ie){var ce,Ne;null===(Ne=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===Ne||Ne.call(ce,Ie)}error(Ie){var ce,Ne;null===(Ne=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===Ne||Ne.call(ce,Ie)}complete(){var Ie,ce;null===(ce=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.complete)||void 0===ce||ce.call(Ie)}_subscribe(Ie){var ce,Ne;return null!==(Ne=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Ie))&&void 0!==Ne?Ne:U.Lc}}},305:(Wt,et,N)=>{"use strict";N.d(et,{Hp:()=>nt,Lv:()=>Ne});var u=N(4674),U=N(7394),Q=N(2653),J=N(3894),Me=N(2420);const se=je("C",void 0,void 0);function je(le,Fe,Oe){return{kind:le,value:Fe,error:Oe}}var Ie=N(7599),ce=N(1441);class Ne extends U.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,U.Nn)(Fe)&&Fe.add(this)):this.destination=ht}static create(Fe,Oe,we){return new nt(Fe,Oe,we)}next(Fe){this.isStopped?He(function We(le){return je("N",le,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?He(function pe(le){return je("E",void 0,le)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?He(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Re(le,Fe){return $e.call(le,Fe)}class Pe{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Fe)}catch(we){xe(we)}}error(Fe){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Fe)}catch(we){xe(we)}else xe(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(Oe){xe(Oe)}}}class nt extends Ne{constructor(Fe,Oe,we){let ee;if(super(),(0,u.m)(Fe)||!Fe)ee={next:null!=Fe?Fe:void 0,error:null!=Oe?Oe:void 0,complete:null!=we?we:void 0};else{let ge;this&&Q.config.useDeprecatedNextContext?(ge=Object.create(Fe),ge.unsubscribe=()=>this.unsubscribe(),ee={next:Fe.next&&Re(Fe.next,ge),error:Fe.error&&Re(Fe.error,ge),complete:Fe.complete&&Re(Fe.complete,ge)}):ee=Fe}this.destination=new Pe(ee)}}function xe(le){Q.config.useDeprecatedSynchronousErrorHandling?(0,ce.O)(le):(0,J.h)(le)}function He(le,Fe){const{onStoppedNotification:Oe}=Q.config;Oe&&Ie.z.setTimeout(()=>Oe(le,Fe))}const ht={closed:!0,next:Me.Z,error:function Le(le){throw le},complete:Me.Z}},7394:(Wt,et,N)=>{"use strict";N.d(et,{Lc:()=>se,w0:()=>Me,Nn:()=>pe});var u=N(4674);const Q=(0,N(2306).d)(je=>function(ce){je(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((Ne,$e)=>`${$e+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var J=N(9039);class Me{constructor(Ie){this.initialTeardown=Ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ie;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Re of ce)Re.remove(this);else ce.remove(this);const{initialTeardown:Ne}=this;if((0,u.m)(Ne))try{Ne()}catch(Re){Ie=Re instanceof Q?Re.errors:[Re]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Re of $e)try{We(Re)}catch(Pe){Ie=null!=Ie?Ie:[],Pe instanceof Q?Ie=[...Ie,...Pe.errors]:Ie.push(Pe)}}if(Ie)throw new Q(Ie)}}add(Ie){var ce;if(Ie&&Ie!==this)if(this.closed)We(Ie);else{if(Ie instanceof Me){if(Ie.closed||Ie._hasParent(this))return;Ie._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(Ie)}}_hasParent(Ie){const{_parentage:ce}=this;return ce===Ie||Array.isArray(ce)&&ce.includes(Ie)}_addParent(Ie){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(Ie),ce):ce?[ce,Ie]:Ie}_removeParent(Ie){const{_parentage:ce}=this;ce===Ie?this._parentage=null:Array.isArray(ce)&&(0,J.P)(ce,Ie)}remove(Ie){const{_finalizers:ce}=this;ce&&(0,J.P)(ce,Ie),Ie instanceof Me&&Ie._removeParent(this)}}Me.EMPTY=(()=>{const je=new Me;return je.closed=!0,je})();const se=Me.EMPTY;function pe(je){return je instanceof Me||je&&"closed"in je&&(0,u.m)(je.remove)&&(0,u.m)(je.add)&&(0,u.m)(je.unsubscribe)}function We(je){(0,u.m)(je)?je():je.unsubscribe()}},2653:(Wt,et,N)=>{"use strict";N.d(et,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Wt,et,N)=>{"use strict";N.d(et,{a:()=>Ie});var u=N(5592),U=N(7453),Q=N(2459),J=N(2737),Me=N(7400),se=N(4564),pe=N(2714),We=N(8251),je=N(7103);function Ie(...$e){const Re=(0,se.yG)($e),Pe=(0,se.jO)($e),{args:nt,keys:xe}=(0,U.D)($e);if(0===nt.length)return(0,Q.D)([],Re);const Le=new u.y(function ce($e,Re,Pe=J.y){return nt=>{Ne(Re,()=>{const{length:xe}=$e,Le=new Array(xe);let He=xe,ht=xe;for(let le=0;le<xe;le++)Ne(Re,()=>{const Fe=(0,Q.D)($e[le],Re);let Oe=!1;Fe.subscribe((0,We.x)(nt,we=>{Le[le]=we,Oe||(Oe=!0,ht--),ht||nt.next(Pe(Le.slice()))},()=>{--He||nt.complete()}))},nt)},nt)}}(nt,Re,xe?He=>(0,pe.n)(xe,He):J.y));return Pe?Le.pipe((0,Me.Z)(Pe)):Le}function Ne($e,Re,Pe){$e?(0,je.f)(Pe,$e,Re):Re()}},5211:(Wt,et,N)=>{"use strict";N.d(et,{z:()=>Me});var u=N(7537),Q=N(4564),J=N(2459);function Me(...se){return function U(){return(0,u.J)(1)}()((0,J.D)(se,(0,Q.yG)(se)))}},6232:(Wt,et,N)=>{"use strict";N.d(et,{E:()=>U});const U=new(N(5592).y)(Me=>Me.complete())},2459:(Wt,et,N)=>{"use strict";N.d(et,{D:()=>Fe});var u=N(4829),U=N(3093),Q=N(5137),se=N(5592),We=N(4971),je=N(4674),Ie=N(7103);function Ne(Oe,we){if(!Oe)throw new Error("Iterable cannot be null");return new se.y(ee=>{(0,Ie.f)(ee,we,()=>{const ge=Oe[Symbol.asyncIterator]();(0,Ie.f)(ee,we,()=>{ge.next().then(re=>{re.done?ee.complete():ee.next(re.value)})},0,!0)})})}var $e=N(8382),Re=N(4026),Pe=N(4266),nt=N(3664),xe=N(5726),Le=N(9853),He=N(541);function Fe(Oe,we){return we?function le(Oe,we){if(null!=Oe){if((0,$e.c)(Oe))return function J(Oe,we){return(0,u.Xf)(Oe).pipe((0,Q.R)(we),(0,U.Q)(we))}(Oe,we);if((0,Pe.z)(Oe))return function pe(Oe,we){return new se.y(ee=>{let ge=0;return we.schedule(function(){ge===Oe.length?ee.complete():(ee.next(Oe[ge++]),ee.closed||this.schedule())})})}(Oe,we);if((0,Re.t)(Oe))return function Me(Oe,we){return(0,u.Xf)(Oe).pipe((0,Q.R)(we),(0,U.Q)(we))}(Oe,we);if((0,xe.D)(Oe))return Ne(Oe,we);if((0,nt.T)(Oe))return function ce(Oe,we){return new se.y(ee=>{let ge;return(0,Ie.f)(ee,we,()=>{ge=Oe[We.h](),(0,Ie.f)(ee,we,()=>{let re,ae;try{({value:re,done:ae}=ge.next())}catch(Ke){return void ee.error(Ke)}ae?ee.complete():ee.next(re)},0,!0)}),()=>(0,je.m)(null==ge?void 0:ge.return)&&ge.return()})}(Oe,we);if((0,He.L)(Oe))return function ht(Oe,we){return Ne((0,He.Q)(Oe),we)}(Oe,we)}throw(0,Le.z)(Oe)}(Oe,we):(0,u.Xf)(Oe)}},2438:(Wt,et,N)=>{"use strict";N.d(et,{R:()=>Ie});var u=N(4829),U=N(5592),Q=N(1631),J=N(4266),Me=N(4674),se=N(7400);const pe=["addListener","removeListener"],We=["addEventListener","removeEventListener"],je=["on","off"];function Ie(Pe,nt,xe,Le){if((0,Me.m)(xe)&&(Le=xe,xe=void 0),Le)return Ie(Pe,nt,xe).pipe((0,se.Z)(Le));const[He,ht]=function Re(Pe){return(0,Me.m)(Pe.addEventListener)&&(0,Me.m)(Pe.removeEventListener)}(Pe)?We.map(le=>Fe=>Pe[le](nt,Fe,xe)):function Ne(Pe){return(0,Me.m)(Pe.addListener)&&(0,Me.m)(Pe.removeListener)}(Pe)?pe.map(ce(Pe,nt)):function $e(Pe){return(0,Me.m)(Pe.on)&&(0,Me.m)(Pe.off)}(Pe)?je.map(ce(Pe,nt)):[];if(!He&&(0,J.z)(Pe))return(0,Q.z)(le=>Ie(le,nt,xe))((0,u.Xf)(Pe));if(!He)throw new TypeError("Invalid event target");return new U.y(le=>{const Fe=(...Oe)=>le.next(1<Oe.length?Oe:Oe[0]);return He(Fe),()=>ht(Fe)})}function ce(Pe,nt){return xe=>Le=>Pe[xe](nt,Le)}},4829:(Wt,et,N)=>{"use strict";N.d(et,{Xf:()=>$e});var u=N(7582),U=N(4266),Q=N(4026),J=N(5592),Me=N(8382),se=N(5726),pe=N(9853),We=N(3664),je=N(541),Ie=N(4674),ce=N(3894),Ne=N(4850);function $e(le){if(le instanceof J.y)return le;if(null!=le){if((0,Me.c)(le))return function Re(le){return new J.y(Fe=>{const Oe=le[Ne.L]();if((0,Ie.m)(Oe.subscribe))return Oe.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,U.z)(le))return function Pe(le){return new J.y(Fe=>{for(let Oe=0;Oe<le.length&&!Fe.closed;Oe++)Fe.next(le[Oe]);Fe.complete()})}(le);if((0,Q.t)(le))return function nt(le){return new J.y(Fe=>{le.then(Oe=>{Fe.closed||(Fe.next(Oe),Fe.complete())},Oe=>Fe.error(Oe)).then(null,ce.h)})}(le);if((0,se.D)(le))return Le(le);if((0,We.T)(le))return function xe(le){return new J.y(Fe=>{for(const Oe of le)if(Fe.next(Oe),Fe.closed)return;Fe.complete()})}(le);if((0,je.L)(le))return function He(le){return Le((0,je.Q)(le))}(le)}throw(0,pe.z)(le)}function Le(le){return new J.y(Fe=>{(function ht(le,Fe){var Oe,we,ee,ge;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,u.KL)(le);!(we=yield Oe.next()).done;)if(Fe.next(we.value),Fe.closed)return}catch(re){ee={error:re}}finally{try{we&&!we.done&&(ge=Oe.return)&&(yield ge.call(Oe))}finally{if(ee)throw ee.error}}Fe.complete()})})(le,Fe).catch(Oe=>Fe.error(Oe))})}},2096:(Wt,et,N)=>{"use strict";N.d(et,{of:()=>Q});var u=N(4564),U=N(2459);function Q(...J){const Me=(0,u.yG)(J);return(0,U.D)(J,Me)}},8251:(Wt,et,N)=>{"use strict";N.d(et,{x:()=>U});var u=N(305);function U(J,Me,se,pe,We){return new Q(J,Me,se,pe,We)}class Q extends u.Lv{constructor(Me,se,pe,We,je,Ie){super(Me),this.onFinalize=je,this.shouldUnsubscribe=Ie,this._next=se?function(ce){try{se(ce)}catch(Ne){Me.error(Ne)}}:super._next,this._error=We?function(ce){try{We(ce)}catch(Ne){Me.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(ce){Me.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},3572:(Wt,et,N)=>{"use strict";N.d(et,{d:()=>Q});var u=N(9360),U=N(8251);function Q(J){return(0,u.e)((Me,se)=>{let pe=!1;Me.subscribe((0,U.x)(se,We=>{pe=!0,se.next(We)},()=>{pe||se.next(J),se.complete()}))})}},3997:(Wt,et,N)=>{"use strict";N.d(et,{x:()=>J});var u=N(2737),U=N(9360),Q=N(8251);function J(se,pe=u.y){return se=null!=se?se:Me,(0,U.e)((We,je)=>{let Ie,ce=!0;We.subscribe((0,Q.x)(je,Ne=>{const $e=pe(Ne);(ce||!se(Ie,$e))&&(ce=!1,Ie=$e,je.next(Ne))}))})}function Me(se,pe){return se===pe}},2181:(Wt,et,N)=>{"use strict";N.d(et,{h:()=>Q});var u=N(9360),U=N(8251);function Q(J,Me){return(0,u.e)((se,pe)=>{let We=0;se.subscribe((0,U.x)(pe,je=>J.call(Me,je,We++)&&pe.next(je)))})}},1374:(Wt,et,N)=>{"use strict";N.d(et,{P:()=>pe});var u=N(6973),U=N(2181),Q=N(8180),J=N(3572),Me=N(3026),se=N(2737);function pe(We,je){const Ie=arguments.length>=2;return ce=>ce.pipe(We?(0,U.h)((Ne,$e)=>We(Ne,$e,ce)):se.y,(0,Q.q)(1),Ie?(0,J.d)(je):(0,Me.T)(()=>new u.K))}},7398:(Wt,et,N)=>{"use strict";N.d(et,{U:()=>Q});var u=N(9360),U=N(8251);function Q(J,Me){return(0,u.e)((se,pe)=>{let We=0;se.subscribe((0,U.x)(pe,je=>{pe.next(J.call(Me,je,We++))}))})}},7537:(Wt,et,N)=>{"use strict";N.d(et,{J:()=>Q});var u=N(1631),U=N(2737);function Q(J=1/0){return(0,u.z)(U.y,J)}},1631:(Wt,et,N)=>{"use strict";N.d(et,{z:()=>We});var u=N(7398),U=N(4829),Q=N(9360),J=N(7103),Me=N(8251),pe=N(4674);function We(je,Ie,ce=1/0){return(0,pe.m)(Ie)?We((Ne,$e)=>(0,u.U)((Re,Pe)=>Ie(Ne,Re,$e,Pe))((0,U.Xf)(je(Ne,$e))),ce):("number"==typeof Ie&&(ce=Ie),(0,Q.e)((Ne,$e)=>function se(je,Ie,ce,Ne,$e,Re,Pe,nt){const xe=[];let Le=0,He=0,ht=!1;const le=()=>{ht&&!xe.length&&!Le&&Ie.complete()},Fe=we=>Le<Ne?Oe(we):xe.push(we),Oe=we=>{Re&&Ie.next(we),Le++;let ee=!1;(0,U.Xf)(ce(we,He++)).subscribe((0,Me.x)(Ie,ge=>{null==$e||$e(ge),Re?Fe(ge):Ie.next(ge)},()=>{ee=!0},void 0,()=>{if(ee)try{for(Le--;xe.length&&Le<Ne;){const ge=xe.shift();Pe?(0,J.f)(Ie,Pe,()=>Oe(ge)):Oe(ge)}le()}catch(ge){Ie.error(ge)}}))};return je.subscribe((0,Me.x)(Ie,Fe,()=>{ht=!0,le()})),()=>{null==nt||nt()}}(Ne,$e,je,ce)))}},3093:(Wt,et,N)=>{"use strict";N.d(et,{Q:()=>J});var u=N(7103),U=N(9360),Q=N(8251);function J(Me,se=0){return(0,U.e)((pe,We)=>{pe.subscribe((0,Q.x)(We,je=>(0,u.f)(We,Me,()=>We.next(je),se),()=>(0,u.f)(We,Me,()=>We.complete(),se),je=>(0,u.f)(We,Me,()=>We.error(je),se)))})}},6699:(Wt,et,N)=>{"use strict";N.d(et,{R:()=>J});var u=N(9360),U=N(8251);function J(Me,se){return(0,u.e)(function Q(Me,se,pe,We,je){return(Ie,ce)=>{let Ne=pe,$e=se,Re=0;Ie.subscribe((0,U.x)(ce,Pe=>{const nt=Re++;$e=Ne?Me($e,Pe,nt):(Ne=!0,Pe),We&&ce.next($e)},je&&(()=>{Ne&&ce.next($e),ce.complete()})))}}(Me,se,arguments.length>=2,!0))}},7921:(Wt,et,N)=>{"use strict";N.d(et,{O:()=>J});var u=N(5211),U=N(4564),Q=N(9360);function J(...Me){const se=(0,U.yG)(Me);return(0,Q.e)((pe,We)=>{(se?(0,u.z)(Me,pe,se):(0,u.z)(Me,pe)).subscribe(We)})}},5137:(Wt,et,N)=>{"use strict";N.d(et,{R:()=>U});var u=N(9360);function U(Q,J=0){return(0,u.e)((Me,se)=>{se.add(Q.schedule(()=>Me.subscribe(se),J))})}},4664:(Wt,et,N)=>{"use strict";N.d(et,{w:()=>J});var u=N(4829),U=N(9360),Q=N(8251);function J(Me,se){return(0,U.e)((pe,We)=>{let je=null,Ie=0,ce=!1;const Ne=()=>ce&&!je&&We.complete();pe.subscribe((0,Q.x)(We,$e=>{null==je||je.unsubscribe();let Re=0;const Pe=Ie++;(0,u.Xf)(Me($e,Pe)).subscribe(je=(0,Q.x)(We,nt=>We.next(se?se($e,nt,Pe,Re++):nt),()=>{je=null,Ne()}))},()=>{ce=!0,Ne()}))})}},8180:(Wt,et,N)=>{"use strict";N.d(et,{q:()=>J});var u=N(6232),U=N(9360),Q=N(8251);function J(Me){return Me<=0?()=>u.E:(0,U.e)((se,pe)=>{let We=0;se.subscribe((0,Q.x)(pe,je=>{++We<=Me&&(pe.next(je),Me<=We&&pe.complete())}))})}},9397:(Wt,et,N)=>{"use strict";N.d(et,{b:()=>Me});var u=N(4674),U=N(9360),Q=N(8251),J=N(2737);function Me(se,pe,We){const je=(0,u.m)(se)||pe||We?{next:se,error:pe,complete:We}:se;return je?(0,U.e)((Ie,ce)=>{var Ne;null===(Ne=je.subscribe)||void 0===Ne||Ne.call(je);let $e=!0;Ie.subscribe((0,Q.x)(ce,Re=>{var Pe;null===(Pe=je.next)||void 0===Pe||Pe.call(je,Re),ce.next(Re)},()=>{var Re;$e=!1,null===(Re=je.complete)||void 0===Re||Re.call(je),ce.complete()},Re=>{var Pe;$e=!1,null===(Pe=je.error)||void 0===Pe||Pe.call(je,Re),ce.error(Re)},()=>{var Re,Pe;$e&&(null===(Re=je.unsubscribe)||void 0===Re||Re.call(je)),null===(Pe=je.finalize)||void 0===Pe||Pe.call(je)}))}):J.y}},3026:(Wt,et,N)=>{"use strict";N.d(et,{T:()=>J});var u=N(6973),U=N(9360),Q=N(8251);function J(se=Me){return(0,U.e)((pe,We)=>{let je=!1;pe.subscribe((0,Q.x)(We,Ie=>{je=!0,We.next(Ie)},()=>je?We.complete():We.error(se())))})}function Me(){return new u.K}},1954:(Wt,et,N)=>{"use strict";N.d(et,{o:()=>Me});var u=N(7394);class U extends u.w0{constructor(pe,We){super()}schedule(pe,We=0){return this}}const Q={setInterval(se,pe,...We){const{delegate:je}=Q;return null!=je&&je.setInterval?je.setInterval(se,pe,...We):setInterval(se,pe,...We)},clearInterval(se){const{delegate:pe}=Q;return((null==pe?void 0:pe.clearInterval)||clearInterval)(se)},delegate:void 0};var J=N(9039);class Me extends U{constructor(pe,We){super(pe,We),this.scheduler=pe,this.work=We,this.pending=!1}schedule(pe,We=0){var je;if(this.closed)return this;this.state=pe;const Ie=this.id,ce=this.scheduler;return null!=Ie&&(this.id=this.recycleAsyncId(ce,Ie,We)),this.pending=!0,this.delay=We,this.id=null!==(je=this.id)&&void 0!==je?je:this.requestAsyncId(ce,this.id,We),this}requestAsyncId(pe,We,je=0){return Q.setInterval(pe.flush.bind(pe,this),je)}recycleAsyncId(pe,We,je=0){if(null!=je&&this.delay===je&&!1===this.pending)return We;null!=We&&Q.clearInterval(We)}execute(pe,We){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const je=this._execute(pe,We);if(je)return je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,We){let Ie,je=!1;try{this.work(pe)}catch(ce){je=!0,Ie=ce||new Error("Scheduled action threw falsy error")}if(je)return this.unsubscribe(),Ie}unsubscribe(){if(!this.closed){const{id:pe,scheduler:We}=this,{actions:je}=We;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(je,this),null!=pe&&(this.id=this.recycleAsyncId(We,pe,null)),this.delay=null,super.unsubscribe()}}}},2631:(Wt,et,N)=>{"use strict";N.d(et,{v:()=>Q});var u=N(4552);class U{constructor(Me,se=U.now){this.schedulerActionCtor=Me,this.now=se}schedule(Me,se=0,pe){return new this.schedulerActionCtor(this,Me).schedule(pe,se)}}U.now=u.l.now;class Q extends U{constructor(Me,se=U.now){super(Me,se),this.actions=[],this._active=!1}flush(Me){const{actions:se}=this;if(this._active)return void se.push(Me);let pe;this._active=!0;do{if(pe=Me.execute(Me.state,Me.delay))break}while(Me=se.shift());if(this._active=!1,pe){for(;Me=se.shift();)Me.unsubscribe();throw pe}}}},6321:(Wt,et,N)=>{"use strict";N.d(et,{z:()=>Q});var u=N(1954);const Q=new(N(2631).v)(u.o)},4552:(Wt,et,N)=>{"use strict";N.d(et,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},7599:(Wt,et,N)=>{"use strict";N.d(et,{z:()=>u});const u={setTimeout(U,Q,...J){const{delegate:Me}=u;return null!=Me&&Me.setTimeout?Me.setTimeout(U,Q,...J):setTimeout(U,Q,...J)},clearTimeout(U){const{delegate:Q}=u;return((null==Q?void 0:Q.clearTimeout)||clearTimeout)(U)},delegate:void 0}},4971:(Wt,et,N)=>{"use strict";N.d(et,{h:()=>U});const U=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Wt,et,N)=>{"use strict";N.d(et,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Wt,et,N)=>{"use strict";N.d(et,{K:()=>U});const U=(0,N(2306).d)(Q=>function(){Q(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Wt,et,N)=>{"use strict";N.d(et,{_6:()=>se,jO:()=>J,yG:()=>Me});var u=N(4674);function Q(pe){return pe[pe.length-1]}function J(pe){return(0,u.m)(Q(pe))?pe.pop():void 0}function Me(pe){return function U(pe){return pe&&(0,u.m)(pe.schedule)}(Q(pe))?pe.pop():void 0}function se(pe,We){return"number"==typeof Q(pe)?pe.pop():We}},7453:(Wt,et,N)=>{"use strict";N.d(et,{D:()=>Me});const{isArray:u}=Array,{getPrototypeOf:U,prototype:Q,keys:J}=Object;function Me(pe){if(1===pe.length){const We=pe[0];if(u(We))return{args:We,keys:null};if(function se(pe){return pe&&"object"==typeof pe&&U(pe)===Q}(We)){const je=J(We);return{args:je.map(Ie=>We[Ie]),keys:je}}}return{args:pe,keys:null}}},9039:(Wt,et,N)=>{"use strict";function u(U,Q){if(U){const J=U.indexOf(Q);0<=J&&U.splice(J,1)}}N.d(et,{P:()=>u})},2306:(Wt,et,N)=>{"use strict";function u(U){const J=U(Me=>{Error.call(Me),Me.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}N.d(et,{d:()=>u})},2714:(Wt,et,N)=>{"use strict";function u(U,Q){return U.reduce((J,Me,se)=>(J[Me]=Q[se],J),{})}N.d(et,{n:()=>u})},1441:(Wt,et,N)=>{"use strict";N.d(et,{O:()=>J,x:()=>Q});var u=N(2653);let U=null;function Q(Me){if(u.config.useDeprecatedSynchronousErrorHandling){const se=!U;if(se&&(U={errorThrown:!1,error:null}),Me(),se){const{errorThrown:pe,error:We}=U;if(U=null,pe)throw We}}else Me()}function J(Me){u.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=Me)}},7103:(Wt,et,N)=>{"use strict";function u(U,Q,J,Me=0,se=!1){const pe=Q.schedule(function(){J(),se?U.add(this.schedule(null,Me)):this.unsubscribe()},Me);if(U.add(pe),!se)return pe}N.d(et,{f:()=>u})},2737:(Wt,et,N)=>{"use strict";function u(U){return U}N.d(et,{y:()=>u})},4266:(Wt,et,N)=>{"use strict";N.d(et,{z:()=>u});const u=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(Wt,et,N)=>{"use strict";N.d(et,{D:()=>U});var u=N(4674);function U(Q){return Symbol.asyncIterator&&(0,u.m)(null==Q?void 0:Q[Symbol.asyncIterator])}},4674:(Wt,et,N)=>{"use strict";function u(U){return"function"==typeof U}N.d(et,{m:()=>u})},8382:(Wt,et,N)=>{"use strict";N.d(et,{c:()=>Q});var u=N(4850),U=N(4674);function Q(J){return(0,U.m)(J[u.L])}},3664:(Wt,et,N)=>{"use strict";N.d(et,{T:()=>Q});var u=N(4971),U=N(4674);function Q(J){return(0,U.m)(null==J?void 0:J[u.h])}},4026:(Wt,et,N)=>{"use strict";N.d(et,{t:()=>U});var u=N(4674);function U(Q){return(0,u.m)(null==Q?void 0:Q.then)}},541:(Wt,et,N)=>{"use strict";N.d(et,{L:()=>J,Q:()=>Q});var u=N(7582),U=N(4674);function Q(Me){return(0,u.FC)(this,arguments,function*(){const pe=Me.getReader();try{for(;;){const{value:We,done:je}=yield(0,u.qq)(pe.read());if(je)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(We)}}finally{pe.releaseLock()}})}function J(Me){return(0,U.m)(null==Me?void 0:Me.getReader)}},9360:(Wt,et,N)=>{"use strict";N.d(et,{A:()=>U,e:()=>Q});var u=N(4674);function U(J){return(0,u.m)(null==J?void 0:J.lift)}function Q(J){return Me=>{if(U(Me))return Me.lift(function(se){try{return J(se,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Wt,et,N)=>{"use strict";N.d(et,{Z:()=>J});var u=N(7398);const{isArray:U}=Array;function J(Me){return(0,u.U)(se=>function Q(Me,se){return U(se)?Me(...se):Me(se)}(Me,se))}},2420:(Wt,et,N)=>{"use strict";function u(){}N.d(et,{Z:()=>u})},8407:(Wt,et,N)=>{"use strict";N.d(et,{U:()=>Q,z:()=>U});var u=N(2737);function U(...J){return Q(J)}function Q(J){return 0===J.length?u.y:1===J.length?J[0]:function(se){return J.reduce((pe,We)=>We(pe),se)}}},3894:(Wt,et,N)=>{"use strict";N.d(et,{h:()=>Q});var u=N(2653),U=N(7599);function Q(J){U.z.setTimeout(()=>{const{onUnhandledError:Me}=u.config;if(!Me)throw J;Me(J)})}},9853:(Wt,et,N)=>{"use strict";function u(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(et,{z:()=>u})},863:(Wt,et,N)=>{var u={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,5248,433],"./ion-datetime_3.entry.js":[7059,5248,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function U(Q){if(!N.o(u,Q))return Promise.resolve().then(()=>{var se=new Error("Cannot find module '"+Q+"'");throw se.code="MODULE_NOT_FOUND",se});var J=u[Q],Me=J[0];return Promise.all(J.slice(1).map(N.e)).then(()=>N(Me))}U.keys=()=>Object.keys(u),U.id=863,Wt.exports=U},6814:(Wt,et,N)=>{"use strict";N.d(et,{Do:()=>nt,EM:()=>es,HT:()=>J,JF:()=>Uo,K0:()=>se,Mx:()=>_i,O5:()=>z,PM:()=>js,S$:()=>$e,V_:()=>We,Ye:()=>xe,b0:()=>Pe,bD:()=>Jo,ez:()=>Mo,q:()=>Q,tP:()=>gt,w_:()=>Me});var u=N(9212);let U=null;function Q(){return U}function J(T){U||(U=T)}class Me{}const se=new u.OlP("DocumentToken");let pe=(()=>{var T;class k{historyGo(O){throw new Error("Not implemented")}}return(T=k).\u0275fac=function(O){return new(O||T)},T.\u0275prov=u.Yz7({token:T,factory:()=>(0,u.f3M)(je),providedIn:"platform"}),k})();const We=new u.OlP("Location Initialized");let je=(()=>{var T;class k extends pe{constructor(){super(),this._doc=(0,u.f3M)(se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(O){const ie=Q().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",O,!1),()=>ie.removeEventListener("popstate",O)}onHashChange(O){const ie=Q().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",O,!1),()=>ie.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,ie,ke){this._history.pushState(O,ie,ke)}replaceState(O,ie,ke){this._history.replaceState(O,ie,ke)}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return(T=k).\u0275fac=function(O){return new(O||T)},T.\u0275prov=u.Yz7({token:T,factory:()=>new T,providedIn:"platform"}),k})();function Ie(T,k){if(0==T.length)return k;if(0==k.length)return T;let Ce=0;return T.endsWith("/")&&Ce++,k.startsWith("/")&&Ce++,2==Ce?T+k.substring(1):1==Ce?T+k:T+"/"+k}function ce(T){const k=T.match(/#|\?|$/),Ce=k&&k.index||T.length;return T.slice(0,Ce-("/"===T[Ce-1]?1:0))+T.slice(Ce)}function Ne(T){return T&&"?"!==T[0]?"?"+T:T}let $e=(()=>{var T;class k{historyGo(O){throw new Error("Not implemented")}}return(T=k).\u0275fac=function(O){return new(O||T)},T.\u0275prov=u.Yz7({token:T,factory:()=>(0,u.f3M)(Pe),providedIn:"root"}),k})();const Re=new u.OlP("appBaseHref");let Pe=(()=>{var T;class k extends $e{constructor(O,ie){var ke,Ct,jt;super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=null!==(ke=null!==(Ct=null!=ie?ie:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Ct?Ct:null===(jt=(0,u.f3M)(se).location)||void 0===jt?void 0:jt.origin)&&void 0!==ke?ke:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return Ie(this._baseHref,O)}path(O=!1){const ie=this._platformLocation.pathname+Ne(this._platformLocation.search),ke=this._platformLocation.hash;return ke&&O?`${ie}${ke}`:ie}pushState(O,ie,ke,Ct){const jt=this.prepareExternalUrl(ke+Ne(Ct));this._platformLocation.pushState(O,ie,jt)}replaceState(O,ie,ke,Ct){const jt=this.prepareExternalUrl(ke+Ne(Ct));this._platformLocation.replaceState(O,ie,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){var ie,ke;null===(ie=(ke=this._platformLocation).historyGo)||void 0===ie||ie.call(ke,O)}}return(T=k).\u0275fac=function(O){return new(O||T)(u.LFG(pe),u.LFG(Re,8))},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),k})(),nt=(()=>{var T;class k extends $e{constructor(O,ie){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let ie=this._platformLocation.hash;return null==ie&&(ie="#"),ie.length>0?ie.substring(1):ie}prepareExternalUrl(O){const ie=Ie(this._baseHref,O);return ie.length>0?"#"+ie:ie}pushState(O,ie,ke,Ct){let jt=this.prepareExternalUrl(ke+Ne(Ct));0==jt.length&&(jt=this._platformLocation.pathname),this._platformLocation.pushState(O,ie,jt)}replaceState(O,ie,ke,Ct){let jt=this.prepareExternalUrl(ke+Ne(Ct));0==jt.length&&(jt=this._platformLocation.pathname),this._platformLocation.replaceState(O,ie,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){var ie,ke;null===(ie=(ke=this._platformLocation).historyGo)||void 0===ie||ie.call(ke,O)}}return(T=k).\u0275fac=function(O){return new(O||T)(u.LFG(pe),u.LFG(Re,8))},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac}),k})(),xe=(()=>{var T;class k{constructor(O){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const ie=this._locationStrategy.getBaseHref();this._basePath=function le(T){if(new RegExp("^(https?:)?//").test(T)){const[,Ce]=T.split(/\/\/[^\/]+/);return Ce}return T}(ce(ht(ie))),this._locationStrategy.onPopState(ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:ke.state,type:ke.type})})}ngOnDestroy(){var O;null===(O=this._urlChangeSubscription)||void 0===O||O.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,ie=""){return this.path()==this.normalize(O+Ne(ie))}normalize(O){return k.stripTrailingSlash(function He(T,k){if(!T||!k.startsWith(T))return k;const Ce=k.substring(T.length);return""===Ce||["/",";","?","#"].includes(Ce[0])?Ce:k}(this._basePath,ht(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,ie="",ke=null){this._locationStrategy.pushState(ke,"",O,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Ne(ie)),ke)}replaceState(O,ie="",ke=null){this._locationStrategy.replaceState(ke,"",O,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Ne(ie)),ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){var ie,ke;null===(ie=(ke=this._locationStrategy).historyGo)||void 0===ie||ie.call(ke,O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ie=>{this._notifyUrlChangeListeners(ie.url,ie.state)})),()=>{const ie=this._urlChangeListeners.indexOf(O);var ke;this._urlChangeListeners.splice(ie,1),0===this._urlChangeListeners.length&&(null===(ke=this._urlChangeSubscription)||void 0===ke||ke.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",ie){this._urlChangeListeners.forEach(ke=>ke(O,ie))}subscribe(O,ie,ke){return this._subject.subscribe({next:O,error:ie,complete:ke})}}return(T=k).normalizeQueryParams=Ne,T.joinWithSlash=Ie,T.stripTrailingSlash=ce,T.\u0275fac=function(O){return new(O||T)(u.LFG($e))},T.\u0275prov=u.Yz7({token:T,factory:()=>function Le(){return new xe((0,u.LFG)($e))}(),providedIn:"root"}),k})();function ht(T){return T.replace(/\/index.html$/,"")}function _i(T,k){k=encodeURIComponent(k);for(const Ce of T.split(";")){const O=Ce.indexOf("="),[ie,ke]=-1==O?[Ce,""]:[Ce.slice(0,O),Ce.slice(O+1)];if(ie.trim()===k)return decodeURIComponent(ke)}return null}let z=(()=>{var T;class k{constructor(O,ie){this._viewContainer=O,this._context=new ye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){ze("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){ze("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,ie){return!0}}return(T=k).\u0275fac=function(O){return new(O||T)(u.Y36(u.s_b),u.Y36(u.Rgc))},T.\u0275dir=u.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class ye{constructor(){this.$implicit=null,this.ngIf=null}}function ze(T,k){if(k&&!k.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,u.AaK)(k)}'.`)}let gt=(()=>{var T;class k{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(this._shouldRecreateView(O)){var ie;const ke=this._viewContainerRef;if(this._viewRef&&ke.remove(ke.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ct=this._createContextForwardProxy();this._viewRef=ke.createEmbeddedView(this.ngTemplateOutlet,Ct,{injector:null!==(ie=this.ngTemplateOutletInjector)&&void 0!==ie?ie:void 0})}}_shouldRecreateView(O){return!!O.ngTemplateOutlet||!!O.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(O,ie,ke)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ie,ke),get:(O,ie,ke)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ie,ke)}})}}return(T=k).\u0275fac=function(O){return new(O||T)(u.Y36(u.s_b))},T.\u0275dir=u.lG2({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),k})(),Mo=(()=>{var T;class k{}return(T=k).\u0275fac=function(O){return new(O||T)},T.\u0275mod=u.oAB({type:T}),T.\u0275inj=u.cJS({}),k})();const Jo="browser",Ui="server";function js(T){return T===Ui}let es=(()=>{var T;class k{}return(T=k).\u0275prov=(0,u.Yz7)({token:T,providedIn:"root",factory:()=>new hs((0,u.LFG)(se),window)}),k})();class hs{constructor(k,Ce){this.document=k,this.window=Ce,this.offset=()=>[0,0]}setOffset(k){this.offset=Array.isArray(k)?()=>k:k}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(k){this.supportsScrolling()&&this.window.scrollTo(k[0],k[1])}scrollToAnchor(k){if(!this.supportsScrolling())return;const Ce=function Cl(T,k){const Ce=T.getElementById(k)||T.getElementsByName(k)[0];if(Ce)return Ce;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const O=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let ie=O.currentNode;for(;ie;){const ke=ie.shadowRoot;if(ke){const Ct=ke.getElementById(k)||ke.querySelector(`[name="${k}"]`);if(Ct)return Ct}ie=O.nextNode()}}return null}(this.document,k);Ce&&(this.scrollToElement(Ce),Ce.focus())}setHistoryScrollRestoration(k){this.supportsScrolling()&&(this.window.history.scrollRestoration=k)}scrollToElement(k){const Ce=k.getBoundingClientRect(),O=Ce.left+this.window.pageXOffset,ie=Ce.top+this.window.pageYOffset,ke=this.offset();this.window.scrollTo(O-ke[0],ie-ke[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Uo{}},9212:(Wt,et,N)=>{"use strict";N.d(et,{tb:()=>eD,AFp:()=>Gl,ip1:()=>Fw,hGG:()=>zR,z2F:()=>bg,Ojb:()=>ph,sBO:()=>Jp,Sil:()=>QS,EJc:()=>xR,Xts:()=>_a,SBq:()=>cc,lqb:()=>ta,qLn:()=>Au,vpe:()=>Bs,XFs:()=>Bn,OlP:()=>ze,zs3:()=>Ji,ZZ4:()=>xm,aQg:()=>qh,soG:()=>cI,YKP:()=>UT,h0i:()=>Of,R0b:()=>Ao,FiY:()=>La,Lbi:()=>hh,g9A:()=>Jc,Qsj:()=>bm,FYo:()=>tu,JOm:()=>ql,tp0:()=>Vl,Rgc:()=>Ov,dDg:()=>DR,eoX:()=>kw,q4F:()=>KS,GfV:()=>Aw,s_b:()=>yv,ifc:()=>ao,T8G:()=>Q_,VuI:()=>gM,LMc:()=>vM,MMx:()=>HT,Lck:()=>UA,eFA:()=>Gw,G48:()=>VR,Gpc:()=>cr,f3M:()=>X,X6Q:()=>LR,$WT:()=>Ti,_c5:()=>HR,qFp:()=>_M,r_H:()=>np,rg0:()=>Sm,c2e:()=>Sw,zSh:()=>Wc,wAp:()=>Dg,I6F:()=>ZE,vHH:()=>Bt,lri:()=>Ow,rWj:()=>Nw,cg1:()=>bE,kuF:()=>gr,kL8:()=>RC,dqk:()=>me,Z0I:()=>Cn,eJc:()=>ya,QGY:()=>RE,F4k:()=>nT,RDi:()=>Fr,AaK:()=>fn,qOj:()=>Pu,Xq5:()=>iv,TTD:()=>er,_Bn:()=>BT,jDz:()=>zT,xp6:()=>M_,uIk:()=>oy,ekj:()=>hg,Suo:()=>aw,Xpm:()=>uo,lG2:()=>Hi,Yz7:()=>Xe,cJS:()=>on,oAB:()=>zr,Yjl:()=>Aa,Y36:()=>md,_UZ:()=>DE,GkF:()=>wE,qZA:()=>Jy,TgZ:()=>Xy,n5z:()=>Ls,LFG:()=>Z,$8M:()=>Oa,$Z:()=>Gp,NdJ:()=>ME,CRH:()=>lw,oxw:()=>aT,Hsn:()=>uT,F$t:()=>lT,Q6J:()=>cv,iGM:()=>ow,P3R:()=>sd,YNc:()=>Af,_uU:()=>ST,Gf:()=>sw});let U=null,J=1;function se(t){const n=U;return U=t,n}function $e(t){if((!Oe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==J)){if(!t.producerMustRecompute(t)&&!He(t))return t.dirty=!1,void(t.lastCleanEpoch=J);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=J}}function He(t){we(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==o.version||($e(o),a!==o.version))return!0}return!1}function Fe(t,n){if(function ee(t){var n,o;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),we(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Fe(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];we(c),c.producerIndexOfThis[a]=n}}function Oe(t){var n,o;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0}function we(t){var n,o,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let At=null;var pt=N(8645),at=N(7394),it=N(5619),It=N(7398);function $t(t){for(let n in t)if(t[n]===$t)return n;throw Error("Could not find renamed property on target object.")}function mn(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function fn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(fn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function nn(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const vn=$t({__forward_ref__:$t});function cr(t){return t.__forward_ref__=cr,t.toString=function(){return fn(this())},t}function Ut(t){return En(t)?t():t}function En(t){return"function"==typeof t&&t.hasOwnProperty(vn)&&t.__forward_ref__===cr}function _n(t){return t&&!!t.\u0275providers}const nr="https://g.co/ng/security#xss";class Bt extends Error{constructor(n,o){super(gr(n,o)),this.code=n}}function gr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}const bn=$t({\u0275cmp:$t}),Br=$t({\u0275dir:$t}),Xn=$t({\u0275pipe:$t}),wr=$t({\u0275mod:$t}),On=$t({\u0275fac:$t}),lr=$t({__NG_ELEMENT_ID__:$t}),Wr=$t({__NG_ENV_ID__:$t});function An(t){return"string"==typeof t?t:null==t?"":String(t)}function Kr(t,n){throw new Bt(-201,!1)}function Xt(t,n){null==t&&function qt(t,n,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Xe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function on(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sn(t){return $n(t,Cr)||$n(t,Ci)}function Cn(t){return null!==Sn(t)}function $n(t,n){return t.hasOwnProperty(n)?t[n]:null}function rr(t){return t&&(t.hasOwnProperty(_i)||t.hasOwnProperty(br))?t[_i]:null}const Cr=$t({\u0275prov:$t}),_i=$t({\u0275inj:$t}),Ci=$t({ngInjectableDef:$t}),br=$t({ngInjectorDef:$t});var Bn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Bn||{});let ui;function Ar(){return ui}function kn(t){const n=ui;return ui=t,n}function pr(t,n,o){const a=Sn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Bn.Optional?null:void 0!==n?n:void Kr(fn(t))}const me=globalThis;class ze{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Xe({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Je={},St="__NG_DI_FLAG__",Nt="ngTempTokenPath",Pt=/\n/gm,pn="__source";let dn;function Ir(t){const n=dn;return dn=t,n}function C(t,n=Bn.Default){if(void 0===dn)throw new Bt(-203,!1);return null===dn?pr(t,void 0,n):dn.get(t,n&Bn.Optional?null:void 0,n)}function Z(t,n=Bn.Default){return(Ar()||C)(Ut(t),n)}function X(t,n=Bn.Default){return Z(t,Qe(n))}function Qe(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Un(t){const n=[];for(let o=0;o<t.length;o++){const a=Ut(t[o]);if(Array.isArray(a)){if(0===a.length)throw new Bt(900,!1);let c,h=Bn.Default;for(let m=0;m<a.length;m++){const y=a[m],D=Hr(y);"number"==typeof D?-1===D?c=y.token:h|=D:c=y}n.push(Z(c,h))}else n.push(Z(a))}return n}function Zr(t,n){return t[St]=n,t.prototype[St]=n,t}function Hr(t){return t[St]}function Eo(t){return{toString:t}.toString()}var no=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(no||{}),ao=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ao||{});const Mi={},ir=[];function ro(t,n,o){let a=t.length;for(;;){const c=t.indexOf(n,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}o=c+1}}function Ro(t,n,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],m=o[a++],y=o[a++];t.setAttribute(n,m,y,h)}else{const h=c,m=o[++a];ua(h)?t.setProperty(n,h,m):t.setAttribute(n,h,m),a++}}return a}function la(t){return 3===t||4===t||6===t}function ua(t){return 64===t.charCodeAt(0)}function Mo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?o=c:0===o||Jo(t,o,c,null,-1===o||2===o?n[++a]:null)}}return t}function Jo(t,n,o,a,c){let h=0,m=t.length;if(-1===n)m=-1;else for(;h<t.length;){const y=t[h++];if("number"==typeof y){if(y===n){m=-1;break}if(y>n){m=h-1;break}}}for(;h<t.length;){const y=t[h];if("number"==typeof y)break;if(y===o){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(t.splice(m,0,n),h=m+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}const Ui="ng-template";function Bo(t,n,o){let a=0,c=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&c){const m=t[a++];if(o&&"class"===h&&-1!==ro(m.toLowerCase(),n,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function lo(t){return 4===t.type&&t.value!==Ui}function Yi(t,n,o){return n===(4!==t.type||o?t.value:Ui)}function js(t,n,o){let a=4;const c=t.attrs||[],h=function hs(t){for(let n=0;n<t.length;n++)if(la(t[n]))return n;return t.length}(c);let m=!1;for(let y=0;y<n.length;y++){const D=n[y];if("number"!=typeof D){if(!m)if(4&a){if(a=2|1&a,""!==D&&!Yi(t,D,o)||""===D&&1===n.length){if(ji(a))return!1;m=!0}}else{const x=8&a?D:n[++y];if(8&a&&null!==t.attrs){if(!Bo(t.attrs,x,o)){if(ji(a))return!1;m=!0}continue}const q=Qr(8&a?"class":D,c,lo(t),o);if(-1===q){if(ji(a))return!1;m=!0;continue}if(""!==x){let Te;Te=q>h?"":c[q+1].toLowerCase();const Ge=8&a?Te:null;if(Ge&&-1!==ro(Ge,x,0)||2&a&&x!==Te){if(ji(a))return!1;m=!0}}}}else{if(!m&&!ji(a)&&!ji(D))return!1;if(m&&ji(D))continue;m=!1,a=D|1&a}}return ji(a)||m}function ji(t){return 0==(1&t)}function Qr(t,n,o,a){if(null===n)return-1;let c=0;if(a||!o){let h=!1;for(;c<n.length;){const m=n[c];if(m===t)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=n[++c];for(;"string"==typeof y;)y=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function Cl(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,t)}function bs(t,n,o=!1){for(let a=0;a<n.length;a++)if(js(t,n[a],o))return!0;return!1}function Tl(t,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Uo(t,n){return t?":not("+n.trim()+")":n}function Hs(t){let n=t[0],o=1,a=2,c="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const y=t[++o];c+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!ji(m)&&(n+=Uo(h,c),c=""),a=m,h=h||!ji(a);o++}return""!==c&&(n+=Uo(h,c)),n}function uo(t){return Eo(()=>{var n;const o=ts(t),a={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===no.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||ao.Emulated,styles:t.styles||ir,_:null,schemas:t.schemas||null,tView:null,id:""};ns(a);const c=t.dependencies;return a.directiveDefs=rs(c,!1),a.pipeDefs=rs(c,!0),a.id=function co(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(a),a})}function fs(t){return or(t)||ii(t)}function As(t){return null!==t}function zr(t){return Eo(()=>({type:t.type,bootstrap:t.bootstrap||ir,declarations:t.declarations||ir,imports:t.imports||ir,exports:t.exports||ir,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jo(t,n){if(null==t)return Mi;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=a,n&&(n[c]=h)}return o}function Hi(t){return Eo(()=>{const n=ts(t);return ns(n),n})}function Aa(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function or(t){return t[bn]||null}function ii(t){return t[Br]||null}function Pi(t){return t[Xn]||null}function Ti(t){const n=or(t)||ii(t)||Pi(t);return null!==n&&n.standalone}function xi(t,n){const o=t[wr]||null;if(!o&&!0===n)throw new Error(`Type ${fn(t)} does not have '\u0275mod' property.`);return o}function ts(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Mi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ir,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jo(t.inputs,n),outputs:jo(t.outputs),debugInfo:null}}function ns(t){var n;null===(n=t.features)||void 0===n||n.forEach(o=>o(t))}function rs(t,n){if(!t)return null;const o=n?Pi:fs;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(As)}const Vr=0,Yt=1,Nn=2,Or=3,zi=4,yi=5,Do=6,ps=7,jn=8,Ii=9,V=10,A=11,ne=12,$=13,_e=14,Rt=15,Rn=16,Nr=17,ti=18,Gi=19,ho=20,oi=21,gs=22,Ho=23,zn=25,Ss=1,Co=7,zo=9,si=10;var To=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(To||{});function Ki(t){return Array.isArray(t)&&"object"==typeof t[Ss]}function ci(t){return Array.isArray(t)&&!0===t[Ss]}function ca(t){return 0!=(4&t.flags)}function is(t){return t.componentOffset>-1}function Ka(t){return 1==(1&t.flags)}function fo(t){return!!t.template}function Ra(t){return 0!=(512&t[Nn])}function Gn(t,n){return t.hasOwnProperty(On)?t[On]:null}class dr{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function er(){return Hn}function Hn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Er),Yn}function Yn(){const t=go(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===Mi)t.previous=n;else for(let a in n)o[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Er(t,n,o,a){const c=this.declaredInputs[o],h=go(t)||function mo(t,n){return t[di]=n}(t,{previous:Mi,current:null}),m=h.current||(h.current={}),y=h.previous,D=y[c];m[c]=new dr(D&&D.currentValue,n,y===Mi),t[a]=n}er.ngInherit=!0;const di="__ngSimpleChanges__";function go(t){return t[di]||null}const Fi=function(t,n,o){};let fa=!1;function hi(t){for(;Array.isArray(t);)t=t[Vr];return t}function Po(t,n){return hi(n[t.index])}function Rl(t,n){return t.data[n]}function fi(t,n){const o=n[t];return Ki(o)?o:o[Vr]}function Is(t){return 128==(128&t[Nn])}function Ft(t,n){return null==n?null:t[n]}function wi(t){t[Nr]=0}function xo(t){1024&t[Nn]||(t[Nn]|=1024,Is(t)&&Xa(t))}function yn(t){var n;return 9216&t[Nn]||(null===(n=t[Ho])||void 0===n?void 0:n.dirty)}function Tn(t){if(yn(t))Xa(t);else if(64&t[Nn])if(function zd(){return fa}())t[Nn]|=1024,Xa(t);else{var n;null===(n=t[V].changeDetectionScheduler)||void 0===n||n.notify()}}function Xa(t){var n;null===(n=t[V].changeDetectionScheduler)||void 0===n||n.notify();let o=t[Or];for(;null!==o&&!(ci(o)&&o[Nn]&To.HasChildViewsToRefresh||Ki(o)&&8192&o[Nn]);){if(ci(o))o[Nn]|=To.HasChildViewsToRefresh;else if(o[Nn]|=8192,!Is(o))break;o=o[Or]}}function sn(t,n){if(256==(256&t[Nn]))throw new Bt(911,!1);null===t[oi]&&(t[oi]=[]),t[oi].push(n)}const dt={lFrame:Ot(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xs(){return dt.bindingsEnabled}function pa(){return null!==dt.skipHydrationRootTNode}function ut(){return dt.lFrame.lView}function vr(){return dt.lFrame.tView}function rn(){let t=Ja();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ja(){return dt.lFrame.currentTNode}function Go(t,n){const o=dt.lFrame;o.currentTNode=t,o.isParent=n}function Xr(){return dt.lFrame.isParent}function an(){dt.lFrame.isParent=!1}function _o(){return dt.lFrame.bindingIndex++}function Yd(t,n){const o=dt.lFrame;o.bindingIndex=o.bindingRootIndex=t,E(n)}function E(t){dt.lFrame.currentDirectiveIndex=t}function S(){return dt.lFrame.currentQueryIndex}function _(t){dt.lFrame.currentQueryIndex=t}function P(t){const n=t[Yt];return 2===n.type?n.declTNode:1===n.type?t[yi]:null}function W(t,n,o){if(o&Bn.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||o&Bn.Host||(c=P(h),null===c||(h=h[_e],10&c.type))););if(null===c)return!1;n=c,t=h}const a=dt.lFrame=st();return a.currentTNode=n,a.lView=t,!0}function fe(t){const n=st(),o=t[Yt];dt.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function st(){const t=dt.lFrame,n=null===t?null:t.child;return null===n?Ot(t):n}function Ot(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ft(){const t=dt.lFrame;return dt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ln=ft;function Kn(){const t=ft();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tr(){return dt.lFrame.selectedIndex}function Ei(t){dt.lFrame.selectedIndex=t}function sr(){const t=dt.lFrame;return Rl(t.tView,t.selectedIndex)}let Ks=!0;function Es(){return Ks}function Zs(t){Ks=t}function Pl(t,n){for(let x=n.directiveStart,j=n.directiveEnd;x<j;x++){const Te=t.data[x].type.prototype,{ngAfterContentInit:Ge,ngAfterContentChecked:vt,ngAfterViewInit:Lt,ngAfterViewChecked:Kt,ngOnDestroy:gn}=Te;var o,a,c,h,m,y,D;Ge&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-x,Ge),vt&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(x,vt),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(x,vt)),Lt&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-x,Lt),Kt&&((null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(x,Kt),(null!==(y=t.viewCheckHooks)&&void 0!==y?y:t.viewCheckHooks=[]).push(x,Kt)),null!=gn&&(null!==(D=t.destroyHooks)&&void 0!==D?D:t.destroyHooks=[]).push(x,gn)}}function xl(t,n,o){xc(t,n,3,o)}function uu(t,n,o,a){(3&t[Nn])===o&&xc(t,n,o,a)}function Kd(t,n){let o=t[Nn];(3&o)===n&&(o&=16383,o+=1,t[Nn]=o)}function xc(t,n,o,a){const h=null!=a?a:-1,m=n.length-1;let y=0;for(let D=void 0!==a?65535&t[Nr]:0;D<m;D++)if("number"==typeof n[D+1]){if(y=n[D],null!=a&&y>=a)break}else n[D]<0&&(t[Nr]+=65536),(y<h||-1==h)&&(Ol(t,o,n,D),t[Nr]=(4294901760&t[Nr])+D+2),D++}function cu(t,n){Fi(4,t,n);const o=se(null);try{n.call(t)}finally{se(o),Fi(5,t,n)}}function Ol(t,n,o,a){const c=o[a]<0,h=o[a+1],y=t[c?-o[a]:o[a]];c?t[Nn]>>14<t[Nr]>>16&&(3&t[Nn])===n&&(t[Nn]+=16384,cu(y,h)):cu(y,h)}const nl=-1;class Lu{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Oc(t){return t!==nl}function Nl(t){return 32767&t}function rl(t,n){let o=function Vf(t){return t>>16}(t),a=n;for(;o>0;)a=a[_e],o--;return a}let Vu=!0;function du(t){const n=Vu;return Vu=t,n}const Xd=255,Pa=5;let Nc=0;const Rr={};function Qi(t,n){const o=kc(t,n);if(-1!==o)return o;const a=n[Yt];a.firstCreatePass&&(t.injectorIndex=n.length,Gr(a.data,t),Gr(n,null),Gr(a.blueprint,null));const c=ga(t,n),h=t.injectorIndex;if(Oc(c)){const m=Nl(c),y=rl(c,n),D=y[Yt].data;for(let x=0;x<8;x++)n[h+x]=y[m+x]|D[m+x]}return n[h+8]=c,h}function Gr(t,n){t.push(0,0,0,0,0,0,0,0,n)}function kc(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ga(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=n;for(;null!==c;){if(a=Jd(c),null===a)return nl;if(o++,c=c[_e],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return nl}function Oo(t,n,o){!function hu(t,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(lr)&&(a=o[lr]),null==a&&(a=o[lr]=Nc++);const c=a&Xd;n.data[t+(c>>Pa)]|=1<<c}(t,n,o)}function Fc(t,n,o){if(o&Bn.Optional||void 0!==t)return t;Kr()}function Xi(t,n,o,a){if(o&Bn.Optional&&void 0===a&&(a=null),!(o&(Bn.Self|Bn.Host))){const c=t[Ii],h=kn(void 0);try{return c?c.get(n,a,o&Bn.Optional):pr(n,a,o&Bn.Optional)}finally{kn(h)}}return Fc(a,0,o)}function Bf(t,n,o,a=Bn.Default,c){if(null!==t){if(2048&n[Nn]&&!(a&Bn.Self)){const m=function xa(t,n,o,a,c){let h=t,m=n;for(;null!==h&&null!==m&&2048&m[Nn]&&!(512&m[Nn]);){const y=Qs(h,m,o,a|Bn.Self,Rr);if(y!==Rr)return y;let D=h.parent;if(!D){const x=m[ho];if(x){const j=x.get(o,Rr,a);if(j!==Rr)return j}D=Jd(m),m=m[_e]}h=D}return c}(t,n,o,a,Rr);if(m!==Rr)return m}const h=Qs(t,n,o,a,Rr);if(h!==Rr)return h}return Xi(n,o,a,c)}function Qs(t,n,o,a,c){const h=function Lc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(lr)?t[lr]:void 0;return"number"==typeof n?n>=0?n&Xd:ol:n}(o);if("function"==typeof h){if(!W(n,t,a))return a&Bn.Host?Fc(c,0,a):Xi(n,o,a,c);try{let m;if(m=h(a),null!=m||a&Bn.Optional)return m;Kr()}finally{ln()}}else if("number"==typeof h){let m=null,y=kc(t,n),D=nl,x=a&Bn.Host?n[Rt][yi]:null;for((-1===y||a&Bn.SkipSelf)&&(D=-1===y?ga(t,n):n[y+8],D!==nl&&$u(a,!1)?(m=n[Yt],y=Nl(D),n=rl(D,n)):y=-1);-1!==y;){const j=n[Yt];if(il(h,y,j.data)){const q=Vi(y,n,o,m,a,x);if(q!==Rr)return q}D=n[y+8],D!==nl&&$u(a,n[Yt].data[y+8]===x)&&il(h,y,n)?(m=j,y=Nl(D),n=rl(D,n)):y=-1}}return c}function Vi(t,n,o,a,c,h){const m=n[Yt],y=m.data[t+8],j=ks(y,m,o,null==a?is(y)&&Vu:a!=m&&0!=(3&y.type),c&Bn.Host&&h===y);return null!==j?Fs(n,m,j,y):Rr}function ks(t,n,o,a,c){const h=t.providerIndexes,m=n.data,y=1048575&h,D=t.directiveStart,j=h>>20,Te=c?y+j:t.directiveEnd;for(let Ge=a?y:y+j;Ge<Te;Ge++){const vt=m[Ge];if(Ge<D&&o===vt||Ge>=D&&vt.type===o)return Ge}if(c){const Ge=m[D];if(Ge&&fo(Ge)&&Ge.type===o)return D}return null}function Fs(t,n,o,a){let c=t[o];const h=n.data;if(function Pg(t){return t instanceof Lu}(c)){const m=c;m.resolving&&function Ur(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Bt(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Ln(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():An(t)}(h[o]));const y=du(m.canSeeViewProviders);m.resolving=!0;const x=m.injectImpl?kn(m.injectImpl):null;W(t,a,Bn.Default);try{c=t[o]=m.factory(void 0,h,t,a),n.firstCreatePass&&o>=a.directiveStart&&function Pc(t,n,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){var m,y;const q=Hn(n);(null!==(m=o.preOrderHooks)&&void 0!==m?m:o.preOrderHooks=[]).push(t,q),(null!==(y=o.preOrderCheckHooks)&&void 0!==y?y:o.preOrderCheckHooks=[]).push(t,q)}var D,x,j;c&&(null!==(D=o.preOrderHooks)&&void 0!==D?D:o.preOrderHooks=[]).push(0-t,c),h&&((null!==(x=o.preOrderHooks)&&void 0!==x?x:o.preOrderHooks=[]).push(t,h),(null!==(j=o.preOrderCheckHooks)&&void 0!==j?j:o.preOrderCheckHooks=[]).push(t,h))}(o,h[o],n)}finally{null!==x&&kn(x),du(y),m.resolving=!1,ln()}}return c}function il(t,n,o){return!!(o[n+(t>>Pa)]&1<<t)}function $u(t,n){return!(t&Bn.Self||t&Bn.Host&&n)}class Ai{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return Bf(this._tNode,this._lView,n,Qe(a),o)}}function ol(){return new Ai(rn(),ut())}function Ls(t){return Eo(()=>{const n=t.prototype.constructor,o=n[On]||sl(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[On]||sl(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function sl(t){return En(t)?()=>{const n=sl(Ut(t));return n&&n()}:Gn(t)}function Jd(t){const n=t[Yt],o=n.type;return 2===o?n.declTNode:1===o?t[yi]:null}function Oa(t){return function $f(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if(la(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===n)return o[c+1];c+=2}}}return null}(rn(),t)}const Na="__parameters__";function kl(t,n,o){return Eo(()=>{const a=function ka(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return y.annotation=m,y;function y(D,x,j){const q=D.hasOwnProperty(Na)?D[Na]:Object.defineProperty(D,Na,{value:[]})[Na];for(;q.length<=j;)q.push(null);return(q[j]=q[j]||[]).push(m),D}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Fl(t,n){t.forEach(o=>Array.isArray(o)?Fl(o,n):n(o))}function Mr(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function $r(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function va(t,n){const o=[];for(let a=0;a<t;a++)o.push(n);return o}function No(t,n,o){let a=Ll(t,n);return a>=0?t[1|a]=o:(a=~a,function eh(t,n,o,a){let c=t.length;if(c==n)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=o,t[n+1]=a}}(t,a,n,o)),a}function pu(t,n){const o=Ll(t,n);if(o>=0)return t[1|o]}function Ll(t,n){return function Gf(t,n,o){let a=0,c=t.length>>o;for(;c!==a;){const h=a+(c-a>>1),m=t[h<<o];if(n===m)return h<<o;m>n?c=h:a=h+1}return~(c<<o)}(t,n,1)}const La=Zr(kl("Optional"),8),Vl=Zr(kl("SkipSelf"),4),_a=new ze("ENVIRONMENT_INITIALIZER"),Xf=new ze("INJECTOR",-1),ea=new ze("INJECTOR_DEF_TYPES");class Gc{get(n,o=Je){if(o===Je){const a=new Error(`NullInjectorError: No provider for ${fn(n)}!`);throw a.name="NullInjectorError",a}return o}}function Jf(...t){return{\u0275providers:Ul(0,t),\u0275fromNgModule:!0}}function Ul(t,...n){const o=[],a=new Set;let c;const h=m=>{o.push(m)};return Fl(n,m=>{const y=m;Ds(y,h,[],a)&&(c||(c=[]),c.push(y))}),void 0!==c&&Gu(c,h),o}function Gu(t,n){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];$a(c,h=>{n(h,a)})}}function Ds(t,n,o,a){if(!(t=Ut(t)))return!1;let c=null,h=rr(t);const m=!h&&or(t);if(h||m){if(m&&!m.standalone)return!1;c=t}else{const D=t.ngModule;if(h=rr(D),!h)return!1;c=D}const y=a.has(c);if(m){if(y)return!1;if(a.add(c),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const x of D)Ds(x,n,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!y){let x;a.add(c);try{Fl(h.imports,j=>{Ds(j,n,o,a)&&(x||(x=[]),x.push(j))})}finally{}void 0!==x&&Gu(x,n)}if(!y){const x=Gn(c)||(()=>new c);n({provide:c,useFactory:x,deps:ir},c),n({provide:ea,useValue:c,multi:!0},c),n({provide:_a,useValue:()=>Z(c),multi:!0},c)}const D=h.providers;if(null!=D&&!y){const x=t;$a(D,j=>{n(j,x)})}}}return c!==t&&void 0!==t.providers}function $a(t,n){for(let o of t)_n(o)&&(o=o.\u0275providers),Array.isArray(o)?$a(o,n):n(o)}const ih=$t({provide:String,useValue:$t});function oh(t){return null!==t&&"object"==typeof t&&ih in t}function Ba(t){return"function"==typeof t}const Wc=new ze("Set Injector scope."),mu={},qc={};let sh;function Yc(){return void 0===sh&&(sh=new Gc),sh}class ta{}class Ko extends ta{get destroyed(){return this._destroyed}constructor(n,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qu(n,m=>this.processProvider(m)),this.records.set(Xf,na(void 0,this)),c.has("environment")&&this.records.set(ta,na(void 0,this));const h=this.records.get(Wc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(ea,ir,Bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=Ir(this),a=kn(void 0);try{return n()}finally{Ir(o),kn(a)}}get(n,o=Je,a=Bn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Wr))return n[Wr](this);a=Qe(a);const h=Ir(this),m=kn(void 0);try{if(!(a&Bn.SkipSelf)){let D=this.records.get(n);if(void 0===D){const x=function Hl(t){return"function"==typeof t||"object"==typeof t&&t instanceof ze}(n)&&Sn(n);D=x&&this.injectableDefInScope(x)?na(Ua(n),mu):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(a&Bn.Self?Yc():this.parent).get(n,o=a&Bn.Optional&&o===Je?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[Nt]=y[Nt]||[]).unshift(fn(n)),h)throw y;return function Io(t,n,o,a){const c=t[Nt];throw n[pn]&&c.unshift(n[pn]),t.message=function $o(t,n,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=fn(n);if(Array.isArray(n))c=n.map(fn).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let y=n[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):fn(y)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(Pt,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[Nt]=null,t}(y,n,"R3InjectorError",this.source)}throw y}finally{kn(m),Ir(h)}}resolveInjectorInitializers(){const n=Ir(this),o=kn(void 0);try{const c=this.get(_a,ir,Bn.Self);for(const h of c)h()}finally{Ir(n),kn(o)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(fn(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Bt(205,!1)}processProvider(n){let o=Ba(n=Ut(n))?n:Ut(n&&n.provide);const a=function jl(t){return oh(t)?na(void 0,t.useValue):na(lh(t),mu)}(n);if(Ba(n)||!0!==n.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=na(void 0,mu,!0),c.factory=()=>Un(c.multi),this.records.set(o,c)),o=n,c.multi.push(n)}this.records.set(o,a)}hydrate(n,o){return o.value===mu&&(o.value=qc,o.value=o.factory()),"object"==typeof o.value&&o.value&&function uh(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Ut(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Ua(t){const n=Sn(t),o=null!==n?n.factory:Gn(t);if(null!==o)return o;if(t instanceof ze)throw new Bt(204,!1);if(t instanceof Function)return function ah(t){const n=t.length;if(n>0)throw va(n,"?"),new Bt(204,!1);const o=function Dr(t){return t&&(t[Cr]||t[Ci])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Bt(204,!1)}function lh(t,n,o){let a;if(Ba(t)){const c=Ut(t);return Gn(c)||Ua(c)}if(oh(t))a=()=>Ut(t.useValue);else if(function Wu(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Un(t.deps||[]));else if(function fr(t){return!(!t||!t.useExisting)}(t))a=()=>Z(Ut(t.useExisting));else{const c=Ut(t&&(t.useClass||t.provide));if(!function tp(t){return!!t.deps}(t))return Gn(c)||Ua(c);a=()=>new c(...Un(t.deps))}return a}function na(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function qu(t,n){for(const o of t)Array.isArray(o)?qu(o,n):o&&_n(o)?qu(o.\u0275providers,n):n(o)}function np(t,n){t instanceof Ko&&t.assertNotDestroyed();const a=Ir(t),c=kn(void 0);try{return n()}finally{Ir(a),kn(c)}}function Qc(t,n=null,o=null,a){const c=ch(t,n,o,a);return c.resolveInjectorInitializers(),c}function ch(t,n=null,o=null,a,c=new Set){const h=[o||ir,Jf(t)];return a=a||("object"==typeof t?void 0:fn(t)),new Ko(h,n||Yc(),a||null,c)}let Si,Ji=(()=>{var t;class n{static create(a,c){if(Array.isArray(a))return Qc({name:""},c,a,"");{var h;const m=null!==(h=a.name)&&void 0!==h?h:"";return Qc({name:m},a.parent,a.providers,m)}}}return(t=n).THROW_IF_NOT_FOUND=Je,t.NULL=new Gc,t.\u0275prov=Xe({token:t,providedIn:"any",factory:()=>Z(Xf)}),t.__NG_ELEMENT_ID__=-1,n})();function ya(t){return!!xi(t)}function Fr(t){Si=t}const Gl=new ze("AppId",{providedIn:"root",factory:()=>Yu}),Yu="ng",Jc=new ze("Platform Initializer"),hh=new ze("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ph=new ze("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function bo(){if(void 0!==Si)return Si;if(typeof document<"u")return document;throw new Bt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});function F(t){return t instanceof Function?t():t}function ap(t){return 128==(128&t.flags)}var ql=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ql||{});const Wv=/^>|^->|<!--|-->|--!>|<!-$/g,_I=/(<|>)/g,qv="\u200b$1\u200b";const lp=new Map;let yI=0;const Dh="__ngContext__";function Zo(t,n){Ki(n)?(t[Dh]=n[Gi],function up(t){lp.set(t[Gi],t)}(n)):t[Dh]=n}let Wg;function Ju(t,n){return Wg(t,n)}function Ia(t){const n=t[Or];return ci(n)?n[Or]:n}function qg(t){return hp(t[ne])}function Jv(t){return hp(t[zi])}function hp(t){for(;null!==t&&!ci(t);)t=t[zi];return t}function Cu(t,n,o,a,c){if(null!=a){let h,m=!1;ci(a)?h=a:Ki(a)&&(m=!0,a=a[Vr]);const y=hi(a);0===t&&null!==o?null==c?Kg(n,o,y):pl(n,o,y,c||null,!0):1===t&&null!==o?pl(n,o,y,c||null,!0):2===t?function rc(t,n,o){const a=gl(t,n);a&&function nd(t,n,o,a){t.removeChild(n,o,a)}(t,a,n,o)}(n,y,m):3===t&&n.destroyNode(y),null!=h&&function ic(t,n,o,a,c){const h=o[Co];h!==hi(o)&&Cu(n,t,a,h,c);for(let y=si;y<o.length;y++){const D=o[y];rd(D[Yt],D,t,n,a,h)}}(n,t,h,o,c)}}function bh(t,n){return t.createComment(function fl(t){return t.replace(Wv,n=>n.replace(_I,qv))}(n))}function Ah(t,n,o){return t.createElement(n,o)}function tc(t,n){const o=t[zo],a=o.indexOf(n);o.splice(a,1)}function Yl(t,n){if(t.length<=si)return;const o=si+n,a=t[o];if(a){const c=a[Rn];null!==c&&c!==t&&tc(c,a),n>0&&(t[o-1][zi]=a[zi]);const h=$r(t,si+n);!function pp(t,n){rd(t,n,n[A],2,null,null),n[Vr]=null,n[yi]=null}(a[Yt],a);const m=h[ti];null!==m&&m.detachView(h[Yt]),a[Or]=null,a[zi]=null,a[Nn]&=-129}return a}function Kl(t,n){if(!(256&n[Nn])){const o=n[A];o.destroyNode&&rd(t,n,o,3,null,null),function gp(t){let n=t[ne];if(!n)return mp(t[Yt],t);for(;n;){let o=null;if(Ki(n))o=n[ne];else{const a=n[si];a&&(o=a)}if(!o){for(;n&&!n[zi]&&n!==t;)Ki(n)&&mp(n[Yt],n),n=n[Or];null===n&&(n=t),Ki(n)&&mp(n[Yt],n),o=n&&n[zi]}n=o}}(n)}}function mp(t,n){if(!(256&n[Nn])){n[Nn]&=-129,n[Nn]|=256,n[Ho]&&function ht(t){if(we(t),Oe(t))for(let n=0;n<t.producerNode.length;n++)Fe(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[Ho]),function us(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=n[o[a]];if(!(c instanceof Lu)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=c[h[m]],D=h[m+1];Fi(4,y,D);try{D.call(y)}finally{Fi(5,y,D)}}else{Fi(4,c,h);try{h.call(c)}finally{Fi(5,c,h)}}}}}(t,n),function t_(t,n){const o=t.cleanup,a=n[ps];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?a[m]():a[-m].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(n[ps]=null);const c=n[oi];if(null!==c){n[oi]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[Yt].type&&n[A].destroy();const o=n[Rn];if(null!==o&&ci(n[Or])){o!==n[Or]&&tc(o,n);const a=n[ti];null!==a&&a.detachView(t)}!function Qu(t){lp.delete(t[Gi])}(n)}}function vp(t,n,o){return function Sh(t,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[Vr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===ao.None||h===ao.Emulated)return null}return Po(a,o)}}(t,n.parent,o)}function pl(t,n,o,a,c){t.insertBefore(n,o,a,c)}function Kg(t,n,o){t.appendChild(n,o)}function Zl(t,n,o,a,c){null!==a?pl(t,n,o,a,c):Kg(t,n,o)}function gl(t,n){return t.parentNode(n)}function nc(t,n,o){return Ql(t,n,o)}let _p,yp,Ql=function Zg(t,n,o){return 40&t.type?Po(t,o):null};function Rh(t,n,o,a){const c=vp(t,a,n),h=n[A],y=nc(a.parent||n[yi],a,n);if(null!=c)if(Array.isArray(o))for(let D=0;D<o.length;D++)Zl(h,c,o[D],y,!1);else Zl(h,c,o,y,!1);void 0!==_p&&_p(h,a,n,o,c)}function Mh(t,n){if(null!==n){const o=n.type;if(3&o)return Po(n,t);if(4&o)return Xg(-1,t[n.index]);if(8&o){const a=n.child;if(null!==a)return Mh(t,a);{const c=t[n.index];return ci(c)?Xg(-1,c):hi(c)}}if(32&o)return Ju(n,t)()||hi(t[n.index]);{const a=Qg(t,n);return null!==a?Array.isArray(a)?a[0]:Mh(Ia(t[Rt]),a):Mh(t,n.next)}}return null}function Qg(t,n){return null!==n?t[Rt][yi].projection[n.projection]:null}function Xg(t,n){const o=si+t+1;if(o<n.length){const a=n[o],c=a[Yt].firstChild;if(null!==c)return Mh(a,c)}return n[Co]}function em(t,n,o,a,c,h,m){for(;null!=o;){const y=a[o.index],D=o.type;if(m&&0===n&&(y&&Zo(hi(y),a),o.flags|=2),32!=(32&o.flags))if(8&D)em(t,n,o.child,a,c,h,!1),Cu(n,t,c,y,h);else if(32&D){const x=Ju(o,a);let j;for(;j=x();)Cu(n,t,c,j,h);Cu(n,t,c,y,h)}else 16&D?tm(t,n,a,o,c,h):Cu(n,t,c,y,h);o=m?o.projectionNext:o.next}}function rd(t,n,o,a,c,h){em(o,a,t.firstChild,n,c,h,!1)}function tm(t,n,o,a,c,h){const m=o[Rt],D=m[yi].projection[a.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)Cu(n,t,c,D[x],h);else{let x=D;const j=m[Or];ap(a)&&(x.flags|=128),em(t,n,x,j,c,h,!0)}}function nm(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function i_(t,n,o){const{mergedAttrs:a,classes:c,styles:h}=o;null!==a&&Ro(t,n,a),null!==c&&nm(t,n,c),null!==h&&function r_(t,n,o){t.setAttribute(n,"style",o)}(t,n,h)}function Oh(t){var n;return(null===(n=function om(){if(void 0===yp&&(yp=null,me.trustedTypes))try{yp=me.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yp}())||void 0===n?void 0:n.createScriptURL(t))||t}class Nh{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nr})`}}function za(t){return t instanceof Nh?t.changingThisBreaksApplicationSecurity:t}function oc(t,n){const o=function lm(t){return t instanceof Nh&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${nr})`)}return o===n}const l_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var sc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sc||{});function c_(t){const n=$h();return n?n.sanitize(sc.URL,t)||"":oc(t,"URL")?za(t):function um(t){return(t=String(t)).match(l_)?t:"unsafe:"+t}(An(t))}function d_(t){const n=$h();if(n)return Oh(n.sanitize(sc.RESOURCE_URL,t)||"");if(oc(t,"ResourceURL"))return Oh(za(t));throw new Bt(904,!1)}function sd(t,n,o){return function Sp(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?d_:c_}(n,o)(t)}function $h(){const t=ut();return t&&t[V].sanitizer}class UI{}let p_=(t,n,o)=>null;function Uh(t,n,o=!1){return p_(t,n,o)}class zI{}class xp{}class Tm{resolveComponentFactory(n){throw function GI(t){const n=Error(`No component factory found for ${fn(t)}.`);return n.ngComponent=t,n}(n)}}let zh=(()=>{class n{}return n.NULL=new Tm,n})();function wm(){return bu(rn(),ut())}function bu(t,n){return new cc(Po(t,n))}let cc=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=wm,n})();function dd(t){return t instanceof cc?t.nativeElement:t}class tu{}let bm=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function hd(){const t=ut(),o=fi(rn().index,t);return(Ki(o)?o:t)[A]}(),n})(),fd=(()=>{var t;class n{}return(t=n).\u0275prov=Xe({token:t,providedIn:"root",factory:()=>null}),n})();const Np={};function Sm(t){const n=se(null);try{return t()}finally{se(n)}}function pd(t){return!!Wh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Wh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class kp{constructor(){}supports(n){return pd(n)}create(n){return new __(n)}}const YI=(t,n)=>n;class __{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||YI}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<Mm(a,c,h)?o:a,y=Mm(m,c,h),D=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const x=y-c,j=D-c;if(x!=j){for(let Te=0;Te<x;Te++){const Ge=Te<h.length?h[Te]:h[Te]=0,vt=Ge+Te;j<=vt&&vt<x&&(h[Te]=Ge+1)}h[m.previousIndex]=j-x}}y!==D&&n(m,y,D)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!pd(n))throw new Bt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,m,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)h=n[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),a=!0),o=o._next}else c=0,function qI(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,y=>{m=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,y,m,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,h,c)):n=this._addAfter(new KI(o,a),h,c),n}_verifyReinsertion(n,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const c=null===o?this._itHead:o._next;return n._next=c,n._prev=o,null===c?this._itTail=n:c._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new Rm),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rm),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class KI{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class y_{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class Rm{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new y_,this.map.set(o,a)),a.add(n)}get(n,o){const c=this.map.get(n);return c?c.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mm(t,n,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+n+c}class Pm{constructor(){}supports(n){return n instanceof Map||Wh(n)}create(){return new ZI}}class ZI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||Wh(n)))throw new Bt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new QI(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class QI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function I_(){return new xm([new kp])}let xm=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||I_()),deps:[[n,new Vl,new La]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Bt(901,!1)}}return(t=n).\u0275prov=Xe({token:t,providedIn:"root",factory:I_}),n})();function Fp(){return new qh([new Pm])}let qh=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||Fp()),deps:[[n,new Vl,new La]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Bt(901,!1)}}return(t=n).\u0275prov=Xe({token:t,providedIn:"root",factory:Fp}),n})();function dc(t,n,o,a,c=!1){for(;null!==o;){const h=n[o.index];null!==h&&a.push(hi(h)),ci(h)&&D_(h,a);const m=o.type;if(8&m)dc(t,n,o.child,a);else if(32&m){const y=Ju(o,n);let D;for(;D=y();)a.push(D)}else if(16&m){const y=Qg(n,o);if(Array.isArray(y))a.push(...y);else{const D=Ia(n[Rt]);dc(D[Yt],D,y,a,!0)}}o=c?o.projectionNext:o.next}return a}function D_(t,n){for(let o=si;o<t.length;o++){const a=t[o],c=a[Yt].firstChild;null!==c&&dc(a[Yt],a,c,n)}t[Co]!==t[Vr]&&n.push(t[Co])}let Lp=[];const JI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xa(t.lView)},consumerOnSignalRead(){this.lView[Ho]=this}};function Yh(t){return t.ngOriginalError}class Au{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&Yh(n);for(;o&&Yh(o);)o=Yh(o);return o||null}}const $p=new ze("",{providedIn:"root",factory:()=>X(Au).handleError.bind(void 0)}),jp=new ze("",{providedIn:"root",factory:()=>!1}),hr={};function M_(t){zp(vr(),ut(),tr()+t,!1)}function zp(t,n,o,a){if(!a)if(3==(3&n[Nn])){const h=t.preOrderCheckHooks;null!==h&&xl(n,h,o)}else{const h=t.preOrderHooks;null!==h&&uu(n,h,0,o)}Ei(o)}function md(t,n=Bn.Default){const o=ut();return null===o?Z(t,n):Bf(rn(),o,Ut(t),n)}function Gp(){throw new Error("invalid")}function vd(t,n,o,a,c,h,m,y,D,x,j){const q=n.blueprint.slice();return q[Vr]=c,q[Nn]=204|a,(null!==x||t&&2048&t[Nn])&&(q[Nn]|=2048),wi(q),q[Or]=q[_e]=t,q[jn]=o,q[V]=m||t&&t[V],q[A]=y||t&&t[A],q[Ii]=D||t&&t[Ii]||null,q[yi]=h,q[Gi]=function Yv(){return yI++}(),q[Do]=j,q[ho]=x,q[Rt]=2==n.type?t[Rt]:q,q}function hc(t,n,o,a,c){let h=t.data[n];if(null===h)h=function Kh(t,n,o,a,c){const h=Ja(),m=Xr(),D=t.data[n]=function N_(t,n,o,a,c,h){let m=n?n.injectorIndex:-1,y=0;return pa()&&(y|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,n,a,c);return null===t.firstChild&&(t.firstChild=D),null!==h&&(m?null==h.child&&null!==D.parent&&(h.child=D):null===h.next&&(h.next=D,D.prev=h)),D}(t,n,o,a,c),function qd(){return dt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const m=function _r(){const t=dt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Go(h,!0),h}function _d(t,n,o,a){if(0===o)return-1;const c=n.length;for(let h=0;h<o;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function P_(t,n,o,a,c){const h=tr(),m=2&a;try{Ei(-1),m&&n.length>zn&&zp(t,n,zn,!1),Fi(m?2:0,c),o(a,c)}finally{Ei(h),Fi(m?3:1,c)}}function Fm(t,n,o){if(ca(n)){const a=se(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const y=t.data[m];y.contentQueries&&y.contentQueries(1,o[m],m)}}finally{se(a)}}}function Zh(t,n,o){xs()&&(function Yp(t,n,o,a){const c=o.directiveStart,h=o.directiveEnd;is(o)&&function o0(t,n,o){const a=Po(n,t),c=Wp(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const y=Qp(t,vd(t,c,null,m,a,n,null,t[V].rendererFactory.createRenderer(a,o),null,null,null));t[n.index]=y}(n,o,t.data[c+o.componentOffset]),t.firstCreatePass||Qi(o,n),Zo(a,n);const m=o.initialInputs;for(let y=c;y<h;y++){const D=t.data[y],x=Fs(n,t,y,o);Zo(x,n),null!==m&&$_(0,y-c,x,D,0,m),fo(D)&&(fi(o.index,n)[jn]=Fs(n,t,y,o))}}(t,n,o,Po(o,n)),64==(64&o.flags)&&Kp(t,n,o))}function Lm(t,n,o=Po){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],y=-1===m?o(n,t):t[m];t[c++]=y}}}function Wp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Qh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Qh(t,n,o,a,c,h,m,y,D,x,j){const q=zn+a,Te=q+c,Ge=function Vm(t,n){const o=[];for(let a=0;a<n;a++)o.push(a<t?null:hr);return o}(q,Te),vt="function"==typeof x?x():x;return Ge[Yt]={type:t,blueprint:Ge,template:o,queries:null,viewQuery:y,declTNode:n,data:Ge.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:Te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:vt,incompleteFirstPass:!1,ssrId:j}}let x_=t=>null;function Jh(t,n,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const h=t[c];null===a?k_(o,n,c,h):a.hasOwnProperty(c)&&k_(o,n,a[c],h)}return o}function k_(t,n,o,a){t.hasOwnProperty(o)?t[o].push(n,a):t[o]=[n,a]}function ef(t,n,o,a){if(xs()){const c=null===a?null:{"":-1},h=function Id(t,n){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let m=0;m<o.length;m++){const y=o[m];if(bs(n,y.selectors,!1))if(a||(a=[]),fo(y))if(null!==y.findHostDirectiveDefs){const D=[];c=c||new Map,y.findHostDirectiveDefs(y,D,c),a.unshift(...D,y),Zp(t,n,D.length)}else a.unshift(y),Zp(t,n,0);else{var h;c=c||new Map,null===(h=y.findHostDirectiveDefs)||void 0===h||h.call(y,y,a,c),a.push(y)}}return null===a?null:[a,c]}(t,o);let m,y;null===h?m=y=null:[m,y]=h,null!==m&&Um(t,n,o,m,c,y),c&&function zm(t,n,o){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=o[n[c+1]];if(null==h)throw new Bt(-301,!1);a.push(n[c],h)}}}(o,a,c)}o.mergedAttrs=Mo(o.mergedAttrs,o.attrs)}function Um(t,n,o,a,c,h){for(let q=0;q<a.length;q++)Oo(Qi(o,n),t,a[q].type);!function Ed(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,a.length);for(let q=0;q<a.length;q++){const Te=a[q];Te.providersResolver&&Te.providersResolver(Te)}let m=!1,y=!1,D=_d(t,n,a.length,null);for(let q=0;q<a.length;q++){const Te=a[q];o.mergedAttrs=Mo(o.mergedAttrs,Te.hostAttrs),Gm(t,o,n,D,Te),V_(D,Te,c),null!==Te.contentQueries&&(o.flags|=4),(null!==Te.hostBindings||null!==Te.hostAttrs||0!==Te.hostVars)&&(o.flags|=64);const Ge=Te.type.prototype;var x,j;!m&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((null!==(x=t.preOrderHooks)&&void 0!==x?x:t.preOrderHooks=[]).push(o.index),m=!0),y||!Ge.ngOnChanges&&!Ge.ngDoCheck||((null!==(j=t.preOrderCheckHooks)&&void 0!==j?j:t.preOrderCheckHooks=[]).push(o.index),y=!0),D++}!function n0(t,n,o){const c=n.directiveEnd,h=t.data,m=n.attrs,y=[];let D=null,x=null;for(let j=n.directiveStart;j<c;j++){const q=h[j],Te=o?o.get(q):null,vt=Te?Te.outputs:null;D=Jh(q.inputs,j,D,Te?Te.inputs:null),x=Jh(q.outputs,j,x,vt);const Lt=null===D||null===m||lo(n)?null:U_(D,j,m);y.push(Lt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=y,n.inputs=D,n.outputs=x}(t,o,h)}function Kp(t,n,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,m=function el(){return dt.lFrame.currentDirectiveIndex}();try{Ei(h);for(let y=a;y<c;y++){const D=t.data[y],x=n[y];E(y),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&L_(D,x)}}finally{Ei(-1),E(m)}}function L_(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Zp(t,n,o){var a;n.componentOffset=o,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function V_(t,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=t;fo(n)&&(o[""]=t)}}function Gm(t,n,o,a,c){t.data[a]=c;const h=c.factory||(c.factory=Gn(c.type)),m=new Lu(h,fo(c),md);t.blueprint[a]=m,o[a]=m,function jm(t,n,o,a,c){const h=c.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const y=~n.index;(function Hm(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(m)!=y&&m.push(y),m.push(o,a,h)}}(t,n,a,_d(t,o,c.hostVars,hr),c)}function vl(t,n,o,a,c,h){const m=Po(t,n);!function Wm(t,n,o,a,c,h,m){if(null==h)t.removeAttribute(n,c,o);else{const y=null==m?An(h):m(h,a||"",c);t.setAttribute(n,c,y,o)}}(n[A],m,h,t.value,o,a,c)}function $_(t,n,o,a,c,h){const m=h[n];if(null!==m)for(let y=0;y<m.length;)B_(a,o,m[y++],m[y++],m[y++])}function B_(t,n,o,a,c){const h=se(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(a)&&(c=m[a].call(n,c)),null!==t.setInput?t.setInput(n,c,o,a):n[a]=c}finally{se(h)}}function U_(t,n,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const m=t[h];for(let y=0;y<m.length;y+=2)if(m[y]===n){a.push(h,m[y+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function j_(t,n,o,a){return[t,!0,0,n,null,a,null,o,null,null]}function H_(t,n){const o=t.contentQueries;if(null!==o){const a=se(null);try{for(let c=0;c<o.length;c+=2){const m=o[c+1];if(-1!==m){const y=t.data[m];_(o[c]),y.contentQueries(2,n[m],m)}}}finally{se(a)}}}function Qp(t,n){return t[ne]?t[$][zi]=n:t[ne]=n,t[$]=n,n}function qm(t,n,o){_(0);const a=se(null);try{n(t,o)}finally{se(a)}}function z_(t){return t[ps]||(t[ps]=[])}function Ym(t){return t.cleanup||(t.cleanup=[])}function Dd(t,n){const o=t[Ii],a=o?o.get(Au,null):null;a&&a.handleError(n)}function Xp(t,n,o,a,c){for(let h=0;h<o.length;){const m=o[h++],y=o[h++];B_(t.data[m],n[m],a,y,c)}}function W_(t,n,o,a){var c;const h=n[Nn];if(256==(256&h))return;null===(c=n[V].inlineEffectRunner)||void 0===c||c.flush(),fe(n);let y=null,D=null;(function tf(t){return 2!==t.type})(t)&&(D=function C_(t){var n;return null!==(n=t[Ho])&&void 0!==n?n:function Om(t){var n;const o=null!==(n=Lp.pop())&&void 0!==n?n:Object.create(JI);return o.lView=t,o}(t)}(n),y=function xe(t){return t&&(t.nextProducerIndex=0),se(t)}(D));try{wi(n),function Rc(t){return dt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&P_(t,n,o,2,a);const x=3==(3&h);if(x){const Te=t.preOrderCheckHooks;null!==Te&&xl(n,Te,null)}else{const Te=t.preOrderHooks;null!==Te&&uu(n,Te,0,null),Kd(n,0)}if(function Qo(t){for(let n=qg(t);null!==n;n=Jv(n)){if(!(n[Nn]&To.HasTransplantedViews))continue;const o=n[zo];for(let a=0;a<o.length;a++){xo(o[a])}}}(n),Zm(n,0),null!==t.contentQueries&&H_(t,n),x){const Te=t.contentCheckHooks;null!==Te&&xl(n,Te)}else{const Te=t.contentHooks;null!==Te&&uu(n,Te,1),Kd(n,1)}!function e0(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)Ei(~c);else{const h=c,m=o[++a],y=o[++a];Yd(m,h),y(2,n[h])}}}finally{Ei(-1)}}(t,n);const j=t.components;null!==j&&q_(n,j,0);const q=t.viewQuery;if(null!==q&&qm(2,q,a),x){const Te=t.viewCheckHooks;null!==Te&&xl(n,Te)}else{const Te=t.viewHooks;null!==Te&&uu(n,Te,2),Kd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[gs]){for(const Te of n[gs])Te();n[gs]=null}n[Nn]&=-73}catch(x){throw Xa(n),x}finally{null!==D&&(function Le(t,n){if(se(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Oe(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Fe(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(D,y),function T_(t){t.lView[Ho]!==t&&(t.lView=null,Lp.push(t))}(D)),Kn()}}function Zm(t,n){for(let o=qg(t);null!==o;o=Jv(o)){o[Nn]&=~To.HasChildViewsToRefresh;for(let a=si;a<o.length;a++)Ga(o[a],n)}}function Ni(t,n,o){Ga(fi(n,t),o)}function Ga(t,n){Is(t)&&nf(t,n)}function nf(t,n){const a=t[Yt],c=t[Nn],h=t[Ho];let m=!!(0===n&&16&c);if(m||(m=!!(64&c&&0===n)),m||(m=!!(1024&c)),m||(m=!(null==h||!h.dirty||!He(h))),h&&(h.dirty=!1),t[Nn]&=-9217,m)W_(a,t,a.template,t[jn]);else if(8192&c){Zm(t,1);const y=a.components;null!==y&&q_(t,y,1)}}function q_(t,n,o){for(let a=0;a<n.length;a++)Ni(t,n[a],o)}function Su(t){var n;for(null===(n=t[V].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Nn]|=64;const o=Ia(t);if(Ra(t)&&!o)return t;t=o}return null}class Td{get rootNodes(){const n=this._lView,o=n[Yt];return dc(o,n,o.firstChild,[])}constructor(n,o,a=!0){this._lView=n,this._cdRefInjectingView=o,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jn]}set context(n){this._lView[jn]=n}get destroyed(){return 256==(256&this._lView[Nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Or];if(ci(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(Yl(n,a),$r(o,a))}this._attachedToViewContainer=!1}Kl(this._lView[Yt],this._lView)}onDestroy(n){sn(this._lView,n)}markForCheck(){Su(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nn]&=-129}reattach(){Tn(this._lView),this._lView[Nn]|=128}detectChanges(){this._lView[Nn]|=1024,function Cd(t,n=!0){const o=t[V],a=o.rendererFactory,c=o.afterRenderEventManager;var m;null===(m=a.begin)||void 0===m||m.call(a),null==c||c.begin();try{!function kr(t){nf(t,0);let n=0;for(;yn(t);){if(100===n)throw new Bt(103,!1);n++,nf(t,1)}}(t)}catch(x){throw n&&Dd(t,x),x}finally{var y,D;null===(y=a.end)||void 0===y||y.call(a),null===(D=o.inlineEffectRunner)||void 0===D||D.flush(),null==c||c.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Bt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yg(t,n){rd(t,n,n[A],2,null,null)}(this._lView[Yt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Bt(902,!1);this._appRef=n,Tn(this._lView)}}let Jp=(()=>{class n{}return n.__NG_ELEMENT_ID__=a0,n})();function a0(t){return function Qm(t,n,o){if(is(t)&&!o){const a=fi(t.index,n);return new Td(a,a)}return 47&t.type?new Td(n[Rt],n):null}(rn(),ut(),16==(16&t))}let eg=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=Y_,t.__NG_ENV_ID__=o=>o,n})();class eo extends eg{constructor(n){super(),this._lView=n}onDestroy(n){return sn(this._lView,n),()=>function _t(t,n){if(null===t[oi])return;const o=t[oi].indexOf(n);-1!==o&&t[oi].splice(o,1)}(this._lView,n)}}function Y_(){return new eo(ut())}const g0=new Set;function fc(t){var n,o;g0.has(t)||(g0.add(t),null===(n=performance)||void 0===n||null===(o=n.mark)||void 0===o||o.call(n,"mark_feature_usage",{detail:{feature:t}}))}function tg(t){return n=>{setTimeout(t,void 0,n)}}const Bs=class m0 extends pt.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,a){let c=n,h=o||(()=>null),m=a;if(n&&"object"==typeof n){var y,D,x;const q=n;c=null===(y=q.next)||void 0===y?void 0:y.bind(q),h=null===(D=q.error)||void 0===D?void 0:D.bind(q),m=null===(x=q.complete)||void 0===x?void 0:x.bind(q)}this.__isAsync&&(h=tg(h),c&&(c=tg(c)),m&&(m=tg(m)));const j=super.subscribe({next:c,error:h,complete:m});return n instanceof at.w0&&n.add(j),j}};function Z_(...t){}class Ao{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bs(!1),this.onMicrotaskEmpty=new Bs(!1),this.onStable=new Bs(!1),this.onError=new Bs(!1),typeof Zone>"u")throw new Bt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function yl(){const t="function"==typeof me.requestAnimationFrame;let n=me[t?"requestAnimationFrame":"setTimeout"],o=me[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function _0(t){const n=()=>{!function v0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(me,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ng(t),t.isCheckStableRunning=!0,wd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ng(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,m,y)=>{if(function gc(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(y))return o.invokeTask(c,h,m,y);try{return Xm(t),o.invokeTask(c,h,m,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),rf(t)}},onInvoke:(o,a,c,h,m,y,D)=>{try{return Xm(t),o.invoke(c,h,m,y,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),rf(t)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,ng(t),wd(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ao.isInAngularZone())throw new Bt(909,!1)}static assertNotInAngularZone(){if(Ao.isInAngularZone())throw new Bt(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,n,pc,Z_,Z_);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const pc={};function wd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ng(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Xm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rf(t){t._nesting--,wd(t)}class y0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bs,this.onMicrotaskEmpty=new Bs,this.onStable=new Bs,this.onError=new Bs}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,c){return n.apply(o,a)}}var Wa=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Wa||{});const Jm={destroy(){}};function Q_(t,n){var o,a,c;!n&&function mi(t){if(!Ar()&&!function Jn(){return dn}())throw new Bt(-203,!1)}();const h=null!==(o=null==n?void 0:n.injector)&&void 0!==o?o:X(Ji);if(!function Y(t){return"browser"===(null!=t?t:X(Ji)).get(hh)}(h))return Jm;fc("NgAfterNextRender");const m=h.get(bd),y=null!==(a=m.handler)&&void 0!==a?a:m.handler=new og,D=null!==(c=null==n?void 0:n.phase)&&void 0!==c?c:Wa.MixedReadWrite,x=()=>{y.unregister(q),j()},j=h.get(eg).onDestroy(x),q=new X_(h,D,()=>{x(),t()});return y.register(q),{destroy:x}}class X_{constructor(n,o,a){this.phase=o,this.callbackFn=a,this.zone=n.get(Ao),this.errorHandler=n.get(Au,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(o)}}}class og{constructor(){this.executingCallbacks=!1,this.buckets={[Wa.EarlyRead]:new Set,[Wa.Write]:new Set,[Wa.MixedReadWrite]:new Set,[Wa.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Bt(102,!1)}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const o of n)o.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let bd=(()=>{var t;class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){var a;null===(a=this.handler)||void 0===a||a.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){var a;for(const c of this.internalCallbacks)c();this.internalCallbacks.length=0,null===(a=this.handler)||void 0===a||a.execute()}}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Xe({token:t,providedIn:"root",factory:()=>new t}),n})();function J_(t,n){const o=fi(n,t),a=o[Yt];!function mc(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(a,o);const c=o[Vr];null!==c&&null===o[Do]&&(o[Do]=Uh(c,o[Ii])),sg(a,o,o[jn])}function sg(t,n,o){fe(n);try{const a=t.viewQuery;null!==a&&qm(1,a,o);const c=t.template;null!==c&&P_(t,n,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&H_(t,n),t.staticViewQueries&&qm(2,t.viewQuery,o);const h=t.components;null!==h&&function ey(t,n){for(let o=0;o<n.length;o++)J_(t,n[o])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[Nn]&=-5,Kn()}}function Ad(t,n,o){let a=o?t.styles:null,c=o?t.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const y=n[m];"number"==typeof y?h=y:1==h?c=nn(c,y):2==h&&(a=nn(a,y+": "+n[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}class Sd extends zh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=or(n);return new Rd(o,this.ngModule)}}function ty(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class lg{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=Qe(a);const c=this.injector.get(n,Np,a);return c!==Np||o===Np?c:this.parentInjector.get(n,o,a)}}class Rd extends xp{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=ty(n.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return ty(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function zs(t){return t.map(Hs).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,c){var m;let y=(c=c||this.ngModule)instanceof ta?c:null===(m=c)||void 0===m?void 0:m.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const D=y?new lg(n,y):n,x=D.get(tu,null);if(null===x)throw new Bt(407,!1);const Ge={rendererFactory:x,sanitizer:D.get(fd,null),inlineEffectRunner:null,afterRenderEventManager:D.get(bd,null),changeDetectionScheduler:D.get(UI,null)},vt=x.createRenderer(null,this.componentDef),Lt=this.componentDef.selectors[0][0]||"div",Kt=a?function t0(t,n,o,a){const h=a.get(jp,!1)||o===ao.ShadowDom,m=t.selectRootElement(n,h);return function Xh(t){x_(t)}(m),m}(vt,a,this.componentDef.encapsulation,D):Ah(vt,Lt,function ag(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Lt));let gn=512;this.componentDef.signals?gn|=4096:this.componentDef.onPush||(gn|=16);let kt=null;null!==Kt&&(kt=Uh(Kt,D,!0));const ar=Qh(0,null,null,1,0,null,null,null,null,null,null),yr=vd(null,ar,null,gn,null,null,Ge,vt,D,null,kt);let ei,ds;fe(yr);try{const Dc=this.componentDef;let Sg,dD=null;Dc.findHostDirectiveDefs?(Sg=[],dD=new Map,Dc.findHostDirectiveDefs(Dc,Sg,dD),Sg.push(Dc)):Sg=[Dc];const yM=function E0(t,n){const o=t[Yt],a=zn;return t[a]=n,hc(o,a,2,"#host",null)}(yr,Kt),IM=function ug(t,n,o,a,c,h,m){const y=c[Yt];!function ny(t,n,o,a){for(const c of t)n.mergedAttrs=Mo(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Ad(n,n.mergedAttrs,!0),null!==o&&i_(a,o,n))}(a,t,n,m);let D=null;null!==n&&(D=Uh(n,c[Ii]));const x=h.rendererFactory.createRenderer(n,o);let j=16;o.signals?j=4096:o.onPush&&(j=64);const q=vd(c,Wp(o),null,j,c[t.index],t,h,x,null,null,D);return y.firstCreatePass&&Zp(y,t,a.length-1),Qp(c,q),c[t.index]=q}(yM,Kt,Dc,Sg,yr,Ge,vt);ds=Rl(ar,zn),Kt&&function af(t,n,o,a){if(a)Ro(t,o,["ng-version","17.0.8"]);else{const{attrs:c,classes:h}=function Ou(t){const n=[],o=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&o.push(h);else{if(!ji(c))break;c=h}a++}return{attrs:n,classes:o}}(n.selectors[0]);c&&Ro(t,o,c),h&&h.length>0&&nm(t,o,h.join(" "))}}(vt,Dc,Kt,a),void 0!==o&&function Mu(t,n,o){const a=t.projection=[];for(let c=0;c<n.length;c++){const h=o[c];a.push(null!=h?Array.from(h):null)}}(ds,this.ngContentSelectors,o),ei=function ev(t,n,o,a,c,h){const m=rn(),y=c[Yt],D=Po(m,c);Um(y,c,m,o,null,a);for(let j=0;j<o.length;j++)Zo(Fs(c,y,m.directiveStart+j,m),c);Kp(y,c,m),D&&Zo(D,c);const x=Fs(c,y,m.directiveStart+m.componentOffset,m);if(t[jn]=c[jn]=x,null!==h)for(const j of h)j(x,n);return Fm(y,m,t),x}(IM,Dc,Sg,dD,yr,[lf]),sg(ar,yr,null)}finally{Kn()}return new sf(this.componentType,ei,bu(ds,yr),yr,ds)}}class sf extends zI{constructor(n,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Td(c,void 0,!1),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const m=this._rootLView;Xp(m[Yt],m,c,n,o),this.previousInputValues.set(n,o),Su(fi(this._tNode.index,m))}}get injector(){return new Ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function lf(){const t=rn();Pl(ut()[Yt],t)}function Pu(t){let n=function ry(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;n;){let c;if(fo(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Bt(903,!1);c=n.\u0275dir}if(c){if(o){a.push(c);const m=t;m.inputs=tv(t.inputs),m.inputTransforms=tv(t.inputTransforms),m.declaredInputs=tv(t.declaredInputs),m.outputs=tv(t.outputs);const y=c.hostBindings;y&&cg(t,y);const D=c.viewQuery,x=c.contentQueries;if(D&&nv(t,D),x&&D0(t,x),mn(t.inputs,c.inputs),mn(t.declaredInputs,c.declaredInputs),mn(t.outputs,c.outputs),null!==c.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),mn(m.inputTransforms,c.inputTransforms)),fo(c)&&c.data.animation){const j=t.data;j.animation=(j.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(t),y===Pu&&(o=!1)}}n=Object.getPrototypeOf(n)}!function SD(t){let n=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=Mo(c.hostAttrs,o=Mo(o,c.hostAttrs))}}(a)}function tv(t){return t===Mi?{}:t===ir?[]:t}function nv(t,n){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{n(a,c),o(a,c)}:n}function D0(t,n){const o=t.contentQueries;t.contentQueries=o?(a,c,h)=>{n(a,c,h),o(a,c,h)}:n}function cg(t,n){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{n(a,c),o(a,c)}:n}function iv(t){const n=t.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const c=n[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function oo(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function oy(t,n,o,a){const c=ut();return oo(c,_o(),n)&&(vr(),vl(sr(),c,t,n,o,a)),oy}function ff(t,n){return t<<17|n<<2}function xu(t){return t>>17&32767}function av(t){return 2|t}function Ca(t){return(131068&t)>>2}function pf(t,n){return-131069&t|n<<2}function lv(t){return 1|t}function R0(t,n,o,a,c){const h=t[o+1],m=null===n;let y=a?xu(h):Ca(h),D=!1;for(;0!==y&&(!1===D||m);){const j=t[y+1];OD(t[y],n)&&(D=!0,t[y+1]=a?lv(j):av(j)),y=a?xu(j):Ca(j)}D&&(t[o+1]=a?av(h):lv(h))}function OD(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ll(t,n)>=0}function cv(t,n,o){const a=ut();return oo(a,_o(),n)&&function ra(t,n,o,a,c,h,m,y){const D=Po(n,o);let j,x=n.inputs;!y&&null!=x&&(j=x[a])?(Xp(t,o,j,a,c),is(n)&&function qp(t,n){const o=fi(n,t);16&o[Nn]||(o[Nn]|=64)}(o,n.index)):3&n.type&&(a=function r0(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,n.value||"",a):c,h.setProperty(D,a,c))}(vr(),sr(),a,t,n,a[A],o,!1),cv}function _y(t,n,o,a,c){const m=c?"class":"style";Xp(t,o,n.inputs[m],m,a)}function hg(t,n){return function Dl(t,n,o,a){const c=ut(),h=vr(),m=function Ns(t){const n=dt.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}(2);h.firstUpdatePass&&function L0(t,n,o,a){const c=t.data;if(null===c[o+1]){const h=c[tr()],m=function dv(t,n){return n>=t.expandoStartIndex}(t,o);(function gv(t,n){return 0!=(t.flags&(n?8:16))})(h,a)&&null===n&&!m&&(n=!1),n=function hv(t,n,o,a){const c=function w(t){const n=dt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(o=Od(o=gf(null,t,n,o,a),n.attrs,a),h=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==c)if(o=gf(c,t,n,o,a),null===h){let D=function fg(t,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==Ca(a))return t[xu(a)]}(t,n,a);void 0!==D&&Array.isArray(D)&&(D=gf(null,t,n,D[1],a),D=Od(D,n.attrs,a),function V0(t,n,o,a){t[xu(o?n.classBindings:n.styleBindings)]=a}(t,n,a,D))}else h=function $0(t,n,o){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=Od(a,t[h].hostAttrs,o);return Od(a,n.attrs,o)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),o}(c,h,n,a),function A0(t,n,o,a,c,h){let m=h?n.classBindings:n.styleBindings,y=xu(m),D=Ca(m);t[a]=o;let j,x=!1;if(Array.isArray(o)?(j=o[1],(null===j||Ll(o,j)>0)&&(x=!0)):j=o,c)if(0!==D){const Te=xu(t[y+1]);t[a+1]=ff(Te,y),0!==Te&&(t[Te+1]=pf(t[Te+1],a)),t[y+1]=function fy(t,n){return 131071&t|n<<17}(t[y+1],a)}else t[a+1]=ff(y,0),0!==y&&(t[y+1]=pf(t[y+1],a)),y=a;else t[a+1]=ff(D,0),0===y?y=a:t[D+1]=pf(t[D+1],a),D=a;x&&(t[a+1]=av(t[a+1])),R0(t,j,a,!0),R0(t,j,a,!1),function S0(t,n,o,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&Ll(h,n)>=0&&(o[a+1]=lv(o[a+1]))}(n,j,t,a,h),m=ff(y,D),h?n.classBindings=m:n.styleBindings=m}(c,h,n,o,m,a)}}(h,t,m,a),n!==hr&&oo(c,m,n)&&function Iy(t,n,o,a,c,h,m,y){if(!(3&n.type))return;const D=t.data,x=D[y+1],j=function MD(t){return 1==(1&t)}(x)?pv(D,n,o,c,Ca(x),m):void 0;_c(j)||(_c(h)||function hy(t){return 2==(2&t)}(x)&&(h=pv(D,null,o,c,y,m)),function Ph(t,n,o,a,c){if(n)c?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:ql.DashCase;null==c?t.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=ql.Important),t.setStyle(o,a,c,h))}}(a,m,function Al(t,n){return hi(n[t])}(tr(),o),c,h))}(h,h.data[tr()],c,c[A],t,c[m+1]=function U0(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=fn(za(t)))),t}(n,o),a,m)}(t,n,null,!0),hg}function gf(t,n,o,a,c){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=n[y],a=Od(a,h.hostAttrs,c),h!==t);)y++;return null!==t&&(o.directiveStylingLast=y),a}function Od(t,n,o){const a=o?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),No(t,m,!!o||n[++h]))}return void 0===t?null:t}function pv(t,n,o,a,c,h){const m=null===n;let y;for(;c>0;){const D=t[c],x=Array.isArray(D),j=x?D[1]:D,q=null===j;let Te=o[c+1];Te===hr&&(Te=q?ir:void 0);let Ge=q?pu(Te,a):j===a?Te:void 0;if(x&&!_c(Ge)&&(Ge=pu(D,a)),_c(Ge)&&(y=Ge,m))return y;const vt=t[c+1];c=m?xu(vt):Ca(vt)}if(null!==n){let D=h?n.residualClasses:n.residualStyles;null!=D&&(y=pu(D,a))}return y}function _c(t){return void 0!==t}function wf(t,n){return!n||null===n.firstChild||ap(t)}function bf(t,n,o,a=!0){const c=n[Yt];if(function TI(t,n,o,a){const c=si+a,h=o.length;a>0&&(o[c-1][zi]=n),a<h-si?(n[zi]=o[c],Mr(o,si+a,n)):(o.push(n),n[zi]=null),n[Or]=o;const m=n[Rn];null!==m&&o!==m&&function e_(t,n){const o=t[zo];n[Rt]!==n[Or][Or][Rt]&&(t[Nn]|=To.HasTransplantedViews),null===o?t[zo]=[n]:o.push(n)}(m,n);const y=n[ti];null!==y&&y.insertView(t),Tn(n),n[Nn]|=128}(c,n,t,o),a){const m=Xg(o,t),y=n[A],D=gl(y,t[Co]);null!==D&&function CI(t,n,o,a,c,h){a[Vr]=c,a[yi]=n,rd(t,a,o,1,c,h)}(c,t[yi],y,n,D,m)}const h=n[Do];null!==h&&null!==h.firstChild&&(h.firstChild=null)}let yv=(()=>{class n{}return n.__NG_ELEMENT_ID__=qD,n})();function qD(){return rE(rn(),ut())}const YD=yv,tE=class extends YD{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return bu(this._hostTNode,this._hostLView)}get injector(){return new Ai(this._hostTNode,this._hostLView)}get parentInjector(){const n=ga(this._hostTNode,this._hostLView);if(Oc(n)){const o=rl(n,this._hostLView),a=Nl(n);return new Ai(o[Yt].data[a+8],o)}return new Ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=nE(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-si}createEmbeddedView(n,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const y=n.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(y,c,wf(this._hostTNode,null)),y}createComponent(n,o,a,c,h){var m,D;const x=n&&!function fu(t){return"function"==typeof t}(n);let j;if(x)j=o;else{const gn=o||{};j=gn.index,a=gn.injector,c=gn.projectableNodes,h=gn.environmentInjector||gn.ngModuleRef}const q=x?n:new Rd(or(n)),Te=a||this.parentInjector;if(!h&&null==q.ngModule){const kt=(x?Te:this.parentInjector).get(ta,null);kt&&(h=kt)}const Ge=or(null!==(m=q.componentType)&&void 0!==m?m:{}),vt=(null==Ge?void 0:Ge.id,null),Lt=null!==(D=null==vt?void 0:vt.firstChild)&&void 0!==D?D:null,Kt=q.create(Te,c,Lt,h);return this.insertImpl(Kt.hostView,j,wf(this._hostTNode,vt)),Kt}insert(n,o){return this.insertImpl(n,o,!0)}insertImpl(n,o,a){const c=n._lView;if(function Gd(t){return ci(t[Or])}(c)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const D=c[Or],x=new tE(D,D[yi],D[Or]);x.detach(x.indexOf(n))}}const h=this._adjustIndex(o),m=this._lContainer;return bf(m,c,h,a),n.attachToViewContainerRef(),Mr(Ly(m),h,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=nE(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=Yl(this._lContainer,o);a&&($r(Ly(this._lContainer),o),Kl(a[Yt],a))}detach(n){const o=this._adjustIndex(n,-1),a=Yl(this._lContainer,o);return a&&null!=$r(Ly(this._lContainer),o)?new Td(a):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function nE(t){return t[8]}function Ly(t){return t[8]||(t[8]=[])}function rE(t,n){let o;const a=n[t.index];return ci(a)?o=a:(o=j_(a,n,null,t),n[t.index]=o,Qp(n,o)),iE(o,n,t,a),new tE(o,t,n)}let iE=function $y(t,n,o,a){if(t[Co])return;let c;c=8&o.type?hi(a):function KD(t,n){const o=t[A],a=o.createComment(""),c=Po(n,t);return pl(o,gl(o,c),a,function bI(t,n){return t.nextSibling(n)}(o,c),!1),a}(n,o),t[Co]=c},Vy=(t,n,o)=>!1;function Af(t,n,o,a,c,h,m,y){const D=ut(),x=vr(),j=t+zn,q=x.firstCreatePass?function JD(t,n,o,a,c,h,m,y,D){const x=n.consts,j=hc(n,t,4,m||null,Ft(x,y));ef(n,o,j,Ft(x,D)),Pl(n,j);const q=j.tView=Qh(2,j,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,x,null);return null!==n.queries&&(n.queries.template(n,j),q.queries=n.queries.embeddedTView(j)),j}(j,x,D,n,o,a,c,h,m):x.data[j];Go(q,!1);const Te=sE(x,D,q,t);Es()&&Rh(x,D,Te,q),Zo(Te,D);const Ge=j_(Te,D,Te,q);return D[j]=Ge,Qp(D,Ge),function oE(t,n,o){return Vy(t,n,o)}(Ge,q,D),Ka(q)&&Zh(x,D,q),null!=m&&Lm(D,q,y),Af}let sE=function aE(t,n,o,a){return Zs(!0),n[A].createComment("")};function Xy(t,n,o,a){const c=ut(),h=vr(),m=zn+t,y=c[A],D=h.firstCreatePass?function yb(t,n,o,a,c,h){const m=n.consts,D=hc(n,t,2,a,Ft(m,c));return ef(n,o,D,Ft(m,h)),null!==D.attrs&&Ad(D,D.attrs,!1),null!==D.mergedAttrs&&Ad(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(m,h,c,n,o,a):h.data[m],x=wC(h,c,D,y,n,t);c[m]=x;const j=Ka(D);return Go(D,!0),i_(y,x,D),32!=(32&D.flags)&&Es()&&Rh(h,c,x,D),0===function Rg(){return dt.lFrame.elementDepthCount}()&&Zo(x,c),function ku(){dt.lFrame.elementDepthCount++}(),j&&(Zh(h,c,D),Fm(h,D,c)),null!==a&&Lm(c,D),Xy}function Jy(){let t=rn();Xr()?an():(t=t.parent,Go(t,!1));const n=t;(function bc(t){return dt.skipHydrationRootTNode===t})(n)&&function Ac(){dt.skipHydrationRootTNode=null}(),function Wd(){dt.lFrame.elementDepthCount--}();const o=vr();return o.firstCreatePass&&(Pl(o,t),ca(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ff(t){return 0!=(8&t.flags)}(n)&&_y(o,n,ut(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function xg(t){return 0!=(16&t.flags)}(n)&&_y(o,n,ut(),n.stylesWithoutHost,!1),Jy}function DE(t,n,o,a){return Xy(t,n,o,a),Jy(),DE}let wC=(t,n,o,a,c,h)=>(Zs(!0),Ah(a,c,function Mc(){return dt.lFrame.currentNamespace}()));function CE(t,n,o){const a=ut(),c=vr(),h=t+zn,m=c.firstCreatePass?function Db(t,n,o,a,c){const h=n.consts,m=Ft(h,a),y=hc(n,t,8,"ng-container",m);return null!==m&&Ad(y,m,!0),ef(n,o,y,Ft(h,c)),null!==n.queries&&n.queries.elementStart(n,y),y}(h,c,a,n,o):c.data[h];Go(m,!0);const y=bC(c,a,m,t);return a[h]=y,Es()&&Rh(c,a,y,m),Zo(y,a),Ka(m)&&(Zh(c,a,m),Fm(c,m,a)),null!=o&&Lm(a,m),CE}function TE(){let t=rn();const n=vr();return Xr()?an():(t=t.parent,Go(t,!1)),n.firstCreatePass&&(Pl(n,t),ca(t)&&n.queries.elementEnd(t)),TE}function wE(t,n,o){return CE(t,n,o),TE(),wE}let bC=(t,n,o,a)=>(Zs(!0),bh(n[A],""));const xf=void 0;var Ab=["en",[["a","p"],["AM","PM"],xf],[["AM","PM"],xf,xf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xf,"{1} 'at' {0}",xf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bb(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Eg={};function bE(t){const n=function Sb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=MC(n);if(o)return o;const a=n.split("-")[0];if(o=MC(a),o)return o;if("en"===a)return Ab;throw new Bt(701,!1)}function RC(t){return bE(t)[Dg.PluralCase]}function MC(t){return t in Eg||(Eg[t]=me.ng&&me.ng.common&&me.ng.common.locales&&me.ng.common.locales[t]),Eg[t]}var Dg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Dg||{});const Cg="en-US";let PC=Cg;function RE(t){return!!t&&"function"==typeof t.then}function nT(t){return!!t&&"function"==typeof t.subscribe}function ME(t,n,o,a){const c=ut(),h=vr(),m=rn();return function iT(t,n,o,a,c,h,m){const y=Ka(a),x=t.firstCreatePass&&Ym(t),j=n[jn],q=z_(n);let Te=!0;if(3&a.type||m){const Lt=Po(a,n),Kt=m?m(Lt):Lt,gn=q.length,kt=m?yr=>m(hi(yr[a.index])):a.index;let ar=null;if(!m&&y&&(ar=function DA(t,n,o,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===a){const y=n[ps],D=c[h+2];return y.length>D?y[D]:null}"string"==typeof m&&(h+=2)}return null}(t,n,c,a.index)),null!==ar)(ar.__ngLastListenerFn__||ar).__ngNextListenerFn__=h,ar.__ngLastListenerFn__=h,Te=!1;else{h=sT(a,n,j,h,!1);const yr=o.listen(Kt,c,h);q.push(h,yr),x&&x.push(c,kt,gn,gn+1)}}else h=sT(a,n,j,h,!1);const Ge=a.outputs;let vt;if(Te&&null!==Ge&&(vt=Ge[c])){const Lt=vt.length;if(Lt)for(let Kt=0;Kt<Lt;Kt+=2){const ei=n[vt[Kt]][vt[Kt+1]].subscribe(h),ds=q.length;q.push(h,ei),x&&x.push(c,a.index,ds,-(ds+1))}}}(h,c,c[A],m,t,n,a),ME}function oT(t,n,o,a){try{return Fi(6,n,o),!1!==o(a)}catch(c){return Dd(t,c),!1}finally{Fi(7,n,o)}}function sT(t,n,o,a,c){return function h(m){if(m===Function)return a;Su(t.componentOffset>-1?fi(t.index,n):n);let D=oT(n,o,a,m),x=h.__ngNextListenerFn__;for(;x;)D=oT(n,o,x,m)&&D,x=x.__ngNextListenerFn__;return c&&!1===D&&m.preventDefault(),D}}function aT(t=1){return function ni(t){return(dt.lFrame.contextLView=function Nu(t,n){for(;t>0;)n=n[_e],t--;return n}(t,dt.lFrame.contextLView))[jn]}(t)}function CA(t,n){let o=null;const a=function es(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===a?bs(t,h,!0):Tl(a,h))return c}else o=c}return o}function lT(t){const n=ut()[Rt][yi];if(!n.projection){const a=n.projection=va(t?t.length:1,null),c=a.slice();let h=n.child;for(;null!==h;){const m=t?CA(h,t):0;null!==m&&(c[m]?c[m].projectionNext=h:a[m]=h,c[m]=h),h=h.next}}}function uT(t,n=0,o){const a=ut(),c=vr(),h=hc(c,zn+t,16,null,o||null);null===h.projection&&(h.projection=n),an(),(!a[Do]||pa())&&32!=(32&h.flags)&&function AI(t,n,o){tm(n[A],0,n,o,vp(t,o,n),nc(o.parent||n[yi],o,n))}(c,a,h)}function ST(t,n=""){const o=ut(),a=vr(),c=t+zn,h=a.firstCreatePass?hc(a,c,1,n,null):a.data[c],m=RT(a,o,h,n,t);o[c]=m,Es()&&Rh(a,o,m,h),Go(h,!1)}let RT=(t,n,o,a,c)=>(Zs(!0),function wh(t,n){return t.createText(n)}(n[A],a));function OE(t,n,o,a,c){if(t=Ut(t),Array.isArray(t))for(let h=0;h<t.length;h++)OE(t[h],n,o,a,c);else{const h=vr(),m=ut(),y=rn();let D=Ba(t)?t:Ut(t.provide);const x=lh(t),j=1048575&y.providerIndexes,q=y.directiveStart,Te=y.providerIndexes>>20;if(Ba(t)||!t.multi){const Ge=new Lu(x,c,md),vt=kE(D,n,c?j:j+Te,q);-1===vt?(Oo(Qi(y,m),h,D),NE(h,t,n.length),n.push(D),y.directiveStart++,y.directiveEnd++,c&&(y.providerIndexes+=1048576),o.push(Ge),m.push(Ge)):(o[vt]=Ge,m[vt]=Ge)}else{const Ge=kE(D,n,j+Te,q),vt=kE(D,n,j,j+Te),Kt=vt>=0&&o[vt];if(c&&!Kt||!c&&!(Ge>=0&&o[Ge])){Oo(Qi(y,m),h,D);const gn=function BA(t,n,o,a,c){const h=new Lu(t,o,md);return h.multi=[],h.index=n,h.componentProviders=0,$T(h,c,a&&!o),h}(c?$A:VA,o.length,c,a,x);!c&&Kt&&(o[vt].providerFactory=gn),NE(h,t,n.length,0),n.push(D),y.directiveStart++,y.directiveEnd++,c&&(y.providerIndexes+=1048576),o.push(gn),m.push(gn)}else NE(h,t,Ge>-1?Ge:vt,$T(o[c?vt:Ge],x,!c&&a));!c&&a&&Kt&&o[vt].componentProviders++}}}function NE(t,n,o,a){const c=Ba(n),h=function ep(t){return!!t.useClass}(n);if(c||h){const D=(h?Ut(n.useClass):n).prototype.ngOnDestroy;if(D){const x=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const j=x.indexOf(o);-1===j?x.push(o,[a,D]):x[j+1].push(a,D)}else x.push(o,D)}}}function $T(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function kE(t,n,o,a){for(let c=o;c<a;c++)if(n[c]===t)return c;return-1}function VA(t,n,o,a){return FE(this.multi,[])}function $A(t,n,o,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=Fs(o,o[Yt],this.providerFactory.index,a);h=y.slice(0,m),FE(c,h);for(let D=m;D<y.length;D++)h.push(y[D])}else h=[],FE(c,h);return h}function FE(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function BT(t,n=[]){return o=>{o.providersResolver=(a,c)=>function LA(t,n,o){const a=vr();if(a.firstCreatePass){const c=fo(t);OE(o,a.data,a.blueprint,c,!0),OE(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}class Of{}class UT{}function UA(t,n){return new LE(t,null!=n?n:null,[])}class LE extends Of{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sd(this);const c=xi(n);this._bootstrapComponents=F(c.bootstrap),this._r3Injector=ch(n,o,[{provide:Of,useValue:this},{provide:zh,useValue:this.componentFactoryResolver},...a],fn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class VE extends UT{constructor(n){super(),this.moduleType=n}create(n){return new LE(this.moduleType,n,[])}}class jT extends Of{constructor(n){super(),this.componentFactoryResolver=new Sd(this),this.instance=null;const o=new Ko([...n.providers,{provide:Of,useValue:this},{provide:zh,useValue:this.componentFactoryResolver}],n.parent||Yc(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function HT(t,n,o=null){return new jT({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let HA=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=Ul(0,a.type),h=c.length>0?HT([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Xe({token:t,providedIn:"environment",factory:()=>new t(Z(ta))}),n})();function zT(t){fc("NgStandalone"),t.getStandaloneInjector=n=>n.get(HA).getOrCreateStandaloneInjector(t)}function vS(){return this._results[Symbol.iterator]()}class BE{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new Bs}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=BE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=vS)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){this.dirty=!1;const a=function ss(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Uu(t,n,o){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(this._results,a,o))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Ov=(()=>{class n{}return n.__NG_ELEMENT_ID__=IS,n})();const _S=Ov,yS=class extends _S{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,a){const c=function Tf(t,n,o,a){var c,h;const m=n.tView,x=vd(t,m,o,4096&t[Nn]?4096:16,null,n,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(h=null==a?void 0:a.dehydratedView)&&void 0!==h?h:null);x[Rn]=t[n.index];const q=t[ti];return null!==q&&(x[ti]=q.createEmbeddedView(m)),sg(m,x,o),x}(this._declarationLView,this._declarationTContainer,n,{injector:o,dehydratedView:a});return new Td(c)}};function IS(){return sI(rn(),ut())}function sI(t,n){return 4&t.type?new yS(n,t,bu(t,n)):null}class UE{constructor(n){this.queryList=n,this.matches=null}clone(){return new UE(this.queryList)}setDirty(){this.queryList.setDirty()}}class jE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new jE(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==dw(n,o).matches&&this.queries[o].setDirty()}}class rw{constructor(n,o,a=null){this.predicate=n,this.flags=o,this.read=a}}class HE{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new HE(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class zE{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new zE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,o,ES(o,h)),this.matchTNodeWithReadOption(n,o,ks(o,n,h,!1,!1))}else a===Ov?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,ks(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===cc||c===yv||c===Ov&&4&o.type)this.addMatch(o.index,-2);else{const h=ks(o,n,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function ES(t,n){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function CS(t,n,o,a){return-1===o?function DS(t,n){return 11&t.type?bu(t,n):4&t.type?sI(t,n):null}(n,t):-2===o?function TS(t,n,o){return o===cc?bu(n,t):o===Ov?sI(n,t):o===yv?rE(n,t):void 0}(t,n,a):Fs(t,t[Yt],o,n)}function iw(t,n,o,a){const c=n[ti].queries[a];if(null===c.matches){const h=t.data,m=o.matches,y=[];for(let D=0;D<m.length;D+=2){const x=m[D];y.push(x<0?null:CS(n,h[x],m[D+1],o.metadata.read))}c.matches=y}return c.matches}function GE(t,n,o,a){const c=t.queries.getByIndex(o),h=c.matches;if(null!==h){const m=iw(t,n,c,o);for(let y=0;y<h.length;y+=2){const D=h[y];if(D>0)a.push(m[y/2]);else{const x=h[y+1],j=n[-D];for(let q=si;q<j.length;q++){const Te=j[q];Te[Rn]===Te[Or]&&GE(Te[Yt],Te,x,a)}if(null!==j[zo]){const q=j[zo];for(let Te=0;Te<q.length;Te++){const Ge=q[Te];GE(Ge[Yt],Ge,x,a)}}}}}return a}function ow(t){const n=ut(),o=vr(),a=S();_(a+1);const c=dw(o,a);if(t.dirty&&function Ps(t){return 4==(4&t[Nn])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?GE(o,n,a,[]):iw(o,n,c,a);t.reset(h,dd),t.notifyOnChanges()}return!0}return!1}function sw(t,n,o){const a=vr();a.firstCreatePass&&(cw(a,new rw(t,n,o),-1),2==(2&n)&&(a.staticViewQueries=!0)),uw(a,ut(),n)}function aw(t,n,o,a){const c=vr();if(c.firstCreatePass){const h=rn();cw(c,new rw(n,o,a),h.index),function bS(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}uw(c,ut(),o)}function lw(){return function wS(t,n){return t[ti].queries[n].queryList}(ut(),S())}function uw(t,n,o){const a=new BE(4==(4&o));(function yd(t,n,o,a){const c=z_(n);c.push(o),t.firstCreatePass&&Ym(t).push(a,c.length-1)})(t,n,a,a.destroy),null===n[ti]&&(n[ti]=new jE),n[ti].queries.push(new UE(a))}function cw(t,n,o){null===t.queries&&(t.queries=new HE),t.queries.track(new zE(n,o))}function dw(t,n){return t.queries.getByIndex(n)}class Aw{constructor(n){this.full=n;const o=n.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}const KS=new Aw("17.0.8");let Sw=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();class ZS{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let QS=(()=>{var t;class n{compileModuleSync(a){return new VE(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),m=F(xi(a).declarations).reduce((y,D)=>{const x=or(D);return x&&y.push(new Rd(x)),y},[]);return new ZS(c,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),ZE=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new it.X(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Ow=new ze(""),Nw=new ze("");let XE,DR=(()=>{var t;class n{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,XE||(function CR(t){XE=t}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(Z(Ao),Z(kw),Z(Nw))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),n})(),kw=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,m;return null!==(h=null===(m=XE)||void 0===m?void 0:m.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const Fw=new ze("Application Initializer");let JE=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=X(Fw,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const m=h();if(RE(m))a.push(m);else if(nT(m)){const y=new Promise((D,x)=>{m.subscribe({complete:D,error:x})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const eD=new ze("appBootstrapListener");function $w(t,n){return Array.isArray(n)?n.reduce($w,t):{...t,...n}}let bg=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X($p),this.componentTypes=[],this.components=[],this.isStable=X(ZE).hasPendingTasks.pipe((0,It.U)(a=>!a)),this._injector=X(ta)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof xp;if(!this._injector.get(JE).done)throw!h&&Ti(a),new Bt(405,!1);let y;y=h?a:this._injector.get(zh).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const D=function wR(t){return t.isBoundToModule}(y)?void 0:this._injector.get(Of),j=y.create(Ji.NULL,[],c||y.selector,D),q=j.location.nativeElement,Te=j.injector.get(Ow,null);return null==Te||Te.registerApplication(q),j.onDestroy(()=>{this.detachView(j.hostView),uI(this.components,j),null==Te||Te.unregisterApplication(q)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new Bt(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;uI(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(eD,[]);[...this._bootstrapListeners,...c].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>uI(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Bt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function uI(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}let AR=(()=>{var t;class n{constructor(){this.zone=X(Ao),this.applicationRef=X(bg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function SR(){const t=X(Ao),n=X(Au);return o=>t.runOutsideAngular(()=>n.handleError(o))}let MR=(()=>{var t;class n{constructor(){this.subscription=new at.w0,this.initialized=!1,this.zone=X(Ao),this.pendingTasks=X(ZE)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var c;Ao.assertInAngularZone(),null!==(c=a)&&void 0!==c||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const cI=new ze("LocaleId",{providedIn:"root",factory:()=>X(cI,Bn.Optional|Bn.SkipSelf)||function PR(){return typeof $localize<"u"&&$localize.locale||Cg}()}),xR=new ze("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),tD=new ze("PlatformDestroyListeners");let Hw=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function rg(t="zone.js",n){return"noop"===t?new y0:"zone.js"===t?new Ao(n):t}(null==c?void 0:c.ngZone,function jw(t){var n,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const m=function jA(t,n,o){return new LE(t,n,o)}(a.moduleType,this.injector,function Uw(t){return[{provide:Ao,useFactory:t},{provide:_a,multi:!0,useFactory:()=>{const n=X(AR,{optional:!0});return()=>n.initialize()}},{provide:_a,multi:!0,useFactory:()=>{const n=X(MR);return()=>{n.initialize()}}},{provide:$p,useFactory:SR}]}(()=>h)),y=m.injector.get(Au,null);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:x=>{y.handleError(x)}});m.onDestroy(()=>{uI(this._modules,m),D.unsubscribe()})}),function Vw(t,n,o){try{const a=o();return RE(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(y,h,()=>{const D=m.injector.get(JE);return D.runInitializers(),D.donePromise.then(()=>(function xC(t){Xt(t,"Expected localeId to be defined"),"string"==typeof t&&(PC=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(cI,Cg)||Cg),this._moduleDoBootstrap(m),m))})})}bootstrapModule(a,c=[]){const h=$w({},c);return function TR(t,n,o){const a=new VE(o);return Promise.resolve(a)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const c=a.injector.get(bg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Bt(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Bt(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(tD,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(Z(Ji))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),jd=null;const zw=new ze("AllowMultipleToken");function Gw(t,n,o=[]){const a=`Platform: ${n}`,c=new ze(a);return(h=[])=>{let m=nD();if(!m||m.injector.get(zw,!1)){const y=[...o,...h,{provide:c,useValue:!0}];t?t(y):function NR(t){if(jd&&!jd.get(zw,!1))throw new Bt(400,!1);(function Lw(){!function zt(t){At=t}(()=>{throw new Bt(600,!1)})})(),jd=t;const n=t.get(Hw);(function qw(t){const n=t.get(Jc,null);null==n||n.forEach(o=>o())})(t)}(function Ww(t=[],n){return Ji.create({name:n,providers:[{provide:Wc,useValue:"platform"},{provide:tD,useValue:new Set([()=>jd=null])},...t]})}(y,a))}return function kR(t){const n=nD();if(!n)throw new Bt(401,!1);return n}()}}function nD(){var t,n;return null!==(t=null===(n=jd)||void 0===n?void 0:n.get(Hw))&&void 0!==t?t:null}function LR(){return!1}function VR(){}const HR=Gw(null,"core",[]);let zR=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(Z(bg))},t.\u0275mod=zr({type:t}),t.\u0275inj=on({}),n})();function gM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function vM(t,n){const o=or(t),a=n.elementInjector||Yc();return new Rd(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function _M(t){const n=or(t);if(!n)return null;const o=new Rd(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9949:(Wt,et,N)=>{"use strict";N.d(et,{zQ:()=>qe,ww:()=>Ye,rT:()=>Ae,f7:()=>be,L6:()=>zt,_Q:()=>tt,lh:()=>ue,Qv:()=>tn,nw:()=>ve});var u=N(1180),Q=(N(6230),N(6814)),J=N(9212),Me=N(1920),se=N(7217),pe=N(8645),We=N(2096),je=N(5592),Ie=N(2459),ce=N(7537),Ne=N(4829),$e=N(6232),Re=N(4564),nt=N(3093),xe=N(4664),Le=N(7398),He=N(4552);class ht extends pe.x{constructor(Dt=1/0,bt=1/0,lt=He.l){super(),this._bufferSize=Dt,this._windowTime=bt,this._timestampProvider=lt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=bt===1/0,this._bufferSize=Math.max(1,Dt),this._windowTime=Math.max(1,bt)}next(Dt){const{isStopped:bt,_buffer:lt,_infiniteTimeWindow:Ht,_timestampProvider:Dn,_windowTime:pt}=this;bt||(lt.push(Dt),!Ht&&lt.push(Dn.now()+pt)),this._trimBuffer(),super.next(Dt)}_subscribe(Dt){this._throwIfClosed(),this._trimBuffer();const bt=this._innerSubscribe(Dt),{_infiniteTimeWindow:lt,_buffer:Ht}=this,Dn=Ht.slice();for(let pt=0;pt<Dn.length&&!Dt.closed;pt+=lt?1:2)Dt.next(Dn[pt]);return this._checkFinalizedStatuses(Dt),bt}_trimBuffer(){const{_bufferSize:Dt,_timestampProvider:bt,_buffer:lt,_infiniteTimeWindow:Ht}=this,Dn=(Ht?1:2)*Dt;if(Dt<1/0&&Dn<lt.length&&lt.splice(0,lt.length-Dn),!Ht){const pt=bt.now();let at=0;for(let it=1;it<lt.length&&lt[it]<=pt;it+=2)at=it;at&&lt.splice(0,at+1)}}}var le=N(305),Fe=N(9360);function we(Et,Dt,...bt){if(!0===Dt)return void Et();if(!1===Dt)return;const lt=new le.Hp({next:()=>{lt.unsubscribe(),Et()}});return(0,Ne.Xf)(Dt(...bt)).subscribe(lt)}function ee(Et,Dt,bt){let lt,Ht=!1;return Et&&"object"==typeof Et?({bufferSize:lt=1/0,windowTime:Dt=1/0,refCount:Ht=!1,scheduler:bt}=Et):lt=null!=Et?Et:1/0,function Oe(Et={}){const{connector:Dt=(()=>new pe.x),resetOnError:bt=!0,resetOnComplete:lt=!0,resetOnRefCountZero:Ht=!0}=Et;return Dn=>{let pt,at,it,It=0,$t=!1,mn=!1;const fn=()=>{null==at||at.unsubscribe(),at=void 0},nn=()=>{fn(),pt=it=void 0,$t=mn=!1},Pn=()=>{const vn=pt;nn(),null==vn||vn.unsubscribe()};return(0,Fe.e)((vn,cr)=>{It++,!mn&&!$t&&fn();const Ut=it=null!=it?it:Dt();cr.add(()=>{It--,0===It&&!mn&&!$t&&(at=we(Pn,Ht))}),Ut.subscribe(cr),!pt&&It>0&&(pt=new le.Hp({next:En=>Ut.next(En),error:En=>{mn=!0,fn(),at=we(nn,bt,En),Ut.error(En)},complete:()=>{$t=!0,fn(),at=we(nn,lt),Ut.complete()}}),(0,Ne.Xf)(vn).subscribe(pt))})(Dn)}}({connector:()=>new ht(lt,Dt,bt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ht})}var ge=N(1374),re=N(4674);function ae(Et,Dt){return(0,re.m)(Dt)?(0,xe.w)(()=>Et,Dt):(0,xe.w)(()=>Et)}var Ke=N(5137),Be=N(2181),rt=N(7142);const tn=new J.OlP("angularfire2.auth.use-emulator"),zt=new J.OlP("angularfire2.auth.settings"),tt=new J.OlP("angularfire2.auth.tenant-id"),Ae=new J.OlP("angularfire2.auth.langugage-code"),ue=new J.OlP("angularfire2.auth.use-device-language"),be=new J.OlP("angularfire.auth.persistence"),ve=(Et,Dt,bt,lt,Ht,Dn,pt,at)=>(0,se.cc)(`${Et.name}.auth`,"AngularFireAuth",Et.name,()=>{const it=Dt.runOutsideAngular(()=>Et.auth());if(bt&&it.useEmulator(...bt),lt&&(it.tenantId=lt),it.languageCode=Ht,Dn&&it.useDeviceLanguage(),pt)for(const[It,$t]of Object.entries(pt))it.settings[It]=$t;return at&&it.setPersistence(at),it},[bt,lt,Ht,Dn,pt,at]);let qe=(()=>{var Et;class Dt{constructor(lt,Ht,Dn,pt,at,it,It,$t,mn,fn,nn,Pn){(0,u.Z)(this,"authState",void 0),(0,u.Z)(this,"idToken",void 0),(0,u.Z)(this,"user",void 0),(0,u.Z)(this,"idTokenResult",void 0),(0,u.Z)(this,"credential",void 0);const vn=new pe.x,cr=(0,We.of)(void 0).pipe((0,nt.Q)(at.outsideAngular),(0,xe.w)(()=>pt.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,6230)))),(0,Le.U)(()=>(0,se.on)(lt,pt,Ht)),(0,Le.U)(Ut=>ve(Ut,pt,it,$t,mn,fn,It,nn)),ee({bufferSize:1,refCount:!1}));if((0,Q.PM)(Dn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,We.of)(null);else{cr.pipe((0,ge.P)()).subscribe();const Ut=cr.pipe((0,xe.w)(qn=>qn.getRedirectResult().then(nr=>nr,()=>null)),Me.iC,ee({bufferSize:1,refCount:!1})),En=cr.pipe((0,xe.w)(qn=>new je.y(nr=>({unsubscribe:pt.runOutsideAngular(()=>qn.onAuthStateChanged(Bt=>nr.next(Bt),Bt=>nr.error(Bt),()=>nr.complete()))})))),_n=cr.pipe((0,xe.w)(qn=>new je.y(nr=>({unsubscribe:pt.runOutsideAngular(()=>qn.onIdTokenChanged(Bt=>nr.next(Bt),Bt=>nr.error(Bt),()=>nr.complete()))}))));this.authState=Ut.pipe(ae(En),(0,Ke.R)(at.outsideAngular),(0,nt.Q)(at.insideAngular)),this.user=Ut.pipe(ae(_n),(0,Ke.R)(at.outsideAngular),(0,nt.Q)(at.insideAngular)),this.idToken=this.user.pipe((0,xe.w)(qn=>qn?(0,Ie.D)(qn.getIdToken()):(0,We.of)(null))),this.idTokenResult=this.user.pipe((0,xe.w)(qn=>qn?(0,Ie.D)(qn.getIdTokenResult()):(0,We.of)(null))),this.credential=function Pe(...Et){const Dt=(0,Re.yG)(Et),bt=(0,Re._6)(Et,1/0),lt=Et;return lt.length?1===lt.length?(0,Ne.Xf)(lt[0]):(0,ce.J)(bt)((0,Ie.D)(lt,Dt)):$e.E}(Ut,vn,this.authState.pipe((0,Be.h)(qn=>!qn))).pipe((0,Le.U)(qn=>null!=qn&&qn.user?qn:null),(0,Ke.R)(at.outsideAngular),(0,nt.Q)(at.insideAngular))}return(0,se.pX)(this,cr,pt,{spy:{apply:(Ut,En,_n)=>{(Ut.startsWith("signIn")||Ut.startsWith("createUser"))&&_n.then(qn=>vn.next(qn))}}})}}return Et=Dt,(0,u.Z)(Dt,"\u0275fac",function(lt){return new(lt||Et)(J.LFG(se.Dh),J.LFG(se.xv,8),J.LFG(J.Lbi),J.LFG(J.R0b),J.LFG(Me.HU),J.LFG(tn,8),J.LFG(zt,8),J.LFG(tt,8),J.LFG(Ae,8),J.LFG(ue,8),J.LFG(be,8),J.LFG(Me.Rf,8))}),(0,u.Z)(Dt,"\u0275prov",J.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"any"})),Dt})(),Ye=(()=>{var Et;class Dt{constructor(){rt.Z.registerVersion("angularfire",Me.q4.full,"auth-compat")}}return Et=Dt,(0,u.Z)(Dt,"\u0275fac",function(lt){return new(lt||Et)}),(0,u.Z)(Dt,"\u0275mod",J.oAB({type:Et})),(0,u.Z)(Dt,"\u0275inj",J.cJS({providers:[qe]})),Dt})()},7217:(Wt,et,N)=>{"use strict";N.d(et,{Dh:()=>je,GT:()=>pe,cc:()=>Pe,hO:()=>Re,on:()=>ce,pX:()=>se,xv:()=>Ie});var u=N(1180),U=N(9212),Q=N(1920),J=N(7142);const Me=["ngOnDestroy"],se=(He,ht,le,Fe={})=>new Proxy(He,{get:(Oe,we)=>le.runOutsideAngular(()=>{var ee;if(He[we])return null!=Fe&&null!==(ee=Fe.spy)&&void 0!==ee&&ee.get&&Fe.spy.get(we,He[we]),He[we];if(Me.indexOf(we)>-1)return()=>{};const ge=ht.toPromise().then(re=>{const ae=null==re?void 0:re[we];return"function"==typeof ae?ae.bind(re):null!=ae&&ae.then?ae.then(Ke=>le.run(()=>Ke)):le.run(()=>ae)});return new Proxy(()=>{},{get:(re,ae)=>ge[ae],apply:(re,ae,Ke)=>ge.then(Be=>{var rt;const At=null==Be?void 0:Be(...Ke);return null!=Fe&&null!==(rt=Fe.spy)&&void 0!==rt&&rt.apply&&Fe.spy.apply(we,Ke,At),At})})})}),pe=(He,ht)=>{ht.forEach(le=>{Object.getOwnPropertyNames(le.prototype||le).forEach(Fe=>{Object.defineProperty(He.prototype,Fe,Object.getOwnPropertyDescriptor(le.prototype||le,Fe))})})};class We{constructor(ht){return ht}}const je=new U.OlP("angularfire2.app.options"),Ie=new U.OlP("angularfire2.app.name");function ce(He,ht,le){const Oe="object"==typeof le&&le||{};Oe.name=Oe.name||"string"==typeof le&&le||"[DEFAULT]";const ee=J.Z.apps.filter(ge=>ge&&ge.name===Oe.name)[0]||ht.runOutsideAngular(()=>J.Z.initializeApp(He,Oe));try{if(JSON.stringify(He)!==JSON.stringify(ee.options)){const ge=!!module.hot;Ne("error",`${ee.name} Firebase App already initialized with different options${ge?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new We(ee)}const Ne=(He,...ht)=>{(0,U.X6Q)()&&typeof console<"u"&&console[He](...ht)},$e={provide:We,useFactory:ce,deps:[je,U.R0b,[new U.FiY,Ie]]};let Re=(()=>{var He;class ht{static initializeApp(Fe,Oe){return{ngModule:ht,providers:[{provide:je,useValue:Fe},{provide:Ie,useValue:Oe}]}}constructor(Fe){J.Z.registerVersion("angularfire",Q.q4.full,"core"),J.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),J.Z.registerVersion("angular",U.q4F.full,Fe.toString())}}return He=ht,(0,u.Z)(ht,"\u0275fac",function(Fe){return new(Fe||He)(U.LFG(U.Lbi))}),(0,u.Z)(ht,"\u0275mod",U.oAB({type:He})),(0,u.Z)(ht,"\u0275inj",U.cJS({providers:[$e]})),ht})();function Pe(He,ht,le,Fe,Oe){const[,we,ee]=globalThis.\u0275AngularfireInstanceCache.find(ge=>ge[0]===He)||[];if(we)return function nt(He,ht){try{return He.toString()===ht.toString()}catch{return He===ht}}(Oe,ee)||(Le("error",`${ht} was already initialized on the ${le} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:Oe,was:ee})),we;{const ge=Fe();return globalThis.\u0275AngularfireInstanceCache.push([He,ge,Oe]),ge}}const xe=typeof module<"u"&&!!module.hot,Le=(He,...ht)=>{(0,U.X6Q)()&&typeof console<"u"&&console[He](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1920:(Wt,et,N)=>{"use strict";N.d(et,{q4:()=>Pe,iC:()=>Be,HU:()=>we,Rf:()=>He,vb:()=>Le,JM:()=>xe,u3:()=>tn});var u=N(1180),U=N(9212),Q=N(3182),J=N(1954),se=N(2631);const We=new class pe extends se.v{}(class Me extends J.o{constructor(tt,Ae){super(tt,Ae),this.scheduler=tt,this.work=Ae}schedule(tt,Ae=0){return Ae>0?super.schedule(tt,Ae):(this.delay=Ae,this.state=tt,this.scheduler.flush(this),this)}execute(tt,Ae){return Ae>0||this.closed?super.execute(tt,Ae):this._execute(tt,Ae)}requestAsyncId(tt,Ae,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(tt,Ae,ue):(tt.flush(this),0)}});var Ie=N(6321),ce=N(5592),Ne=N(9397),$e=N(5137),Re=N(3093);const Pe=new U.GfV("ANGULARFIRE2_VERSION");function xe(zt,tt,Ae){if(tt){if(1===tt.length)return tt[0];const ve=tt.filter(qe=>qe.app===Ae);if(1===ve.length)return ve[0]}return Ae.container.getProvider(zt).getImmediate({optional:!0})}const Le=(zt,tt)=>{const Ae=tt?[tt]:(0,Q.C6)(),ue=[];return Ae.forEach(be=>{be.container.getProvider(zt).instances.forEach(qe=>{ue.includes(qe)||ue.push(qe)})}),ue};class He{constructor(){return Le(ht)}}const ht="app-check";function le(){}class Fe{constructor(tt,Ae=We){(0,u.Z)(this,"zone",void 0),(0,u.Z)(this,"delegate",void 0),this.zone=tt,this.delegate=Ae}now(){return this.delegate.now()}schedule(tt,Ae,ue){const be=this.zone;return this.delegate.schedule(function(qe){be.runGuarded(()=>{tt.apply(this,[qe])})},Ae,ue)}}class Oe{constructor(tt){(0,u.Z)(this,"zone",void 0),(0,u.Z)(this,"task",null),this.zone=tt}call(tt,Ae){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",le,{},le,le)),Ae.pipe((0,Ne.b)({next:ue,complete:ue,error:ue})).subscribe(tt).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let we=(()=>{var zt;class tt{constructor(ue){(0,u.Z)(this,"ngZone",void 0),(0,u.Z)(this,"outsideAngular",void 0),(0,u.Z)(this,"insideAngular",void 0),this.ngZone=ue,this.outsideAngular=ue.runOutsideAngular(()=>new Fe(Zone.current)),this.insideAngular=ue.run(()=>new Fe(Zone.current,Ie.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return zt=tt,(0,u.Z)(tt,"\u0275fac",function(ue){return new(ue||zt)(U.LFG(U.R0b))}),(0,u.Z)(tt,"\u0275prov",U.Yz7({token:zt,factory:zt.\u0275fac,providedIn:"root"})),tt})();function ee(){const zt=globalThis.\u0275AngularFireScheduler;if(!zt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return zt}function re(zt){return ee().ngZone.run(()=>zt())}function Be(zt){return function rt(zt){return function(Ae){return(Ae=Ae.lift(new Oe(zt.ngZone))).pipe((0,$e.R)(zt.outsideAngular),(0,Re.Q)(zt.insideAngular))}}(ee())(zt)}const At=(zt,tt)=>function(){const ue=arguments;return tt&&setTimeout(()=>{"scheduled"===tt.state&&tt.invoke()},10),re(()=>zt.apply(void 0,ue))},tn=(zt,tt)=>function(){let Ae;const ue=arguments;for(let ve=0;ve<arguments.length;ve++)"function"==typeof ue[ve]&&(tt&&(Ae||(Ae=re(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",le,{},le,le)))),ue[ve]=At(ue[ve],Ae));const be=function ge(zt){return ee().ngZone.runOutsideAngular(()=>zt())}(()=>zt.apply(this,ue));if(!tt){if(be instanceof ce.y){const ve=ee();return be.pipe((0,$e.R)(ve.outsideAngular),(0,Re.Q)(ve.insideAngular))}return re(()=>be)}return be instanceof ce.y?be.pipe(Be):be instanceof Promise?re(()=>new Promise((ve,qe)=>be.then(Ye=>re(()=>ve(Ye)),Ye=>re(()=>qe(Ye))))):"function"==typeof be&&Ae?function(){return setTimeout(()=>{Ae&&"scheduled"===Ae.state&&Ae.invoke()},10),be.apply(this,arguments)}:re(()=>be)}},95:(Wt,et,N)=>{"use strict";N.d(et,{u5:()=>jn,Fd:()=>zs,qQ:()=>uo,Cf:()=>we,JU:()=>Pe,a5:()=>Pn,JJ:()=>En,On:()=>dn});var u=N(9212),U=N(6814),Q=N(2459),J=N(5592),Me=N(7453),se=N(4829),pe=N(4564),We=N(8251),je=N(7400),Ie=N(2714),Ne=N(7398);let $e=(()=>{var V;class A{constructor($,_e){this._renderer=$,this._elementRef=_e,this.onChange=Rt=>{},this.onTouched=()=>{}}setProperty($,_e){this._renderer.setProperty(this._elementRef.nativeElement,$,_e)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return(V=A).\u0275fac=function($){return new($||V)(u.Y36(u.Qsj),u.Y36(u.SBq))},V.\u0275dir=u.lG2({type:V}),A})(),Re=(()=>{var V;class A extends $e{}return(V=A).\u0275fac=(()=>{let ne;return function(_e){return(ne||(ne=u.n5z(V)))(_e||V)}})(),V.\u0275dir=u.lG2({type:V,features:[u.qOj]}),A})();const Pe=new u.OlP("NgValueAccessor"),Le={provide:Pe,useExisting:(0,u.Gpc)(()=>le),multi:!0},ht=new u.OlP("CompositionEventMode");let le=(()=>{var V;class A extends $e{constructor($,_e,Rt){super($,_e),this._compositionMode=Rt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function He(){const V=(0,U.q)()?(0,U.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue($){this.setProperty("value",null==$?"":$)}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return(V=A).\u0275fac=function($){return new($||V)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ht,8))},V.\u0275dir=u.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,_e){1&$&&u.NdJ("input",function(Rn){return _e._handleInput(Rn.target.value)})("blur",function(){return _e.onTouched()})("compositionstart",function(){return _e._compositionStart()})("compositionend",function(Rn){return _e._compositionEnd(Rn.target.value)})},features:[u._Bn([Le]),u.qOj]}),A})();function Fe(V){return null==V||("string"==typeof V||Array.isArray(V))&&0===V.length}const we=new u.OlP("NgValidators"),ee=new u.OlP("NgAsyncValidators");function Ae(V){return null}function ue(V){return null!=V}function be(V){return(0,u.QGY)(V)?(0,Q.D)(V):V}function ve(V){let A={};return V.forEach(ne=>{A=null!=ne?{...A,...ne}:A}),0===Object.keys(A).length?null:A}function qe(V,A){return A.map(ne=>ne(V))}function Et(V){return V.map(A=>function Ye(V){return!V.validate}(A)?A:ne=>A.validate(ne))}function bt(V){return null!=V?function Dt(V){if(!V)return null;const A=V.filter(ue);return 0==A.length?null:function(ne){return ve(qe(ne,A))}}(Et(V)):null}function Ht(V){return null!=V?function lt(V){if(!V)return null;const A=V.filter(ue);return 0==A.length?null:function(ne){return function ce(...V){const A=(0,pe.jO)(V),{args:ne,keys:$}=(0,Me.D)(V),_e=new J.y(Rt=>{const{length:Rn}=ne;if(!Rn)return void Rt.complete();const Nr=new Array(Rn);let ti=Rn,Gi=Rn;for(let ho=0;ho<Rn;ho++){let oi=!1;(0,se.Xf)(ne[ho]).subscribe((0,We.x)(Rt,gs=>{oi||(oi=!0,Gi--),Nr[ho]=gs},()=>ti--,void 0,()=>{(!ti||!oi)&&(Gi||Rt.next($?(0,Ie.n)($,Nr):Nr),Rt.complete())}))}});return A?_e.pipe((0,je.Z)(A)):_e}(qe(ne,A).map(be)).pipe((0,Ne.U)(ve))}}(Et(V)):null}function Dn(V,A){return null===V?[A]:Array.isArray(V)?[...V,A]:[V,A]}function it(V){return V?Array.isArray(V)?V:[V]:[]}function It(V,A){return Array.isArray(V)?V.includes(A):V===A}function $t(V,A){const ne=it(A);return it(V).forEach(_e=>{It(ne,_e)||ne.push(_e)}),ne}function mn(V,A){return it(A).filter(ne=>!It(V,ne))}class fn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=bt(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A=void 0){this.control&&this.control.reset(A)}hasError(A,ne){return!!this.control&&this.control.hasError(A,ne)}getError(A,ne){return this.control?this.control.getError(A,ne):null}}class nn extends fn{get formDirective(){return null}get path(){return null}}class Pn extends fn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vn{constructor(A){this._cd=A}get isTouched(){var A;return!(null===(A=this._cd)||void 0===A||null===(A=A.control)||void 0===A||!A.touched)}get isUntouched(){var A;return!(null===(A=this._cd)||void 0===A||null===(A=A.control)||void 0===A||!A.untouched)}get isPristine(){var A;return!(null===(A=this._cd)||void 0===A||null===(A=A.control)||void 0===A||!A.pristine)}get isDirty(){var A;return!(null===(A=this._cd)||void 0===A||null===(A=A.control)||void 0===A||!A.dirty)}get isValid(){var A;return!(null===(A=this._cd)||void 0===A||null===(A=A.control)||void 0===A||!A.valid)}get isInvalid(){var A;return!(null===(A=this._cd)||void 0===A||null===(A=A.control)||void 0===A||!A.invalid)}get isPending(){var A;return!(null===(A=this._cd)||void 0===A||null===(A=A.control)||void 0===A||!A.pending)}get isSubmitted(){var A;return!(null===(A=this._cd)||void 0===A||!A.submitted)}}let En=(()=>{var V;class A extends vn{constructor($){super($)}}return(V=A).\u0275fac=function($){return new($||V)(u.Y36(Pn,2))},V.\u0275dir=u.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,_e){2&$&&u.ekj("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)},features:[u.qOj]}),A})();const jr="VALID",Kr="INVALID",mr="PENDING",ai="DISABLED";function he(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}class Gt{constructor(A,ne){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(A),this._assignAsyncValidators(ne)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===jr}get invalid(){return this.status===Kr}get pending(){return this.status==mr}get disabled(){return this.status===ai}get enabled(){return this.status!==ai}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._assignValidators(A)}setAsyncValidators(A){this._assignAsyncValidators(A)}addValidators(A){this.setValidators($t(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators($t(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators(mn(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators(mn(A,this._rawAsyncValidators))}hasValidator(A){return It(this._rawValidators,A)}hasAsyncValidator(A){return It(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ne=>{ne.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ne=>{ne.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=mr,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const ne=this._parentMarkedDirty(A.onlySelf);this.status=ai,this.errors=null,this._forEachChild($=>{$.disable({...A,onlySelf:!0})}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...A,skipPristineCheck:ne}),this._onDisabledChange.forEach($=>$(!0))}enable(A={}){const ne=this._parentMarkedDirty(A.onlySelf);this.status=jr,this._forEachChild($=>{$.enable({...A,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors({...A,skipPristineCheck:ne}),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}getRawValue(){return this.value}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jr||this.status===mr)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(ne=>ne._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ai:jr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=mr,this._hasOwnPendingAsyncValidator=!0;const ne=be(this.asyncValidator(this));this._asyncValidationSubscription=ne.subscribe($=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,ne={}){this.errors=A,this._updateControlsErrors(!1!==ne.emitEvent)}get(A){let ne=A;return null==ne||(Array.isArray(ne)||(ne=ne.split(".")),0===ne.length)?null:ne.reduce(($,_e)=>$&&$._find(_e),this)}getError(A,ne){const $=ne?this.get(ne):this;return $&&$.errors?$.errors[A]:null}hasError(A,ne){return!!this.getError(A,ne)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?ai:this.errors?Kr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mr)?mr:this._anyControlsHaveStatus(Kr)?Kr:jr}_anyControlsHaveStatus(A){return this._anyControls(ne=>ne.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){he(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(A){return null}_assignValidators(A){this._rawValidators=Array.isArray(A)?A.slice():A,this._composedValidatorFn=function H(V){return Array.isArray(V)?bt(V):V||null}(this._rawValidators)}_assignAsyncValidators(A){this._rawAsyncValidators=Array.isArray(A)?A.slice():A,this._composedAsyncValidatorFn=function de(V){return Array.isArray(V)?Ht(V):V||null}(this._rawAsyncValidators)}}const Pr=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Bi}),Bi="always";function Xe(V,A,ne=Bi){var $,_e;(function Cn(V,A){const ne=function pt(V){return V._rawValidators}(V);null!==A.validator?V.setValidators(Dn(ne,A.validator)):"function"==typeof ne&&V.setValidators([ne]);const $=function at(V){return V._rawAsyncValidators}(V);null!==A.asyncValidator?V.setAsyncValidators(Dn($,A.asyncValidator)):"function"==typeof $&&V.setAsyncValidators([$]);const _e=()=>V.updateValueAndValidity();on(A._rawValidators,_e),on(A._rawAsyncValidators,_e)})(V,A),A.valueAccessor.writeValue(V.value),(V.disabled||"always"===ne)&&(null===($=(_e=A.valueAccessor).setDisabledState)||void 0===$||$.call(_e,V.disabled)),function Dr(V,A){A.valueAccessor.registerOnChange(ne=>{V._pendingValue=ne,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&Cr(V,A)})}(V,A),function _i(V,A){const ne=($,_e)=>{A.valueAccessor.writeValue($),_e&&A.viewToModelUpdate($)};V.registerOnChange(ne),A._registerOnDestroy(()=>{V._unregisterOnChange(ne)})}(V,A),function rr(V,A){A.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&Cr(V,A),"submit"!==V.updateOn&&V.markAsTouched()})}(V,A),function Sn(V,A){if(A.valueAccessor.setDisabledState){const ne=$=>{A.valueAccessor.setDisabledState($)};V.registerOnDisabledChange(ne),A._registerOnDestroy(()=>{V._unregisterOnDisabledChange(ne)})}}(V,A)}function on(V,A){V.forEach(ne=>{ne.registerOnValidatorChange&&ne.registerOnValidatorChange(A)})}function Cr(V,A){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function Fn(V,A){const ne=V.indexOf(A);ne>-1&&V.splice(ne,1)}function xr(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}const L=class extends Gt{constructor(A=null,ne,$){super(function te(V){return(he(V)?V.validators:V)||null}(ne),function oe(V,A){return(he(A)?A.asyncValidators:V)||null}($,ne)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(A),this._setUpdateStrategy(ne),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),he(ne)&&(ne.nonNullable||ne.initialValueIsDefault)&&(this.defaultValue=xr(A)?A.value:A)}setValue(A,ne={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==ne.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==ne.emitViewToModelChange)),this.updateValueAndValidity(ne)}patchValue(A,ne={}){this.setValue(A,ne)}reset(A=this.defaultValue,ne={}){this._applyFormState(A),this.markAsPristine(ne),this.markAsUntouched(ne),this.setValue(this.value,ne),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){Fn(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){Fn(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){xr(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}},Qt={provide:Pn,useExisting:(0,u.Gpc)(()=>dn)},pn=(()=>Promise.resolve())();let dn=(()=>{var V;class A extends Pn{constructor($,_e,Rt,Rn,Nr,ti){super(),this._changeDetectorRef=Nr,this.callSetDisabledState=ti,this.control=new L,this._registered=!1,this.name="",this.update=new u.vpe,this._parent=$,this._setValidators(_e),this._setAsyncValidators(Rt),this.valueAccessor=function ye(V,A){if(!A)return null;let ne,$,_e;return Array.isArray(A),A.forEach(Rt=>{Rt.constructor===le?ne=Rt:function me(V){return Object.getPrototypeOf(V.constructor)===Re}(Rt)?$=Rt:_e=Rt}),_e||$||ne||null}(0,Rn)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const _e=$.name.previousValue;this.formDirective.removeControl({name:_e,path:this._getPath(_e)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),function Ee(V,A){if(!V.hasOwnProperty("model"))return!1;const ne=V.model;return!!ne.isFirstChange()||!Object.is(A,ne.currentValue)}($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){pn.then(()=>{var _e;this.control.setValue($,{emitViewToModelChange:!1}),null===(_e=this._changeDetectorRef)||void 0===_e||_e.markForCheck()})}_updateDisabled($){const _e=$.isDisabled.currentValue,Rt=0!==_e&&(0,u.VuI)(_e);pn.then(()=>{var Rn;Rt&&!this.control.disabled?this.control.disable():!Rt&&this.control.disabled&&this.control.enable(),null===(Rn=this._changeDetectorRef)||void 0===Rn||Rn.markForCheck()})}_getPath($){return this._parent?function yt(V,A){return[...A.path,V]}($,this._parent):[$]}}return(V=A).\u0275fac=function($){return new($||V)(u.Y36(nn,9),u.Y36(we,10),u.Y36(ee,10),u.Y36(Pe,10),u.Y36(u.sBO,8),u.Y36(Pr,8))},V.\u0275dir=u.lG2({type:V,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Qt]),u.qOj,u.TTD]}),A})(),X=(()=>{var V;class A{}return(V=A).\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({}),A})();function Tl(V){return"number"==typeof V?V:parseFloat(V)}let Uo=(()=>{var V;class A{constructor(){this._validator=Ae}ngOnChanges($){if(this.inputName in $){const _e=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(_e),this._validator=this._enabled?this.createValidator(_e):Ae,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return(V=A).\u0275fac=function($){return new($||V)},V.\u0275dir=u.lG2({type:V,features:[u.TTD]}),A})();const Hs={provide:we,useExisting:(0,u.Gpc)(()=>zs),multi:!0};let zs=(()=>{var V;class A extends Uo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=$=>Tl($),this.createValidator=$=>function Ke(V){return A=>{if(Fe(A.value)||Fe(V))return null;const ne=parseFloat(A.value);return!isNaN(ne)&&ne>V?{max:{max:V,actual:A.value}}:null}}($)}}return(V=A).\u0275fac=(()=>{let ne;return function(_e){return(ne||(ne=u.n5z(V)))(_e||V)}})(),V.\u0275dir=u.lG2({type:V,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function($,_e){2&$&&u.uIk("max",_e._enabled?_e.max:null)},inputs:{max:"max"},features:[u._Bn([Hs]),u.qOj]}),A})();const Ou={provide:we,useExisting:(0,u.Gpc)(()=>uo),multi:!0};let uo=(()=>{var V;class A extends Uo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=$=>Tl($),this.createValidator=$=>function ae(V){return A=>{if(Fe(A.value)||Fe(V))return null;const ne=parseFloat(A.value);return!isNaN(ne)&&ne<V?{min:{min:V,actual:A.value}}:null}}($)}}return(V=A).\u0275fac=(()=>{let ne;return function(_e){return(ne||(ne=u.n5z(V)))(_e||V)}})(),V.\u0275dir=u.lG2({type:V,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function($,_e){2&$&&u.uIk("min",_e._enabled?_e.min:null)},inputs:{min:"min"},features:[u._Bn([Ou]),u.qOj]}),A})(),co=(()=>{var V;class A{}return(V=A).\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[X]}),A})(),jn=(()=>{var V;class A{static withConfig($){var _e;return{ngModule:A,providers:[{provide:Pr,useValue:null!==(_e=$.callSetDisabledState)&&void 0!==_e?_e:Bi}]}}}return(V=A).\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[co]}),A})()},6593:(Wt,et,N)=>{"use strict";N.d(et,{Dx:()=>nn,b2:()=>it,q6:()=>Ht});var u=N(9212),U=N(6814);class Q extends U.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class J extends Q{static makeCurrent(){(0,U.HT)(new J)}onAndCancel(H,oe,de){return H.addEventListener(oe,de),()=>{H.removeEventListener(oe,de)}}dispatchEvent(H,oe){H.dispatchEvent(oe)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,oe){return(oe=oe||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,oe){return"window"===oe?window:"document"===oe?H:"body"===oe?H.body:null}getBaseHref(H){const oe=function se(){return Me=Me||document.querySelector("base"),Me?Me.getAttribute("href"):null}();return null==oe?null:function pe(te){return new URL(te,document.baseURI).pathname}(oe)}resetBaseElement(){Me=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,U.Mx)(document.cookie,H)}}let Me=null,je=(()=>{var te;class H{build(){return new XMLHttpRequest}}return(te=H).\u0275fac=function(de){return new(de||te)},te.\u0275prov=u.Yz7({token:te,factory:te.\u0275fac}),H})();const Ie=new u.OlP("EventManagerPlugins");let ce=(()=>{var te;class H{constructor(de,he){this._zone=he,this._eventNameToPlugin=new Map,de.forEach(ot=>{ot.manager=this}),this._plugins=de.slice().reverse()}addEventListener(de,he,ot){return this._findPluginFor(he).addEventListener(de,he,ot)}getZone(){return this._zone}_findPluginFor(de){let he=this._eventNameToPlugin.get(de);if(he)return he;if(he=this._plugins.find(Tt=>Tt.supports(de)),!he)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(de,he),he}}return(te=H).\u0275fac=function(de){return new(de||te)(u.LFG(Ie),u.LFG(u.R0b))},te.\u0275prov=u.Yz7({token:te,factory:te.\u0275fac}),H})();class Ne{constructor(H){this._doc=H}}const $e="ng-app-id";let Re=(()=>{var te;class H{constructor(de,he,ot,Tt={}){this.doc=de,this.appId=he,this.nonce=ot,this.platformId=Tt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,U.PM)(Tt),this.resetHostNodes()}addStyles(de){for(const he of de)1===this.changeUsageCount(he,1)&&this.onStyleAdded(he)}removeStyles(de){for(const he of de)this.changeUsageCount(he,-1)<=0&&this.onStyleRemoved(he)}ngOnDestroy(){const de=this.styleNodesInDOM;de&&(de.forEach(he=>he.remove()),de.clear());for(const he of this.getAllStyles())this.onStyleRemoved(he);this.resetHostNodes()}addHost(de){this.hostNodes.add(de);for(const he of this.getAllStyles())this.addStyleToHost(de,he)}removeHost(de){this.hostNodes.delete(de)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(de){for(const he of this.hostNodes)this.addStyleToHost(he,de)}onStyleRemoved(de){var he;const ot=this.styleRef;null===(he=ot.get(de))||void 0===he||null===(he=he.elements)||void 0===he||he.forEach(Tt=>Tt.remove()),ot.delete(de)}collectServerRenderedStyles(){var de;const he=null===(de=this.doc.head)||void 0===de?void 0:de.querySelectorAll(`style[${$e}="${this.appId}"]`);if(null!=he&&he.length){const ot=new Map;return he.forEach(Tt=>{null!=Tt.textContent&&ot.set(Tt.textContent,Tt)}),ot}return null}changeUsageCount(de,he){const ot=this.styleRef;if(ot.has(de)){const Tt=ot.get(de);return Tt.usage+=he,Tt.usage}return ot.set(de,{usage:he,elements:[]}),he}getStyleElement(de,he){const ot=this.styleNodesInDOM,Tt=null==ot?void 0:ot.get(he);if((null==Tt?void 0:Tt.parentNode)===de)return ot.delete(he),Tt.removeAttribute($e),Tt;{const Gt=this.doc.createElement("style");return this.nonce&&Gt.setAttribute("nonce",this.nonce),Gt.textContent=he,this.platformIsServer&&Gt.setAttribute($e,this.appId),de.appendChild(Gt),Gt}}addStyleToHost(de,he){var ot;const Tt=this.getStyleElement(de,he),Gt=this.styleRef,xn=null===(ot=Gt.get(he))||void 0===ot?void 0:ot.elements;xn?xn.push(Tt):Gt.set(he,{elements:[Tt],usage:1})}resetHostNodes(){const de=this.hostNodes;de.clear(),de.add(this.doc.head)}}return(te=H).\u0275fac=function(de){return new(de||te)(u.LFG(U.K0),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},te.\u0275prov=u.Yz7({token:te,factory:te.\u0275fac}),H})();const Pe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nt=/%COMP%/g,le=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function we(te,H){return H.map(oe=>oe.replace(nt,te))}let ee=(()=>{var te;class H{constructor(de,he,ot,Tt,Gt,xn,Vn,ur=null){this.eventManager=de,this.sharedStylesHost=he,this.appId=ot,this.removeStylesOnCompDestroy=Tt,this.doc=Gt,this.platformId=xn,this.ngZone=Vn,this.nonce=ur,this.rendererByCompId=new Map,this.platformIsServer=(0,U.PM)(xn),this.defaultRenderer=new ge(de,Gt,Vn,this.platformIsServer)}createRenderer(de,he){if(!de||!he)return this.defaultRenderer;this.platformIsServer&&he.encapsulation===u.ifc.ShadowDom&&(he={...he,encapsulation:u.ifc.Emulated});const ot=this.getOrCreateRenderer(de,he);return ot instanceof At?ot.applyToHost(de):ot instanceof rt&&ot.applyStyles(),ot}getOrCreateRenderer(de,he){const ot=this.rendererByCompId;let Tt=ot.get(he.id);if(!Tt){const Gt=this.doc,xn=this.ngZone,Vn=this.eventManager,ur=this.sharedStylesHost,Xt=this.removeStylesOnCompDestroy,qt=this.platformIsServer;switch(he.encapsulation){case u.ifc.Emulated:Tt=new At(Vn,ur,he,this.appId,Xt,Gt,xn,qt);break;case u.ifc.ShadowDom:return new Be(Vn,ur,de,he,Gt,xn,this.nonce,qt);default:Tt=new rt(Vn,ur,he,Xt,Gt,xn,qt)}ot.set(he.id,Tt)}return Tt}ngOnDestroy(){this.rendererByCompId.clear()}}return(te=H).\u0275fac=function(de){return new(de||te)(u.LFG(ce),u.LFG(Re),u.LFG(u.AFp),u.LFG(le),u.LFG(U.K0),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},te.\u0275prov=u.Yz7({token:te,factory:te.\u0275fac}),H})();class ge{constructor(H,oe,de,he){this.eventManager=H,this.doc=oe,this.ngZone=de,this.platformIsServer=he,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(H,oe){return oe?this.doc.createElementNS(Pe[oe]||oe,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,oe){(Ke(H)?H.content:H).appendChild(oe)}insertBefore(H,oe,de){H&&(Ke(H)?H.content:H).insertBefore(oe,de)}removeChild(H,oe){H&&H.removeChild(oe)}selectRootElement(H,oe){let de="string"==typeof H?this.doc.querySelector(H):H;if(!de)throw new u.vHH(-5104,!1);return oe||(de.textContent=""),de}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,oe,de,he){if(he){oe=he+":"+oe;const ot=Pe[he];ot?H.setAttributeNS(ot,oe,de):H.setAttribute(oe,de)}else H.setAttribute(oe,de)}removeAttribute(H,oe,de){if(de){const he=Pe[de];he?H.removeAttributeNS(he,oe):H.removeAttribute(`${de}:${oe}`)}else H.removeAttribute(oe)}addClass(H,oe){H.classList.add(oe)}removeClass(H,oe){H.classList.remove(oe)}setStyle(H,oe,de,he){he&(u.JOm.DashCase|u.JOm.Important)?H.style.setProperty(oe,de,he&u.JOm.Important?"important":""):H.style[oe]=de}removeStyle(H,oe,de){de&u.JOm.DashCase?H.style.removeProperty(oe):H.style[oe]=""}setProperty(H,oe,de){null!=H&&(H[oe]=de)}setValue(H,oe){H.nodeValue=oe}listen(H,oe,de){if("string"==typeof H&&!(H=(0,U.q)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${oe}`);return this.eventManager.addEventListener(H,oe,this.decoratePreventDefault(de))}decoratePreventDefault(H){return oe=>{if("__ngUnwrap__"===oe)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(oe)):H(oe))&&oe.preventDefault()}}}function Ke(te){return"TEMPLATE"===te.tagName&&void 0!==te.content}class Be extends ge{constructor(H,oe,de,he,ot,Tt,Gt,xn){super(H,ot,Tt,xn),this.sharedStylesHost=oe,this.hostEl=de,this.shadowRoot=de.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Vn=we(he.id,he.styles);for(const ur of Vn){const Xt=document.createElement("style");Gt&&Xt.setAttribute("nonce",Gt),Xt.textContent=ur,this.shadowRoot.appendChild(Xt)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,oe){return super.appendChild(this.nodeOrShadowRoot(H),oe)}insertBefore(H,oe,de){return super.insertBefore(this.nodeOrShadowRoot(H),oe,de)}removeChild(H,oe){return super.removeChild(this.nodeOrShadowRoot(H),oe)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rt extends ge{constructor(H,oe,de,he,ot,Tt,Gt,xn){super(H,ot,Tt,Gt),this.sharedStylesHost=oe,this.removeStylesOnCompDestroy=he,this.styles=xn?we(xn,de.styles):de.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class At extends rt{constructor(H,oe,de,he,ot,Tt,Gt,xn){const Vn=he+"-"+de.id;super(H,oe,de,ot,Tt,Gt,xn,Vn),this.contentAttr=function Fe(te){return"_ngcontent-%COMP%".replace(nt,te)}(Vn),this.hostAttr=function Oe(te){return"_nghost-%COMP%".replace(nt,te)}(Vn)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,oe){const de=super.createElement(H,oe);return super.setAttribute(de,this.contentAttr,""),de}}let tn=(()=>{var te;class H extends Ne{constructor(de){super(de)}supports(de){return!0}addEventListener(de,he,ot){return de.addEventListener(he,ot,!1),()=>this.removeEventListener(de,he,ot)}removeEventListener(de,he,ot){return de.removeEventListener(he,ot)}}return(te=H).\u0275fac=function(de){return new(de||te)(u.LFG(U.K0))},te.\u0275prov=u.Yz7({token:te,factory:te.\u0275fac}),H})();const zt=["alt","control","meta","shift"],tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ae={alt:te=>te.altKey,control:te=>te.ctrlKey,meta:te=>te.metaKey,shift:te=>te.shiftKey};let ue=(()=>{var te;class H extends Ne{constructor(de){super(de)}supports(de){return null!=H.parseEventName(de)}addEventListener(de,he,ot){const Tt=H.parseEventName(he),Gt=H.eventCallback(Tt.fullKey,ot,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,U.q)().onAndCancel(de,Tt.domEventName,Gt))}static parseEventName(de){const he=de.toLowerCase().split("."),ot=he.shift();if(0===he.length||"keydown"!==ot&&"keyup"!==ot)return null;const Tt=H._normalizeKey(he.pop());let Gt="",xn=he.indexOf("code");if(xn>-1&&(he.splice(xn,1),Gt="code."),zt.forEach(ur=>{const Xt=he.indexOf(ur);Xt>-1&&(he.splice(Xt,1),Gt+=ur+".")}),Gt+=Tt,0!=he.length||0===Tt.length)return null;const Vn={};return Vn.domEventName=ot,Vn.fullKey=Gt,Vn}static matchEventFullKeyCode(de,he){let ot=tt[de.key]||de.key,Tt="";return he.indexOf("code.")>-1&&(ot=de.code,Tt="code."),!(null==ot||!ot)&&(ot=ot.toLowerCase()," "===ot?ot="space":"."===ot&&(ot="dot"),zt.forEach(Gt=>{Gt!==ot&&(0,Ae[Gt])(de)&&(Tt+=Gt+".")}),Tt+=ot,Tt===he)}static eventCallback(de,he,ot){return Tt=>{H.matchEventFullKeyCode(Tt,de)&&ot.runGuarded(()=>he(Tt))}}static _normalizeKey(de){return"esc"===de?"escape":de}}return(te=H).\u0275fac=function(de){return new(de||te)(u.LFG(U.K0))},te.\u0275prov=u.Yz7({token:te,factory:te.\u0275fac}),H})();const Ht=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:U.bD},{provide:u.g9A,useValue:function Et(){J.makeCurrent()},multi:!0},{provide:U.K0,useFactory:function bt(){return(0,u.RDi)(document),document},deps:[]}]),Dn=new u.OlP(""),pt=[{provide:u.rWj,useClass:class We{addToWindow(H){u.dqk.getAngularTestability=(de,he=!0)=>{const ot=H.findTestabilityInTree(de,he);if(null==ot)throw new u.vHH(5103,!1);return ot},u.dqk.getAllAngularTestabilities=()=>H.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>H.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(de=>{const he=u.dqk.getAllAngularTestabilities();let ot=he.length,Tt=!1;const Gt=function(xn){Tt=Tt||xn,ot--,0==ot&&de(Tt)};he.forEach(xn=>{xn.whenStable(Gt)})})}findTestabilityInTree(H,oe,de){if(null==oe)return null;const he=H.getTestability(oe);return null!=he?he:de?(0,U.q)().isShadowRoot(oe)?this.findTestabilityInTree(H,oe.host,!0):this.findTestabilityInTree(H,oe.parentElement,!0):null}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],at=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Dt(){return new u.qLn},deps:[]},{provide:Ie,useClass:tn,multi:!0,deps:[U.K0,u.R0b,u.Lbi]},{provide:Ie,useClass:ue,multi:!0,deps:[U.K0]},ee,Re,ce,{provide:u.FYo,useExisting:ee},{provide:U.JF,useClass:je,deps:[]},[]];let it=(()=>{var te;class H{constructor(de){}static withServerTransition(de){return{ngModule:H,providers:[{provide:u.AFp,useValue:de.appId}]}}}return(te=H).\u0275fac=function(de){return new(de||te)(u.LFG(Dn,12))},te.\u0275mod=u.oAB({type:te}),te.\u0275inj=u.cJS({providers:[...at,...pt],imports:[U.ez,u.hGG]}),H})(),nn=(()=>{var te;class H{constructor(de){this._doc=de}getTitle(){return this._doc.title}setTitle(de){this._doc.title=de||""}}return(te=H).\u0275fac=function(de){return new(de||te)(u.LFG(U.K0))},te.\u0275prov=u.Yz7({token:te,factory:function(de){let he=null;return he=de?new de:function fn(){return new nn((0,u.LFG)(U.K0))}(),he},providedIn:"root"}),H})();typeof window<"u"&&window},4934:(Wt,et,N)=>{"use strict";N.d(et,{gz:()=>Hr,y6:()=>Jn,OD:()=>ye,eC:()=>lt,wm:()=>xo,wN:()=>ys,F0:()=>Sr,rH:()=>Is,Bz:()=>Xr,Hx:()=>lr});var u=N(9212),U=N(5592),Q=N(4674),Me=N(2459),se=N(2096),pe=N(5619),We=N(2572),je=N(6973),Ie=N(5211),ce=N(4829);function Ne(E){return new U.y(w=>{(0,ce.Xf)(E()).subscribe(w)})}var $e=N(8407);function Re(E,w){const S=(0,Q.m)(E)?E:()=>E,_=P=>P.error(S());return new U.y(w?P=>w.schedule(_,0,P):_)}var Pe=N(6232),nt=N(7394),xe=N(9360),Le=N(8251);function He(){return(0,xe.e)((E,w)=>{let S=null;E._refCount++;const _=(0,Le.x)(w,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(S=null);const P=E._connection,W=S;S=null,P&&(!W||P===W)&&P.unsubscribe(),w.unsubscribe()});E.subscribe(_),_.closed||(S=E.connect())})}class ht extends U.y{constructor(w,S){super(),this.source=w,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,xe.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new nt.w0;const S=this.getSubject();w.add(this.source.subscribe((0,Le.x)(S,void 0,()=>{this._teardown(),S.complete()},_=>{this._teardown(),S.error(_)},()=>this._teardown()))),w.closed&&(this._connection=null,w=nt.w0.EMPTY)}return w}refCount(){return He()(this)}}var le=N(8645),Fe=N(6814),Oe=N(7398),we=N(4664),ee=N(8180),ge=N(7921),re=N(2181),ae=N(1631),Ke=N(1374);function Be(E,w){return(0,Q.m)(w)?(0,ae.z)(E,w,1):(0,ae.z)(E,1)}var rt=N(9397);function At(E){return(0,xe.e)((w,S)=>{let W,_=null,P=!1;_=w.subscribe((0,Le.x)(S,void 0,void 0,fe=>{W=(0,ce.Xf)(E(fe,At(E)(w))),_?(_.unsubscribe(),_=null,W.subscribe(S)):P=!0})),P&&(_.unsubscribe(),_=null,W.subscribe(S))})}var tn=N(6699),zt=N(3572);function tt(E){return E<=0?()=>Pe.E:(0,xe.e)((w,S)=>{let _=[];w.subscribe((0,Le.x)(S,P=>{_.push(P),E<_.length&&_.shift()},()=>{for(const P of _)S.next(P);S.complete()},void 0,()=>{_=null}))})}var Ae=N(3026),ue=N(2737);function qe(E){return(0,xe.e)((w,S)=>{try{w.subscribe(S)}finally{S.add(E)}})}var Ye=N(2420),Dt=N(7537),bt=N(6593);const lt="primary",Ht=Symbol("RouteTitle");class Dn{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const S=this.params[w];return Array.isArray(S)?S[0]:S}return null}getAll(w){if(this.has(w)){const S=this.params[w];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function pt(E){return new Dn(E)}function at(E,w,S){const _=S.path.split("/");if(_.length>E.length||"full"===S.pathMatch&&(w.hasChildren()||_.length<E.length))return null;const P={};for(let W=0;W<_.length;W++){const fe=_[W],st=E[W];if(fe.startsWith(":"))P[fe.substring(1)]=st;else if(fe!==st.path)return null}return{consumed:E.slice(0,_.length),posParams:P}}function It(E,w){const S=E?$t(E):void 0,_=w?$t(w):void 0;if(!S||!_||S.length!=_.length)return!1;let P;for(let W=0;W<S.length;W++)if(P=S[W],!mn(E[P],w[P]))return!1;return!0}function $t(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}function mn(E,w){if(Array.isArray(E)&&Array.isArray(w)){if(E.length!==w.length)return!1;const S=[...E].sort(),_=[...w].sort();return S.every((P,W)=>_[W]===P)}return E===w}function fn(E){return E.length>0?E[E.length-1]:null}function nn(E){return function J(E){return!!E&&(E instanceof U.y||(0,Q.m)(E.lift)&&(0,Q.m)(E.subscribe))}(E)?E:(0,u.QGY)(E)?(0,Me.D)(Promise.resolve(E)):(0,se.of)(E)}const Pn={exact:function En(E,w,S){if(!wr(E.segments,w.segments)||!Bt(E.segments,w.segments,S)||E.numberOfChildren!==w.numberOfChildren)return!1;for(const _ in w.children)if(!E.children[_]||!En(E.children[_],w.children[_],S))return!1;return!0},subset:qn},vn={exact:function Ut(E,w){return It(E,w)},subset:function _n(E,w){return Object.keys(w).length<=Object.keys(E).length&&Object.keys(w).every(S=>mn(E[S],w[S]))},ignored:()=>!0};function cr(E,w,S){return Pn[S.paths](E.root,w.root,S.matrixParams)&&vn[S.queryParams](E.queryParams,w.queryParams)&&!("exact"===S.fragment&&E.fragment!==w.fragment)}function qn(E,w,S){return nr(E,w,w.segments,S)}function nr(E,w,S,_){if(E.segments.length>S.length){const P=E.segments.slice(0,S.length);return!(!wr(P,S)||w.hasChildren()||!Bt(P,S,_))}if(E.segments.length===S.length){if(!wr(E.segments,S)||!Bt(E.segments,S,_))return!1;for(const P in w.children)if(!E.children[P]||!qn(E.children[P],w.children[P],_))return!1;return!0}{const P=S.slice(0,E.segments.length),W=S.slice(E.segments.length);return!!(wr(E.segments,P)&&Bt(E.segments,P,_)&&E.children[lt])&&nr(E.children[lt],w,W,_)}}function Bt(E,w,S){return w.every((_,P)=>vn[S](E[P].parameters,_.parameters))}class gr{constructor(w=new bn([],{}),S={},_=null){this.root=w,this.queryParams=S,this.fragment=_}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pt(this.queryParams)),this._queryParamMap}toString(){return An.serialize(this)}}class bn{constructor(w,S){this.segments=w,this.children=S,this.parent=null,Object.values(S).forEach(_=>_.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ln(this)}}class Br{constructor(w,S){this.path=w,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=pt(this.parameters)),this._parameterMap}toString(){return ai(this)}}function wr(E,w){return E.length===w.length&&E.every((S,_)=>S.path===w[_].path)}let lr=(()=>{var E;class w{}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:()=>new Wr,providedIn:"root"}),w})();class Wr{parse(w){const S=new ur(w);return new gr(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(w){const S=`/${qr(w.root,!0)}`,_=function H(E){const w=Object.keys(E).map(S=>{const _=E[S];return Array.isArray(_)?_.map(P=>`${Ur(S)}=${Ur(P)}`).join("&"):`${Ur(S)}=${Ur(_)}`}).filter(S=>!!S);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${S}${_}${"string"==typeof w.fragment?`#${function ri(E){return encodeURI(E)}(w.fragment)}`:""}`}}const An=new Wr;function Ln(E){return E.segments.map(w=>ai(w)).join("/")}function qr(E,w){if(!E.hasChildren())return Ln(E);if(w){const S=E.children[lt]?qr(E.children[lt],!1):"",_=[];return Object.entries(E.children).forEach(([P,W])=>{P!==lt&&_.push(`${P}:${qr(W,!1)}`)}),_.length>0?`${S}(${_.join("//")})`:S}{const S=function On(E,w){let S=[];return Object.entries(E.children).forEach(([_,P])=>{_===lt&&(S=S.concat(w(P,_)))}),Object.entries(E.children).forEach(([_,P])=>{_!==lt&&(S=S.concat(w(P,_)))}),S}(E,(_,P)=>P===lt?[qr(E.children[lt],!1)]:[`${P}:${qr(_,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[lt]?`${Ln(E)}/${S[0]}`:`${Ln(E)}/(${S.join("//")})`}}function Yr(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ur(E){return Yr(E).replace(/%3B/gi,";")}function jr(E){return Yr(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kr(E){return decodeURIComponent(E)}function mr(E){return Kr(E.replace(/\+/g,"%20"))}function ai(E){return`${jr(E.path)}${function te(E){return Object.keys(E).map(w=>`;${jr(w)}=${jr(E[w])}`).join("")}(E.parameters)}`}const oe=/^[^\/()?;#]+/;function de(E){const w=E.match(oe);return w?w[0]:""}const he=/^[^\/()?;=#]+/,Tt=/^[^=?&#]+/,xn=/^[^&#]+/;class ur{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let _={};return this.peekStartsWith("(")&&(_=this.parseParens(!1)),(w.length>0||Object.keys(S).length>0)&&(_[lt]=new bn(w,S)),_}parseSegment(){const w=de(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(w),new Br(Kr(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const S=function ot(E){const w=E.match(he);return w?w[0]:""}(this.remaining);if(!S)return;this.capture(S);let _="";if(this.consumeOptional("=")){const P=de(this.remaining);P&&(_=P,this.capture(_))}w[Kr(S)]=Kr(_)}parseQueryParam(w){const S=function Gt(E){const w=E.match(Tt);return w?w[0]:""}(this.remaining);if(!S)return;this.capture(S);let _="";if(this.consumeOptional("=")){const fe=function Vn(E){const w=E.match(xn);return w?w[0]:""}(this.remaining);fe&&(_=fe,this.capture(_))}const P=mr(S),W=mr(_);if(w.hasOwnProperty(P)){let fe=w[P];Array.isArray(fe)||(fe=[fe],w[P]=fe),fe.push(W)}else w[P]=W}parseParens(w){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const _=de(this.remaining),P=this.remaining[_.length];if("/"!==P&&")"!==P&&";"!==P)throw new u.vHH(4010,!1);let W;_.indexOf(":")>-1?(W=_.slice(0,_.indexOf(":")),this.capture(W),this.capture(":")):w&&(W=lt);const fe=this.parseChildren();S[W]=1===Object.keys(fe).length?fe[lt]:new bn([],fe),this.consumeOptional("//")}return S}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new u.vHH(4011,!1)}}function Xt(E){return E.segments.length>0?new bn([],{[lt]:E}):E}function qt(E){const w={};for(const _ of Object.keys(E.children)){const W=qt(E.children[_]);if(_===lt&&0===W.segments.length&&W.hasChildren())for(const[fe,st]of Object.entries(W.children))w[fe]=st;else(W.segments.length>0||W.hasChildren())&&(w[_]=W)}return function li(E){if(1===E.numberOfChildren&&E.children[lt]){const w=E.children[lt];return new bn(E.segments.concat(w.segments),w.children)}return E}(new bn(E.segments,w))}function Pr(E){return E instanceof gr}function yt(E){var w;let S;const W=Xt(function _(fe){const st={};for(const ft of fe.children){const ln=_(ft);st[ft.outlet]=ln}const Ot=new bn(fe.url,st);return fe===E&&(S=Ot),Ot}(E.root));return null!==(w=S)&&void 0!==w?w:W}function Xe(E,w,S,_){let P=E;for(;P.parent;)P=P.parent;if(0===w.length)return Sn(P,P,P,S,_);const W=function Dr(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new $n(!0,0,E);let w=0,S=!1;const _=E.reduce((P,W,fe)=>{if("object"==typeof W&&null!=W){if(W.outlets){const st={};return Object.entries(W.outlets).forEach(([Ot,ft])=>{st[Ot]="string"==typeof ft?ft.split("/"):ft}),[...P,{outlets:st}]}if(W.segmentPath)return[...P,W.segmentPath]}return"string"!=typeof W?[...P,W]:0===fe?(W.split("/").forEach((st,Ot)=>{0==Ot&&"."===st||(0==Ot&&""===st?S=!0:".."===st?w++:""!=st&&P.push(st))}),P):[...P,W]},[]);return new $n(S,w,_)}(w);if(W.toRoot())return Sn(P,P,new bn([],{}),S,_);const fe=function Cr(E,w,S){if(E.isAbsolute)return new rr(w,!0,0);if(!S)return new rr(w,!1,NaN);if(null===S.parent)return new rr(S,!0,0);const _=xt(E.commands[0])?0:1;return function _i(E,w,S){let _=E,P=w,W=S;for(;W>P;){if(W-=P,_=_.parent,!_)throw new u.vHH(4005,!1);P=_.segments.length}return new rr(_,!1,P-W)}(S,S.segments.length-1+_,E.numberOfDoubleDots)}(W,P,E),st=fe.processChildren?Bn(fe.segmentGroup,fe.index,W.commands):br(fe.segmentGroup,fe.index,W.commands);return Sn(P,fe.segmentGroup,st,S,_)}function xt(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function on(E){return"object"==typeof E&&null!=E&&E.outlets}function Sn(E,w,S,_,P){let fe,W={};_&&Object.entries(_).forEach(([Ot,ft])=>{W[Ot]=Array.isArray(ft)?ft.map(ln=>`${ln}`):`${ft}`}),fe=E===w?S:Cn(E,w,S);const st=Xt(qt(fe));return new gr(st,W,P)}function Cn(E,w,S){const _={};return Object.entries(E.children).forEach(([P,W])=>{_[P]=W===w?S:Cn(W,w,S)}),new bn(E.segments,_)}class $n{constructor(w,S,_){if(this.isAbsolute=w,this.numberOfDoubleDots=S,this.commands=_,w&&_.length>0&&xt(_[0]))throw new u.vHH(4003,!1);const P=_.find(on);if(P&&P!==fn(_))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rr{constructor(w,S,_){this.segmentGroup=w,this.processChildren=S,this.index=_}}function br(E,w,S){if(E||(E=new bn([],{})),0===E.segments.length&&E.hasChildren())return Bn(E,w,S);const _=function ui(E,w,S){let _=0,P=w;const W={match:!1,pathIndex:0,commandIndex:0};for(;P<E.segments.length;){if(_>=S.length)return W;const fe=E.segments[P],st=S[_];if(on(st))break;const Ot=`${st}`,ft=_<S.length-1?S[_+1]:null;if(P>0&&void 0===Ot)break;if(Ot&&ft&&"object"==typeof ft&&void 0===ft.outlets){if(!Ee(Ot,ft,fe))return W;_+=2}else{if(!Ee(Ot,{},fe))return W;_++}P++}return{match:!0,pathIndex:P,commandIndex:_}}(E,w,S),P=S.slice(_.commandIndex);if(_.match&&_.pathIndex<E.segments.length){const W=new bn(E.segments.slice(0,_.pathIndex),{});return W.children[lt]=new bn(E.segments.slice(_.pathIndex),E.children),Bn(W,0,P)}return _.match&&0===P.length?new bn(E.segments,{}):_.match&&!E.hasChildren()?Ar(E,w,S):_.match?Bn(E,0,P):Ar(E,w,S)}function Bn(E,w,S){if(0===S.length)return new bn(E.segments,{});{const _=function Ci(E){return on(E[0])?E[0].outlets:{[lt]:E}}(S),P={};if(Object.keys(_).some(W=>W!==lt)&&E.children[lt]&&1===E.numberOfChildren&&0===E.children[lt].segments.length){const W=Bn(E.children[lt],w,S);return new bn(E.segments,W.children)}return Object.entries(_).forEach(([W,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(P[W]=br(E.children[W],w,fe))}),Object.entries(E.children).forEach(([W,fe])=>{void 0===_[W]&&(P[W]=fe)}),new bn(E.segments,P)}}function Ar(E,w,S){const _=E.segments.slice(0,w);let P=0;for(;P<S.length;){const W=S[P];if(on(W)){const Ot=kn(W.outlets);return new bn(_,Ot)}if(0===P&&xt(S[0])){_.push(new Br(E.segments[w].path,pr(S[0]))),P++;continue}const fe=on(W)?W.outlets[lt]:`${W}`,st=P<S.length-1?S[P+1]:null;fe&&st&&xt(st)?(_.push(new Br(fe,pr(st))),P+=2):(_.push(new Br(fe,{})),P++)}return new bn(_,{})}function kn(E){const w={};return Object.entries(E).forEach(([S,_])=>{"string"==typeof _&&(_=[_]),null!==_&&(w[S]=Ar(new bn([],{}),0,_))}),w}function pr(E){const w={};return Object.entries(E).forEach(([S,_])=>w[S]=`${_}`),w}function Ee(E,w,S){return E==S.path&&It(w,S.parameters)}const me="imperative";class z{constructor(w,S){this.id=w,this.url=S}}class ye extends z{constructor(w,S,_="imperative",P=null){super(w,S),this.type=0,this.navigationTrigger=_,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ze extends z{constructor(w,S,_){super(w,S),this.urlAfterRedirects=_,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wt extends z{constructor(w,S,_,P){super(w,S),this.reason=_,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zt extends z{constructor(w,S,_,P){super(w,S),this.reason=_,this.code=P,this.type=16}}class en extends z{constructor(w,S,_,P){super(w,S),this.error=_,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class In extends z{constructor(w,S,_,P){super(w,S),this.urlAfterRedirects=_,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn extends z{constructor(w,S,_,P){super(w,S),this.urlAfterRedirects=_,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends z{constructor(w,S,_,P,W){super(w,S),this.urlAfterRedirects=_,this.state=P,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class L extends z{constructor(w,S,_,P){super(w,S),this.urlAfterRedirects=_,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G extends z{constructor(w,S,_,P){super(w,S),this.urlAfterRedirects=_,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ve{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gt{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class St{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nt{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vt{constructor(w,S,_){this.routerEvent=w,this.position=S,this.anchor=_,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pt{}class Qt{constructor(w){this.url=w}}class dn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jn,this.attachRef=null}}let Jn=(()=>{var E;class w{constructor(){this.contexts=new Map}onChildOutletCreated(_,P){const W=this.getOrCreateContext(_);W.outlet=P,this.contexts.set(_,W)}onChildOutletDestroyed(_){const P=this.getContext(_);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let P=this.getContext(_);return P||(P=new dn,this.contexts.set(_,P)),P}getContext(_){return this.contexts.get(_)||null}}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})();class Ir{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const S=this.pathFromRoot(w);return S.length>1?S[S.length-2]:null}children(w){const S=C(w,this._root);return S?S.children.map(_=>_.value):[]}firstChild(w){const S=C(w,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(w){const S=Z(w,this._root);return S.length<2?[]:S[S.length-2].children.map(P=>P.value).filter(P=>P!==w)}pathFromRoot(w){return Z(w,this._root).map(S=>S.value)}}function C(E,w){if(E===w.value)return w;for(const S of w.children){const _=C(E,S);if(_)return _}return null}function Z(E,w){if(E===w.value)return[w];for(const S of w.children){const _=Z(E,S);if(_.length)return _.unshift(w),_}return[]}class M{constructor(w,S){this.value=w,this.children=S}toString(){return`TreeNode(${this.value})`}}function X(E){const w={};return E&&E.children.forEach(S=>w[S.value.outlet]=S),w}class Qe extends Ir{constructor(w,S){super(w),this.snapshot=S,no(this,w)}toString(){return this.snapshot.toString()}}function Un(E,w){const S=function Zr(E,w){const fe=new $o([],{},{},"",{},lt,w,null,{});return new Eo("",new M(fe,[]))}(0,w),_=new pe.X([new Br("",{})]),P=new pe.X({}),W=new pe.X({}),fe=new pe.X({}),st=new pe.X(""),Ot=new Hr(_,P,fe,st,W,lt,w,S.root);return Ot.snapshot=S.root,new Qe(new M(Ot,[]),S)}class Hr{constructor(w,S,_,P,W,fe,st,Ot){var ft,ln;this.urlSubject=w,this.paramsSubject=S,this.queryParamsSubject=_,this.fragmentSubject=P,this.dataSubject=W,this.outlet=fe,this.component=st,this._futureSnapshot=Ot,this.title=null!==(ft=null===(ln=this.dataSubject)||void 0===ln?void 0:ln.pipe((0,Oe.U)(Kn=>Kn[Ht])))&&void 0!==ft?ft:(0,se.of)(void 0),this.url=w,this.params=S,this.queryParams=_,this.fragment=P,this.data=W}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Oe.U)(w=>pt(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Oe.U)(w=>pt(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Io(E,w,S="emptyOnly"){var _;let P;const{routeConfig:W}=E;var fe;return P=null===w||"always"!==S&&""!==(null==W?void 0:W.path)&&(w.component||null!==(_=w.routeConfig)&&void 0!==_&&_.loadComponent)?{params:{...E.params},data:{...E.data},resolve:{...E.data,...null!==(fe=E._resolvedData)&&void 0!==fe?fe:{}}}:{params:{...w.params,...E.params},data:{...w.data,...E.data},resolve:{...E.data,...w.data,...null==W?void 0:W.data,...E._resolvedData}},W&&ro(W)&&(P.resolve[Ht]=W.title),P}class $o{get title(){var w;return null===(w=this.data)||void 0===w?void 0:w[Ht]}constructor(w,S,_,P,W,fe,st,Ot,ft){this.url=w,this.params=S,this.queryParams=_,this.fragment=P,this.data=W,this.outlet=fe,this.component=st,this.routeConfig=Ot,this._resolve=ft}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(_=>_.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Eo extends Ir{constructor(w,S){super(S),this.url=w,no(this,S)}toString(){return ao(this._root)}}function no(E,w){w.value._routerState=E,w.children.forEach(S=>no(E,S))}function ao(E){const w=E.children.length>0?` { ${E.children.map(ao).join(", ")} } `:"";return`${E.value}${w}`}function Mi(E){if(E.snapshot){const w=E.snapshot,S=E._futureSnapshot;E.snapshot=S,It(w.queryParams,S.queryParams)||E.queryParamsSubject.next(S.queryParams),w.fragment!==S.fragment&&E.fragmentSubject.next(S.fragment),It(w.params,S.params)||E.paramsSubject.next(S.params),function it(E,w){if(E.length!==w.length)return!1;for(let S=0;S<E.length;++S)if(!It(E[S],w[S]))return!1;return!0}(w.url,S.url)||E.urlSubject.next(S.url),It(w.data,S.data)||E.dataSubject.next(S.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function ir(E,w){const S=It(E.params,w.params)&&function Xn(E,w){return wr(E,w)&&E.every((S,_)=>It(S.parameters,w[_].parameters))}(E.url,w.url);return S&&!(!E.parent!=!w.parent)&&(!E.parent||ir(E.parent,w.parent))}function ro(E){return"string"==typeof E.title||null===E.title}let Ro=(()=>{var E;class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Jn),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(ua,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:P,previousValue:W}=_.name;if(P)return;this.isTrackedInParentContexts(W)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(W)),this.initializeOutletWithName()}}ngOnDestroy(){var _;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(_=this.inputBinder)||void 0===_||_.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){var P;return(null===(P=this.parentContexts.getContext(_))||void 0===P?void 0:P.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);null!=_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,P){var W;this.activated=_,this._activatedRoute=P,this.location.insert(_.hostView),null===(W=this.inputBinder)||void 0===W||W.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,P){var W;if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=_;const fe=this.location,Ot=_.snapshot.component,ft=this.parentContexts.getOrCreateContext(this.name).children,ln=new la(_,ft,fe.injector);this.activated=fe.createComponent(Ot,{index:fe.length,injector:ln,environmentInjector:null!=P?P:this.environmentInjector}),this.changeDetector.markForCheck(),null===(W=this.inputBinder)||void 0===W||W.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275dir=u.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),w})();class la{constructor(w,S,_){this.route=w,this.childContexts=S,this.parent=_}get(w,S){return w===Hr?this.route:w===Jn?this.childContexts:this.parent.get(w,S)}}const ua=new u.OlP("");let Mo=(()=>{var E;class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){var P;null===(P=this.outletDataSubscriptions.get(_))||void 0===P||P.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:P}=_,W=(0,We.a)([P.queryParams,P.params,P.data]).pipe((0,we.w)(([fe,st,Ot],ft)=>(Ot={...fe,...st,...Ot},0===ft?(0,se.of)(Ot):Promise.resolve(Ot)))).subscribe(fe=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(_);const st=(0,u.qFp)(P.component);if(st)for(const{templateName:Ot}of st.inputs)_.activatedComponentRef.setInput(Ot,fe[Ot]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,W)}}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),w})();function Ui(E,w,S){if(S&&E.shouldReuseRoute(w.value,S.value.snapshot)){const _=S.value;_._futureSnapshot=w.value;const P=function Bo(E,w,S){return w.children.map(_=>{for(const P of S.children)if(E.shouldReuseRoute(_.value,P.value.snapshot))return Ui(E,_,P);return Ui(E,_)})}(E,w,S);return new M(_,P)}{if(E.shouldAttach(w.value)){const W=E.retrieve(w.value);if(null!==W){const fe=W.route;return fe.value._futureSnapshot=w.value,fe.children=w.children.map(st=>Ui(E,st)),fe}}const _=function lo(E){return new Hr(new pe.X(E.url),new pe.X(E.params),new pe.X(E.queryParams),new pe.X(E.fragment),new pe.X(E.data),E.outlet,E.component,E)}(w.value),P=w.children.map(W=>Ui(E,W));return new M(_,P)}}const Yi="ngNavigationCancelingError";function js(E,w){const{redirectTo:S,navigationBehaviorOptions:_}=Pr(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,P=ji(!1,0,w);return P.url=S,P.navigationBehaviorOptions=_,P}function ji(E,w,S){const _=new Error("NavigationCancelingError: "+(E||""));return _[Yi]=!0,_.cancellationCode=w,S&&(_.url=S),_}function bs(E){return E&&E[Yi]}let es=(()=>{var E;class w{}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275cmp=u.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(_,P){1&_&&u._UZ(0,"router-outlet")},dependencies:[Ro],encapsulation:2}),w})();function As(E){const w=E.children&&E.children.map(As),S=w?{...E,children:w}:{...E};return!S.component&&!S.loadComponent&&(w||S.loadChildren)&&S.outlet&&S.outlet!==lt&&(S.component=es),S}function zr(E){return E.outlet||lt}function Hi(E){var w;if(!E)return null;if(null!==(w=E.routeConfig)&&void 0!==w&&w._injector)return E.routeConfig._injector;for(let S=E.parent;S;S=S.parent){const _=S.routeConfig;if(null!=_&&_._loadedInjector)return _._loadedInjector;if(null!=_&&_._injector)return _._injector}return null}class ii{constructor(w,S,_,P,W){this.routeReuseStrategy=w,this.futureState=S,this.currState=_,this.forwardEvent=P,this.inputBindingEnabled=W}activate(w){const S=this.futureState._root,_=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,_,w),Mi(this.futureState.root),this.activateChildRoutes(S,_,w)}deactivateChildRoutes(w,S,_){const P=X(S);w.children.forEach(W=>{const fe=W.value.outlet;this.deactivateRoutes(W,P[fe],_),delete P[fe]}),Object.values(P).forEach(W=>{this.deactivateRouteAndItsChildren(W,_)})}deactivateRoutes(w,S,_){const P=w.value,W=S?S.value:null;if(P===W)if(P.component){const fe=_.getContext(P.outlet);fe&&this.deactivateChildRoutes(w,S,fe.children)}else this.deactivateChildRoutes(w,S,_);else W&&this.deactivateRouteAndItsChildren(S,_)}deactivateRouteAndItsChildren(w,S){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,S):this.deactivateRouteAndOutlet(w,S)}detachAndStoreRouteSubtree(w,S){const _=S.getContext(w.value.outlet),P=_&&w.value.component?_.children:S,W=X(w);for(const fe of Object.keys(W))this.deactivateRouteAndItsChildren(W[fe],P);if(_&&_.outlet){const fe=_.outlet.detach(),st=_.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:fe,route:w,contexts:st})}}deactivateRouteAndOutlet(w,S){const _=S.getContext(w.value.outlet),P=_&&w.value.component?_.children:S,W=X(w);for(const fe of Object.keys(W))this.deactivateRouteAndItsChildren(W[fe],P);_&&(_.outlet&&(_.outlet.deactivate(),_.children.onOutletDeactivated()),_.attachRef=null,_.route=null)}activateChildRoutes(w,S,_){const P=X(S);w.children.forEach(W=>{this.activateRoutes(W,P[W.value.outlet],_),this.forwardEvent(new Nt(W.value.snapshot))}),w.children.length&&this.forwardEvent(new Je(w.value.snapshot))}activateRoutes(w,S,_){const P=w.value,W=S?S.value:null;if(Mi(P),P===W)if(P.component){const fe=_.getOrCreateContext(P.outlet);this.activateChildRoutes(w,S,fe.children)}else this.activateChildRoutes(w,S,_);else if(P.component){const fe=_.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const st=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),fe.children.onOutletReAttached(st.contexts),fe.attachRef=st.componentRef,fe.route=st.route.value,fe.outlet&&fe.outlet.attach(st.componentRef,st.route.value),Mi(st.route.value),this.activateChildRoutes(w,null,fe.children)}else{const st=Hi(P.snapshot);fe.attachRef=null,fe.route=P,fe.injector=st,fe.outlet&&fe.outlet.activateWith(P,fe.injector),this.activateChildRoutes(w,null,fe.children)}}else this.activateChildRoutes(w,null,_)}}class Pi{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Ti{constructor(w,S){this.component=w,this.route=S}}function xi(E,w,S){const _=E._root;return rs(_,w?w._root:null,S,[_.value])}function ns(E,w){const S=Symbol(),_=w.get(E,S);return _===S?"function"!=typeof E||(0,u.Z0I)(E)?w.get(E):E:_}function rs(E,w,S,_,P={canDeactivateChecks:[],canActivateChecks:[]}){const W=X(w);return E.children.forEach(fe=>{(function Sa(E,w,S,_,P={canDeactivateChecks:[],canActivateChecks:[]}){const W=E.value,fe=w?w.value:null,st=S?S.getContext(E.value.outlet):null;if(fe&&W.routeConfig===fe.routeConfig){const Ot=function co(E,w,S){if("function"==typeof S)return S(E,w);switch(S){case"pathParamsChange":return!wr(E.url,w.url);case"pathParamsOrQueryParamsChange":return!wr(E.url,w.url)||!It(E.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ir(E,w)||!It(E.queryParams,w.queryParams);default:return!ir(E,w)}}(fe,W,W.routeConfig.runGuardsAndResolvers);Ot?P.canActivateChecks.push(new Pi(_)):(W.data=fe.data,W._resolvedData=fe._resolvedData),rs(E,w,W.component?st?st.children:null:S,_,P),Ot&&st&&st.outlet&&st.outlet.isActivated&&P.canDeactivateChecks.push(new Ti(st.outlet.component,fe))}else fe&&Vr(w,st,P),P.canActivateChecks.push(new Pi(_)),rs(E,null,W.component?st?st.children:null:S,_,P)})(fe,W[fe.value.outlet],S,_.concat([fe.value]),P),delete W[fe.value.outlet]}),Object.entries(W).forEach(([fe,st])=>Vr(st,S.getContext(fe),P)),P}function Vr(E,w,S){const _=X(E),P=E.value;Object.entries(_).forEach(([W,fe])=>{Vr(fe,P.component?w?w.children.getContext(W):null:w,S)}),S.canDeactivateChecks.push(new Ti(P.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,P))}function Yt(E){return"function"==typeof E}function V(E){return E instanceof je.K||"EmptyError"===(null==E?void 0:E.name)}const A=Symbol("INITIAL_VALUE");function ne(){return(0,we.w)(E=>(0,We.a)(E.map(w=>w.pipe((0,ee.q)(1),(0,ge.O)(A)))).pipe((0,Oe.U)(w=>{for(const S of w)if(!0!==S){if(S===A)return A;if(!1===S||S instanceof gr)return S}return!0}),(0,re.h)(w=>w!==A),(0,ee.q)(1)))}function gs(E){return(0,$e.z)((0,rt.b)(w=>{if(Pr(w))throw js(0,w)}),(0,Oe.U)(w=>!0===w))}class zn{constructor(w){this.segmentGroup=w||null}}class Ss extends Error{constructor(w){super(),this.urlTree=w}}function Wi(E){return Re(new zn(E))}class si{constructor(w,S){this.urlSerializer=w,this.urlTree=S}lineralizeSegments(w,S){let _=[],P=S.root;for(;;){if(_=_.concat(P.segments),0===P.numberOfChildren)return(0,se.of)(_);if(P.numberOfChildren>1||!P.children[lt])return Re(new u.vHH(4e3,!1));P=P.children[lt]}}applyRedirectCommands(w,S,_){const P=this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),w,_);if(S.startsWith("/"))throw new Ss(P);return P}applyRedirectCreateUrlTree(w,S,_,P){const W=this.createSegmentGroup(w,S.root,_,P);return new gr(W,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(w,S){const _={};return Object.entries(w).forEach(([P,W])=>{if("string"==typeof W&&W.startsWith(":")){const st=W.substring(1);_[P]=S[st]}else _[P]=W}),_}createSegmentGroup(w,S,_,P){const W=this.createSegments(w,S.segments,_,P);let fe={};return Object.entries(S.children).forEach(([st,Ot])=>{fe[st]=this.createSegmentGroup(w,Ot,_,P)}),new bn(W,fe)}createSegments(w,S,_,P){return S.map(W=>W.path.startsWith(":")?this.findPosParam(w,W,P):this.findOrReturn(W,_))}findPosParam(w,S,_){const P=_[S.path.substring(1)];if(!P)throw new u.vHH(4001,!1);return P}findOrReturn(w,S){let _=0;for(const P of S){if(P.path===w.path)return S.splice(_),P;_++}return w}}const To={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ki(E,w,S,_,P){const W=ci(E,w,S);return W.matched?(_=function hs(E,w){var S;return E.providers&&!E._injector&&(E._injector=(0,u.MMx)(E.providers,w,`Route: ${E.path}`)),null!==(S=E._injector)&&void 0!==S?S:w}(w,_),function Ho(E,w,S,_){const P=w.canMatch;if(!P||0===P.length)return(0,se.of)(!0);const W=P.map(fe=>{const st=ns(fe,E);return nn(function ps(E){return E&&Yt(E.canMatch)}(st)?st.canMatch(w,S):(0,u.r_H)(E,()=>st(w,S)))});return(0,se.of)(W).pipe(ne(),gs())}(_,w,S).pipe((0,Oe.U)(fe=>!0===fe?W:{...To}))):(0,se.of)(W)}function ci(E,w,S){var _,P;if("**"===w.path)return function ca(E){return{matched:!0,parameters:E.length>0?fn(E).parameters:{},consumedSegments:E,remainingSegments:[],positionalParamSegments:{}}}(S);if(""===w.path)return"full"===w.pathMatch&&(E.hasChildren()||S.length>0)?{...To}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const fe=(w.matcher||at)(S,E,w);if(!fe)return{...To};const st={};Object.entries(null!==(_=fe.posParams)&&void 0!==_?_:{}).forEach(([ft,ln])=>{st[ft]=ln.path});const Ot=fe.consumed.length>0?{...st,...fe.consumed[fe.consumed.length-1].parameters}:st;return{matched:!0,consumedSegments:fe.consumed,remainingSegments:S.slice(fe.consumed.length),parameters:Ot,positionalParamSegments:null!==(P=fe.posParams)&&void 0!==P?P:{}}}function is(E,w,S,_){return S.length>0&&function Ra(E,w,S){return S.some(_=>da(E,w,_)&&zr(_)!==lt)}(E,S,_)?{segmentGroup:new bn(w,fo(_,new bn(S,E.children))),slicedSegments:[]}:0===S.length&&function Za(E,w,S){return S.some(_=>da(E,w,_))}(E,S,_)?{segmentGroup:new bn(E.segments,Ka(E,0,S,_,E.children)),slicedSegments:S}:{segmentGroup:new bn(E.segments,E.children),slicedSegments:S}}function Ka(E,w,S,_,P){const W={};for(const fe of _)if(da(E,S,fe)&&!P[zr(fe)]){const st=new bn([],{});W[zr(fe)]=st}return{...P,...W}}function fo(E,w){const S={};S[lt]=w;for(const _ of E)if(""===_.path&&zr(_)!==lt){const P=new bn([],{});S[zr(_)]=P}return S}function da(E,w,S){return(!(E.hasChildren()||w.length>0)||"full"!==S.pathMatch)&&""===S.path}class Rs{}class su{constructor(w,S,_,P,W,fe,st){this.injector=w,this.configLoader=S,this.rootComponentType=_,this.config=P,this.urlTree=W,this.paramsInheritanceStrategy=fe,this.urlSerializer=st,this.applyRedirects=new si(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(w){return new u.vHH(4002,`'${w.segmentGroup}'`)}recognize(){const w=is(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(w).pipe((0,Oe.U)(S=>{const _=new $o([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},lt,this.rootComponentType,null,{}),P=new M(_,S),W=new Eo("",P),fe=function Bi(E,w,S=null,_=null){return Xe(yt(E),w,S,_)}(_,[],this.urlTree.queryParams,this.urlTree.fragment);return fe.queryParams=this.urlTree.queryParams,W.url=this.urlSerializer.serialize(fe),this.inheritParamsAndData(W._root,null),{state:W,tree:fe}}))}match(w){return this.processSegmentGroup(this.injector,this.config,w,lt).pipe(At(_=>{if(_ instanceof Ss)return this.urlTree=_.urlTree,this.match(_.urlTree.root);throw _ instanceof zn?this.noMatchError(_):_}))}inheritParamsAndData(w,S){const _=w.value,P=Io(_,S,this.paramsInheritanceStrategy);_.params=Object.freeze(P.params),_.data=Object.freeze(P.data),w.children.forEach(W=>this.inheritParamsAndData(W,_))}processSegmentGroup(w,S,_,P){return 0===_.segments.length&&_.hasChildren()?this.processChildren(w,S,_):this.processSegment(w,S,_,_.segments,P,!0).pipe((0,Oe.U)(W=>W instanceof M?[W]:[]))}processChildren(w,S,_){const P=[];for(const W of Object.keys(_.children))"primary"===W?P.unshift(W):P.push(W);return(0,Me.D)(P).pipe(Be(W=>{const fe=_.children[W],st=function jo(E,w){const S=E.filter(_=>zr(_)===w);return S.push(...E.filter(_=>zr(_)!==w)),S}(S,W);return this.processSegmentGroup(w,st,fe,W)}),(0,tn.R)((W,fe)=>(W.push(...fe),W)),(0,zt.d)(null),function be(E,w){const S=arguments.length>=2;return _=>_.pipe(E?(0,re.h)((P,W)=>E(P,W,_)):ue.y,tt(1),S?(0,zt.d)(w):(0,Ae.T)(()=>new je.K))}(),(0,ae.z)(W=>{if(null===W)return Wi(_);const fe=po(W);return function Tc(E){E.sort((w,S)=>w.value.outlet===lt?-1:S.value.outlet===lt?1:w.value.outlet.localeCompare(S.value.outlet))}(fe),(0,se.of)(fe)}))}processSegment(w,S,_,P,W,fe){return(0,Me.D)(S).pipe(Be(st=>{var Ot;return this.processSegmentAgainstRoute(null!==(Ot=st._injector)&&void 0!==Ot?Ot:w,S,st,_,P,W,fe).pipe(At(ft=>{if(ft instanceof zn)return(0,se.of)(null);throw ft}))}),(0,Ke.P)(st=>!!st),At(st=>{if(V(st))return function wl(E,w,S){return 0===w.length&&!E.children[S]}(_,P,W)?(0,se.of)(new Rs):Wi(_);throw st}))}processSegmentAgainstRoute(w,S,_,P,W,fe,st){return function ha(E,w,S,_){return!!(zr(E)===_||_!==lt&&da(w,S,E))&&ci(w,E,S).matched}(_,P,W,fe)?void 0===_.redirectTo?this.matchSegmentAgainstRoute(w,P,_,W,fe):this.allowRedirects&&st?this.expandSegmentAgainstRouteUsingRedirect(w,P,S,_,W,fe):Wi(P):Wi(P)}expandSegmentAgainstRouteUsingRedirect(w,S,_,P,W,fe){const{matched:st,consumedSegments:Ot,positionalParamSegments:ft,remainingSegments:ln}=ci(S,P,W);if(!st)return Wi(S);P.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Kn=this.applyRedirects.applyRedirectCommands(Ot,P.redirectTo,ft);return this.applyRedirects.lineralizeSegments(P,Kn).pipe((0,ae.z)(ni=>this.processSegment(w,_,S,ni.concat(ln),fe,!1)))}matchSegmentAgainstRoute(w,S,_,P,W){const fe=Ki(S,_,P,w);return"**"===_.path&&(S.children={}),fe.pipe((0,we.w)(st=>{var Ot;return st.matched?(w=null!==(Ot=_._injector)&&void 0!==Ot?Ot:w,this.getChildConfig(w,_,P).pipe((0,we.w)(({routes:ft})=>{var ln,Kn,ni;const tr=null!==(ln=_._loadedInjector)&&void 0!==ln?ln:w,{consumedSegments:Ei,remainingSegments:sr,parameters:qs}=st,Ys=new $o(Ei,qs,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function lu(E){return E.data||{}}(_),zr(_),null!==(Kn=null!==(ni=_.component)&&void 0!==ni?ni:_._loadedComponent)&&void 0!==Kn?Kn:null,_,function Qa(E){return E.resolve||{}}(_)),{segmentGroup:tl,slicedSegments:bi}=is(S,Ei,sr,ft);if(0===bi.length&&tl.hasChildren())return this.processChildren(tr,ft,tl).pipe((0,Oe.U)(Ks=>null===Ks?null:new M(Ys,Ks)));if(0===ft.length&&0===bi.length)return(0,se.of)(new M(Ys,[]));const Mc=zr(_)===W;return this.processSegment(tr,ft,tl,bi,Mc?lt:W,!0).pipe((0,Oe.U)(Ks=>new M(Ys,Ks instanceof M?[Ks]:[])))}))):Wi(S)}))}getChildConfig(w,S,_){return S.children?(0,se.of)({routes:S.children,injector:w}):S.loadChildren?void 0!==S._loadedRoutes?(0,se.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function oi(E,w,S,_){const P=w.canLoad;if(void 0===P||0===P.length)return(0,se.of)(!0);const W=P.map(fe=>{const st=ns(fe,E);return nn(function Or(E){return E&&Yt(E.canLoad)}(st)?st.canLoad(w,S):(0,u.r_H)(E,()=>st(w,S)))});return(0,se.of)(W).pipe(ne(),gs())}(w,S,_).pipe((0,ae.z)(P=>P?this.configLoader.loadChildren(w,S).pipe((0,rt.b)(W=>{S._loadedRoutes=W.routes,S._loadedInjector=W.injector})):function zo(E){return Re(ji(!1,3))}())):(0,se.of)({routes:[],injector:w})}}function au(E){const w=E.value.routeConfig;return w&&""===w.path}function po(E){const w=[],S=new Set;for(const _ of E){if(!au(_)){w.push(_);continue}const P=w.find(W=>_.value.routeConfig===W.value.routeConfig);void 0!==P?(P.children.push(..._.children),S.add(P)):w.push(_)}for(const _ of S){const P=po(_.children);w.push(new M(_.value,P))}return w.filter(_=>!S.has(_))}function T(E){const w=E.children.map(S=>T(S)).flat();return[E,...w]}function ie(E){return(0,we.w)(w=>{const S=E(w);return S?(0,Me.D)(S).pipe((0,Oe.U)(()=>w)):(0,se.of)(w)})}let ke=(()=>{var E;class w{buildTitle(_){let P,W=_.root;for(;void 0!==W;){var fe;P=null!==(fe=this.getResolvedTitleForRoute(W))&&void 0!==fe?fe:P,W=W.children.find(st=>st.outlet===lt)}return P}getResolvedTitleForRoute(_){return _.data[Ht]}}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:()=>(0,u.f3M)(Ct),providedIn:"root"}),w})(),Ct=(()=>{var E;class w extends ke{constructor(_){super(),this.title=_}updateTitle(_){const P=this.buildTitle(_);void 0!==P&&this.title.setTitle(P)}}return(E=w).\u0275fac=function(_){return new(_||E)(u.LFG(bt.Dx))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})();const jt=new u.OlP("",{providedIn:"root",factory:()=>({})}),Gn=new u.OlP("ROUTES");let dr=(()=>{var E;class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,se.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const P=nn(_.loadComponent()).pipe((0,Oe.U)(Yn),(0,rt.b)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=fe}),qe(()=>{this.componentLoaders.delete(_)})),W=new ht(P,()=>new le.x).pipe(He());return this.componentLoaders.set(_,W),W}loadChildren(_,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,se.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const fe=function er(E,w,S,_){return nn(E.loadChildren()).pipe((0,Oe.U)(Yn),(0,ae.z)(P=>P instanceof u.YKP||Array.isArray(P)?(0,se.of)(P):(0,Me.D)(w.compileModuleAsync(P))),(0,Oe.U)(P=>{_&&_(E);let W,fe,st=!1;return Array.isArray(P)?(fe=P,!0):(W=P.create(S).injector,fe=W.get(Gn,[],{optional:!0,self:!0}).flat()),{routes:fe.map(As),injector:W}}))}(P,this.compiler,_,this.onLoadEndListener).pipe(qe(()=>{this.childrenLoaders.delete(P)})),st=new ht(fe,()=>new le.x).pipe(He());return this.childrenLoaders.set(P,st),st}}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})();function Yn(E){return function Hn(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Er=(()=>{var E;class w{}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:()=>(0,u.f3M)(di),providedIn:"root"}),w})(),di=(()=>{var E;class w{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,P){return _}}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})();const go=new u.OlP(""),mo=new u.OlP("");function _s(E,w,S){const _=E.get(mo),P=E.get(Fe.K0);return E.get(u.R0b).runOutsideAngular(()=>{if(!P.startViewTransition||_.skipNextTransition)return _.skipNextTransition=!1,Promise.resolve();let W;const fe=new Promise(ft=>{W=ft}),st=P.startViewTransition(()=>(W(),function wo(E){return new Promise(w=>{(0,u.T8G)(w,{injector:E})})}(E))),{onViewTransitionCreated:Ot}=_;return Ot&&(0,u.r_H)(E,()=>Ot({transition:st,from:w,to:S})),fe})}let Fi=(()=>{var E;class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new le.x,this.transitionAbortSubject=new le.x,this.configLoader=(0,u.f3M)(dr),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(lr),this.rootContexts=(0,u.f3M)(Jn),this.location=(0,u.f3M)(Fe.Ye),this.inputBindingEnabled=null!==(0,u.f3M)(ua,{optional:!0}),this.titleStrategy=(0,u.f3M)(ke),this.options=(0,u.f3M)(jt,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,u.f3M)(Er),this.createViewTransition=(0,u.f3M)(go,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=W=>this.events.next(new Ve(W)),this.configLoader.onLoadStartListener=W=>this.events.next(new Se(W))}complete(){var _;null===(_=this.transitions)||void 0===_||_.complete()}handleNavigationRequest(_){var P;const W=++this.navigationId;null===(P=this.transitions)||void 0===P||P.next({...this.transitions.value,..._,id:W})}setupNavigations(_,P,W){return this.transitions=new pe.X({id:0,currentUrlTree:P,currentRawUrl:P,extractedUrl:this.urlHandlingStrategy.extract(P),urlAfterRedirects:this.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:me,restoredState:null,currentSnapshot:W.snapshot,targetSnapshot:null,currentRouterState:W,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,re.h)(fe=>0!==fe.id),(0,Oe.U)(fe=>({...fe,extractedUrl:this.urlHandlingStrategy.extract(fe.rawUrl)})),(0,we.w)(fe=>{this.currentTransition=fe;let st=!1,Ot=!1;return(0,se.of)(fe).pipe((0,rt.b)(ft=>{this.currentNavigation={id:ft.id,initialUrl:ft.rawUrl,extractedUrl:ft.extractedUrl,trigger:ft.source,extras:ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,we.w)(ft=>{var ln;const Kn=!_.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ni=null!==(ln=ft.extras.onSameUrlNavigation)&&void 0!==ln?ln:_.onSameUrlNavigation;if(!Kn&&"reload"!==ni){const tr="";return this.events.next(new Zt(ft.id,this.urlSerializer.serialize(ft.rawUrl),tr,0)),ft.resolve(null),Pe.E}if(this.urlHandlingStrategy.shouldProcessUrl(ft.rawUrl))return(0,se.of)(ft).pipe((0,we.w)(tr=>{var Ei,sr;const qs=null===(Ei=this.transitions)||void 0===Ei?void 0:Ei.getValue();return this.events.next(new ye(tr.id,this.urlSerializer.serialize(tr.extractedUrl),tr.source,tr.restoredState)),qs!==(null===(sr=this.transitions)||void 0===sr?void 0:sr.getValue())?Pe.E:Promise.resolve(tr)}),function Ma(E,w,S,_,P,W){return(0,ae.z)(fe=>function bl(E,w,S,_,P,W,fe="emptyOnly"){return new su(E,w,S,_,P,fe,W).recognize()}(E,w,S,_,fe.extractedUrl,P,W).pipe((0,Oe.U)(({state:st,tree:Ot})=>({...fe,targetSnapshot:st,urlAfterRedirects:Ot}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,rt.b)(tr=>{fe.targetSnapshot=tr.targetSnapshot,fe.urlAfterRedirects=tr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:tr.urlAfterRedirects};const Ei=new In(tr.id,this.urlSerializer.serialize(tr.extractedUrl),this.urlSerializer.serialize(tr.urlAfterRedirects),tr.targetSnapshot);this.events.next(Ei)}));if(Kn&&this.urlHandlingStrategy.shouldProcessUrl(ft.currentRawUrl)){const{id:tr,extractedUrl:Ei,source:sr,restoredState:qs,extras:Ys}=ft,tl=new ye(tr,this.urlSerializer.serialize(Ei),sr,qs);this.events.next(tl);const bi=Un(0,this.rootComponentType).snapshot;return this.currentTransition=fe={...ft,targetSnapshot:bi,urlAfterRedirects:Ei,extras:{...Ys,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ei,(0,se.of)(fe)}{const tr="";return this.events.next(new Zt(ft.id,this.urlSerializer.serialize(ft.extractedUrl),tr,1)),ft.resolve(null),Pe.E}}),(0,rt.b)(ft=>{const ln=new Fn(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot);this.events.next(ln)}),(0,Oe.U)(ft=>(this.currentTransition=fe={...ft,guards:xi(ft.targetSnapshot,ft.currentSnapshot,this.rootContexts)},fe)),function $(E,w){return(0,ae.z)(S=>{const{targetSnapshot:_,currentSnapshot:P,guards:{canActivateChecks:W,canDeactivateChecks:fe}}=S;return 0===fe.length&&0===W.length?(0,se.of)({...S,guardsResult:!0}):function _e(E,w,S,_){return(0,Me.D)(E).pipe((0,ae.z)(P=>function ho(E,w,S,_,P){const W=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,se.of)(!0);const fe=W.map(st=>{var Ot;const ft=null!==(Ot=Hi(w))&&void 0!==Ot?Ot:P,ln=ns(st,ft);return nn(function Do(E){return E&&Yt(E.canDeactivate)}(ln)?ln.canDeactivate(E,w,S,_):(0,u.r_H)(ft,()=>ln(E,w,S,_))).pipe((0,Ke.P)())});return(0,se.of)(fe).pipe(ne())}(P.component,P.route,S,w,_)),(0,Ke.P)(P=>!0!==P,!0))}(fe,_,P,E).pipe((0,ae.z)(st=>st&&function Nn(E){return"boolean"==typeof E}(st)?function Rt(E,w,S,_){return(0,Me.D)(w).pipe(Be(P=>(0,Ie.z)(function Nr(E,w){return null!==E&&w&&w(new gt(E)),(0,se.of)(!0)}(P.route.parent,_),function Rn(E,w){return null!==E&&w&&w(new St(E)),(0,se.of)(!0)}(P.route,_),function Gi(E,w,S){const _=w[w.length-1],W=w.slice(0,w.length-1).reverse().map(fe=>function ts(E){const w=E.routeConfig?E.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:E,guards:w}:null}(fe)).filter(fe=>null!==fe).map(fe=>Ne(()=>{const st=fe.guards.map(Ot=>{var ft;const ln=null!==(ft=Hi(fe.node))&&void 0!==ft?ft:S,Kn=ns(Ot,ln);return nn(function yi(E){return E&&Yt(E.canActivateChild)}(Kn)?Kn.canActivateChild(_,E):(0,u.r_H)(ln,()=>Kn(_,E))).pipe((0,Ke.P)())});return(0,se.of)(st).pipe(ne())}));return(0,se.of)(W).pipe(ne())}(E,P.path,S),function ti(E,w,S){const _=w.routeConfig?w.routeConfig.canActivate:null;if(!_||0===_.length)return(0,se.of)(!0);const P=_.map(W=>Ne(()=>{var fe;const st=null!==(fe=Hi(w))&&void 0!==fe?fe:S,Ot=ns(W,st);return nn(function zi(E){return E&&Yt(E.canActivate)}(Ot)?Ot.canActivate(w,E):(0,u.r_H)(st,()=>Ot(w,E))).pipe((0,Ke.P)())}));return(0,se.of)(P).pipe(ne())}(E,P.route,S))),(0,Ke.P)(P=>!0!==P,!0))}(_,W,E,w):(0,se.of)(st)),(0,Oe.U)(st=>({...S,guardsResult:st})))})}(this.environmentInjector,ft=>this.events.next(ft)),(0,rt.b)(ft=>{if(fe.guardsResult=ft.guardsResult,Pr(ft.guardsResult))throw js(0,ft.guardsResult);const ln=new xr(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot,!!ft.guardsResult);this.events.next(ln)}),(0,re.h)(ft=>!!ft.guardsResult||(this.cancelNavigationTransition(ft,"",3),!1)),ie(ft=>{if(ft.guards.canActivateChecks.length)return(0,se.of)(ft).pipe((0,rt.b)(ln=>{const Kn=new L(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(Kn)}),(0,we.w)(ln=>{let Kn=!1;return(0,se.of)(ln).pipe(function vs(E,w){return(0,ae.z)(S=>{const{targetSnapshot:_,guards:{canActivateChecks:P}}=S;if(!P.length)return(0,se.of)(S);const W=new Set(P.map(Ot=>Ot.route)),fe=new Set;for(const Ot of W)if(!fe.has(Ot))for(const ft of T(Ot))fe.add(ft);let st=0;return(0,Me.D)(fe).pipe(Be(Ot=>W.has(Ot)?function k(E,w,S,_){const P=E.routeConfig,W=E._resolve;return void 0!==(null==P?void 0:P.title)&&!ro(P)&&(W[Ht]=P.title),function Ce(E,w,S,_){const P=$t(E);if(0===P.length)return(0,se.of)({});const W={};return(0,Me.D)(P).pipe((0,ae.z)(fe=>function O(E,w,S,_){var P;const W=null!==(P=Hi(w))&&void 0!==P?P:_,fe=ns(E,W);return nn(fe.resolve?fe.resolve(w,S):(0,u.r_H)(W,()=>fe(w,S)))}(E[fe],w,S,_).pipe((0,Ke.P)(),(0,rt.b)(st=>{W[fe]=st}))),tt(1),function ve(E){return(0,Oe.U)(()=>E)}(W),At(fe=>V(fe)?Pe.E:Re(fe)))}(W,E,w,_).pipe((0,Oe.U)(fe=>(E._resolvedData=fe,E.data=Io(E,E.parent,S).resolve,null)))}(Ot,_,E,w):(Ot.data=Io(Ot,Ot.parent,E).resolve,(0,se.of)(void 0))),(0,rt.b)(()=>st++),tt(1),(0,ae.z)(Ot=>st===fe.size?(0,se.of)(S):Pe.E))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,rt.b)({next:()=>Kn=!0,complete:()=>{Kn||this.cancelNavigationTransition(ln,"",2)}}))}),(0,rt.b)(ln=>{const Kn=new G(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(Kn)}))}),ie(ft=>{const ln=Kn=>{var ni;const tr=[];null!==(ni=Kn.routeConfig)&&void 0!==ni&&ni.loadComponent&&!Kn.routeConfig._loadedComponent&&tr.push(this.configLoader.loadComponent(Kn.routeConfig).pipe((0,rt.b)(Ei=>{Kn.component=Ei}),(0,Oe.U)(()=>{})));for(const Ei of Kn.children)tr.push(...ln(Ei));return tr};return(0,We.a)(ln(ft.targetSnapshot.root)).pipe((0,zt.d)(null),(0,ee.q)(1))}),ie(()=>this.afterPreactivation()),(0,we.w)(()=>{var ft;const{currentSnapshot:ln,targetSnapshot:Kn}=fe,ni=null===(ft=this.createViewTransition)||void 0===ft?void 0:ft.call(this,this.environmentInjector,ln.root,Kn.root);return ni?(0,Me.D)(ni).pipe((0,Oe.U)(()=>fe)):(0,se.of)(fe)}),(0,Oe.U)(ft=>{const ln=function Jo(E,w,S){const _=Ui(E,w._root,S?S._root:void 0);return new Qe(_,w)}(_.routeReuseStrategy,ft.targetSnapshot,ft.currentRouterState);return this.currentTransition=fe={...ft,targetRouterState:ln},this.currentNavigation.targetRouterState=ln,fe}),(0,rt.b)(()=>{this.events.next(new Pt)}),((E,w,S,_)=>(0,Oe.U)(P=>(new ii(w,P.targetRouterState,P.currentRouterState,S,_).activate(E),P)))(this.rootContexts,_.routeReuseStrategy,ft=>this.events.next(ft),this.inputBindingEnabled),(0,ee.q)(1),(0,rt.b)({next:ft=>{var ln;st=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ze(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects))),null===(ln=this.titleStrategy)||void 0===ln||ln.updateTitle(ft.targetRouterState.snapshot),ft.resolve(!0)},complete:()=>{st=!0}}),function Et(E){return(0,xe.e)((w,S)=>{(0,ce.Xf)(E).subscribe((0,Le.x)(S,()=>S.complete(),Ye.Z)),!S.closed&&w.subscribe(S)})}(this.transitionAbortSubject.pipe((0,rt.b)(ft=>{throw ft}))),qe(()=>{var ft;st||Ot||this.cancelNavigationTransition(fe,"",1),(null===(ft=this.currentNavigation)||void 0===ft?void 0:ft.id)===fe.id&&(this.currentNavigation=null)}),At(ft=>{if(Ot=!0,bs(ft))this.events.next(new wt(fe.id,this.urlSerializer.serialize(fe.extractedUrl),ft.message,ft.cancellationCode)),function Qr(E){return bs(E)&&Pr(E.url)}(ft)?this.events.next(new Qt(ft.url)):fe.resolve(!1);else{var ln;this.events.next(new en(fe.id,this.urlSerializer.serialize(fe.extractedUrl),ft,null!==(ln=fe.targetSnapshot)&&void 0!==ln?ln:void 0));try{fe.resolve(_.errorHandler(ft))}catch(Kn){fe.reject(Kn)}}return Pe.E}))}))}cancelNavigationTransition(_,P,W){const fe=new wt(_.id,this.urlSerializer.serialize(_.extractedUrl),P,W);this.events.next(fe),_.resolve(!1)}isUpdatingInternalState(){var _,P;return(null===(_=this.currentTransition)||void 0===_?void 0:_.extractedUrl.toString())!==(null===(P=this.currentTransition)||void 0===P?void 0:P.currentUrlTree.toString())}isUpdatedBrowserUrl(){var _,P;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(_=this.currentTransition)||void 0===_?void 0:_.extractedUrl.toString())&&!(null!==(P=this.currentTransition)&&void 0!==P&&P.extras.skipLocationChange)}}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})();function Ms(E){return E!==me}let ys=(()=>{var E;class w{}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:()=>(0,u.f3M)(zd),providedIn:"root"}),w})();class fa{shouldDetach(w){return!1}store(w,S){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,S){return w.routeConfig===S.routeConfig}}let zd=(()=>{var E;class w extends fa{}return(E=w).\u0275fac=(()=>{let S;return function(P){return(S||(S=u.n5z(E)))(P||E)}})(),E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})(),wc=(()=>{var E;class w{}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:()=>(0,u.f3M)(hi),providedIn:"root"}),w})(),hi=(()=>{var E;class w extends wc{constructor(){super(...arguments),this.location=(0,u.f3M)(Fe.Ye),this.urlSerializer=(0,u.f3M)(lr),this.options=(0,u.f3M)(jt,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,u.f3M)(Er),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Un(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var _,P;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(_=null===(P=this.restoredState())||void 0===P?void 0:P.\u0275routerPageId)&&void 0!==_?_:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(_){return this.location.subscribe(P=>{"popstate"===P.type&&_(P.url,P.state)})}handleRouterEvent(_,P){if(_ instanceof ye)this.stateMemento=this.createStateMemento();else if(_ instanceof Zt)this.rawUrlTree=P.initialUrl;else if(_ instanceof In){if("eager"===this.urlUpdateStrategy&&!P.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(P.finalUrl,P.initialUrl);this.setBrowserUrl(W,P)}}else _ instanceof Pt?(this.currentUrlTree=P.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(P.finalUrl,P.initialUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P))):_ instanceof wt&&(3===_.code||2===_.code)?this.restoreHistory(P):_ instanceof en?this.restoreHistory(P,!0):_ instanceof ze&&(this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId)}setBrowserUrl(_,P){const W=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(W)||P.extras.replaceUrl){const st={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(W,"",st)}else{const fe={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(W,"",fe)}}restoreHistory(_,P=!1){if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-this.browserPageId;0!==fe?this.location.historyGo(fe):this.currentUrlTree===_.finalUrl&&0===fe&&(this.resetState(_),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){var P;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(P=_.finalUrl)&&void 0!==P?P:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,P){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:P}:{navigationId:_}}}return(E=w).\u0275fac=(()=>{let S;return function(P){return(S||(S=u.n5z(E)))(P||E)}})(),E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})();var Gs=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(Gs||{});function Al(E,w){E.events.pipe((0,re.h)(S=>S instanceof ze||S instanceof wt||S instanceof en||S instanceof Zt),(0,Oe.U)(S=>S instanceof ze||S instanceof Zt?Gs.COMPLETE:S instanceof wt&&(0===S.code||1===S.code)?Gs.REDIRECTING:Gs.FAILED),(0,re.h)(S=>S!==Gs.REDIRECTING),(0,ee.q)(1)).subscribe(()=>{w()})}function Po(E){throw E}const Sl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sr=(()=>{var E;class w{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var _,P;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,u.f3M)(u.c2e),this.stateManager=(0,u.f3M)(wc),this.options=(0,u.f3M)(jt,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,u.f3M)(Fi),this.urlSerializer=(0,u.f3M)(lr),this.location=(0,u.f3M)(Fe.Ye),this.urlHandlingStrategy=(0,u.f3M)(Er),this._events=new le.x,this.errorHandler=this.options.errorHandler||Po,this.navigated=!1,this.routeReuseStrategy=(0,u.f3M)(ys),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(_=null===(P=(0,u.f3M)(Gn,{optional:!0}))||void 0===P?void 0:P.flat())&&void 0!==_?_:[],this.componentInputBindingEnabled=!!(0,u.f3M)(ua,{optional:!0}),this.eventsSubscription=new nt.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:W=>{this.console.warn(W)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(P=>{try{const W=this.navigationTransitions.currentTransition,fe=this.navigationTransitions.currentNavigation;if(null!==W&&null!==fe)if(this.stateManager.handleRouterEvent(P,fe),P instanceof wt&&0!==P.code&&1!==P.code)this.navigated=!0;else if(P instanceof ze)this.navigated=!0;else if(P instanceof Qt){const st=this.urlHandlingStrategy.merge(P.url,W.currentRawUrl),Ot={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ms(W.source)};this.scheduleNavigation(st,me,null,Ot,{resolve:W.resolve,reject:W.reject,promise:W.promise})}(function Ps(E){return!(E instanceof Pt||E instanceof Qt)})(P)&&this._events.next(P)}catch(W){this.navigationTransitions.transitionAbortSubject.next(W)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),me,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((_,P)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(_,"popstate",P)},0)}))}navigateToSyncWithBrowser(_,P,W){const fe={replaceUrl:!0},st=null!=W&&W.navigationId?W:null;if(W){const ft={...W};delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(fe.state=ft)}const Ot=this.parseUrl(_);this.scheduleNavigation(Ot,P,st,fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(As),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,P={}){const{relativeTo:W,queryParams:fe,fragment:st,queryParamsHandling:Ot,preserveFragment:ft}=P,ln=ft?this.currentUrlTree.fragment:st;let ni,Kn=null;switch(Ot){case"merge":Kn={...this.currentUrlTree.queryParams,...fe};break;case"preserve":Kn=this.currentUrlTree.queryParams;break;default:Kn=fe||null}null!==Kn&&(Kn=this.removeEmptyProps(Kn));try{ni=yt(W?W.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),ni=this.currentUrlTree.root}return Xe(ni,_,Kn,null!=ln?ln:null)}navigateByUrl(_,P={skipLocationChange:!1}){const W=Pr(_)?_:this.parseUrl(_),fe=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(fe,me,null,P)}navigate(_,P={skipLocationChange:!1}){return function fi(E){for(let w=0;w<E.length;w++)if(null==E[w])throw new u.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,P),P)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){try{return this.urlSerializer.parse(_)}catch{return this.urlSerializer.parse("/")}}isActive(_,P){let W;if(W=!0===P?{...Sl}:!1===P?{...Rl}:P,Pr(_))return cr(this.currentUrlTree,_,W);const fe=this.parseUrl(_);return cr(this.currentUrlTree,fe,W)}removeEmptyProps(_){return Object.keys(_).reduce((P,W)=>{const fe=_[W];return null!=fe&&(P[W]=fe),P},{})}scheduleNavigation(_,P,W,fe,st){if(this.disposed)return Promise.resolve(!1);let Ot,ft,ln;st?(Ot=st.resolve,ft=st.reject,ln=st.promise):ln=new Promise((ni,tr)=>{Ot=ni,ft=tr});const Kn=this.pendingTasks.add();return Al(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Kn))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:fe,resolve:Ot,reject:ft,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(ni=>Promise.reject(ni))}}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})(),Is=(()=>{var E;class w{constructor(_,P,W,fe,st,Ot){var ft;this.router=_,this.route=P,this.tabIndexAttribute=W,this.renderer=fe,this.el=st,this.locationStrategy=Ot,this.href=null,this.commands=null,this.onChanges=new le.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ln=null===(ft=st.nativeElement.tagName)||void 0===ft?void 0:ft.toLowerCase();this.isAnchorElement="a"===ln||"area"===ln,this.isAnchorElement?this.subscription=_.events.subscribe(Kn=>{Kn instanceof ze&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,P,W,fe,st){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||P||W||fe||st||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var _;null===(_=this.subscription)||void 0===_||_.unsubscribe()}updateHref(){var _;this.href=null!==this.urlTree&&this.locationStrategy?null===(_=this.locationStrategy)||void 0===_?void 0:_.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const P=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",P)}applyAttributeValue(_,P){const W=this.renderer,fe=this.el.nativeElement;null!==P?W.setAttribute(fe,_,P):W.removeAttribute(fe,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(E=w).\u0275fac=function(_){return new(_||E)(u.Y36(Sr),u.Y36(Hr),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Fe.S$))},E.\u0275dir=u.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(_,P){1&_&&u.NdJ("click",function(fe){return P.onClick(fe.button,fe.ctrlKey,fe.shiftKey,fe.altKey,fe.metaKey)}),2&_&&u.uIk("target",P.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",u.VuI],replaceUrl:["replaceUrl","replaceUrl",u.VuI],routerLink:"routerLink"},standalone:!0,features:[u.Xq5,u.TTD]}),w})();class wi{}let xo=(()=>{var E;class w{preload(_,P){return P().pipe(At(()=>(0,se.of)(null)))}}return(E=w).\u0275fac=function(_){return new(_||E)},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})(),yn=(()=>{var E;class w{constructor(_,P,W,fe,st){this.router=_,this.injector=W,this.preloadingStrategy=fe,this.loader=st}setUpPreloading(){this.subscription=this.router.events.pipe((0,re.h)(_=>_ instanceof ze),Be(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,P){const W=[];for(const ft of P){var fe,st;ft.providers&&!ft._injector&&(ft._injector=(0,u.MMx)(ft.providers,_,`Route: ${ft.path}`));const ln=null!==(fe=ft._injector)&&void 0!==fe?fe:_,Kn=null!==(st=ft._loadedInjector)&&void 0!==st?st:ln;var Ot;(ft.loadChildren&&!ft._loadedRoutes&&void 0===ft.canLoad||ft.loadComponent&&!ft._loadedComponent)&&W.push(this.preloadConfig(ln,ft)),(ft.children||ft._loadedRoutes)&&W.push(this.processRoutes(Kn,null!==(Ot=ft.children)&&void 0!==Ot?Ot:ft._loadedRoutes))}return(0,Me.D)(W).pipe((0,Dt.J)())}preloadConfig(_,P){return this.preloadingStrategy.preload(P,()=>{let W;W=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(_,P):(0,se.of)(null);const fe=W.pipe((0,ae.z)(st=>{var Ot;return null===st?(0,se.of)(void 0):(P._loadedRoutes=st.routes,P._loadedInjector=st.injector,this.processRoutes(null!==(Ot=st.injector)&&void 0!==Ot?Ot:_,st.routes))}));if(P.loadComponent&&!P._loadedComponent){const st=this.loader.loadComponent(P);return(0,Me.D)([fe,st]).pipe((0,Dt.J)())}return fe})}}return(E=w).\u0275fac=function(_){return new(_||E)(u.LFG(Sr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(wi),u.LFG(dr))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),w})();const Tn=new u.OlP("");let Xa=(()=>{var E;class w{constructor(_,P,W,fe,st={}){this.urlSerializer=_,this.transitions=P,this.viewportScroller=W,this.zone=fe,this.options=st,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},st.scrollPositionRestoration=st.scrollPositionRestoration||"disabled",st.anchorScrolling=st.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof ye?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof ze?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof Zt&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Vt&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vt(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){var _,P;null===(_=this.routerEventsSubscription)||void 0===_||_.unsubscribe(),null===(P=this.scrollEventsSubscription)||void 0===P||P.unsubscribe()}}return(E=w).\u0275fac=function(_){u.$Z()},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),w})();function dt(E,w){return{\u0275kind:E,\u0275providers:w}}function Wd(){const E=(0,u.f3M)(u.zs3);return w=>{var S,_;const P=E.get(u.z2F);if(w!==P.components[0])return;const W=E.get(Sr),fe=E.get(xs);1===E.get(pa)&&W.initialNavigation(),null===(S=E.get(Oi,null,u.XFs.Optional))||void 0===S||S.setUpPreloading(),null===(_=E.get(Tn,null,u.XFs.Optional))||void 0===_||_.init(),W.resetRootComponentType(P.componentTypes[0]),fe.closed||(fe.next(),fe.complete(),fe.unsubscribe())}}const xs=new u.OlP("",{factory:()=>new le.x}),pa=new u.OlP("",{providedIn:"root",factory:()=>1}),Oi=new u.OlP("");function Ac(E){return dt(0,[{provide:Oi,useExisting:yn},{provide:wi,useExisting:E}])}function rn(E){return dt(9,[{provide:go,useValue:_s},{provide:mo,useValue:{skipNextTransition:!(null==E||!E.skipInitialTransition),...E}}])}const _r=new u.OlP("ROUTER_FORROOT_GUARD"),Go=[Fe.Ye,{provide:lr,useClass:Wr},Sr,Jn,{provide:Hr,useFactory:function _t(E){return E.routerState.root},deps:[Sr]},dr,[]];let Xr=(()=>{var E;class w{constructor(_){}static forRoot(_,P){return{ngModule:w,providers:[Go,[],{provide:Gn,multi:!0,useValue:_},{provide:_r,useFactory:Os,deps:[[Sr,new u.FiY,new u.tp0]]},{provide:jt,useValue:P||{}},null!=P&&P.useHash?{provide:Fe.S$,useClass:Fe.Do}:{provide:Fe.S$,useClass:Fe.b0},{provide:Tn,useFactory:()=>{const E=(0,u.f3M)(Fe.EM),w=(0,u.f3M)(u.R0b),S=(0,u.f3M)(jt),_=(0,u.f3M)(Fi),P=(0,u.f3M)(lr);return S.scrollOffset&&E.setOffset(S.scrollOffset),new Xa(P,_,E,w,S)}},null!=P&&P.preloadingStrategy?Ac(P.preloadingStrategy).\u0275providers:[],null!=P&&P.initialNavigation?vo(P):[],null!=P&&P.bindToComponentInputs?dt(8,[Mo,{provide:ua,useExisting:Mo}]).\u0275providers:[],null!=P&&P.enableViewTransitions?rn().\u0275providers:[],[{provide:Zi,useFactory:Wd},{provide:u.tb,multi:!0,useExisting:Zi}]]}}static forChild(_){return{ngModule:w,providers:[{provide:Gn,multi:!0,useValue:_}]}}}return(E=w).\u0275fac=function(_){return new(_||E)(u.LFG(_r,8))},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({}),w})();function Os(E){return"guarded"}function vo(E){return["disabled"===E.initialNavigation?dt(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const w=(0,u.f3M)(Sr);return()=>{w.setUpLocationChangeListener()}}},{provide:pa,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?dt(2,[{provide:pa,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:w=>{const S=w.get(Fe.V_,Promise.resolve());return()=>S.then(()=>new Promise(_=>{const P=w.get(Sr),W=w.get(xs);Al(P,()=>{_(!0)}),w.get(Fi).afterPreactivation=()=>(_(!0),W.closed?(0,se.of)(void 0):W),P.initialNavigation()}))}}]).\u0275providers:[]]}const Zi=new u.OlP("")},3106:(Wt,et,N)=>{"use strict";N.d(et,{Z:()=>Pe});var u=N(9058),U=N(4537),Q=N(534),J=N(7879);class Me{constructor(xe,Le){this._delegate=xe,this.firebase=Le,(0,Q._addComponent)(xe,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(xe,Le=Q._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(xe);return!ht.isInitialized()&&"EXPLICIT"===(null===(He=ht.getComponent())||void 0===He?void 0:He.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:Le})}_removeServiceInstance(xe,Le=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Le)}_addComponent(xe){(0,Q._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,Q._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ie=function je(){const nt=function We(nt){const xe={},Le={__esModule:!0,initializeApp:function le(ee,ge={}){const re=Q.initializeApp(ee,ge);if((0,u.r3)(xe,re.name))return xe[re.name];const ae=new nt(re,Le);return xe[re.name]=ae,ae},app:ht,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function Oe(ee){const ge=ee.name,re=ge.replace("-compat","");if(Q._registerComponent(ee)&&"PUBLIC"===ee.type){const ae=(Ke=ht())=>{if("function"!=typeof Ke[re])throw pe.create("invalid-app-argument",{appName:ge});return Ke[re]()};void 0!==ee.serviceProps&&(0,u.ZB)(ae,ee.serviceProps),Le[re]=ae,nt.prototype[re]=function(...Ke){return this._getService.bind(this,ge).apply(this,ee.multipleInstances?Ke:[])}}return"PUBLIC"===ee.type?Le[re]:null},removeApp:function He(ee){delete xe[ee]},useAsService:function we(ee,ge){return"serverAuth"===ge?null:ge},modularAPIs:Q}};function ht(ee){if(!(0,u.r3)(xe,ee=ee||Q._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:ee});return xe[ee]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function Fe(){return Object.keys(xe).map(ee=>xe[ee])}}),ht.App=nt,Le}(Me);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function xe(Le){(0,u.ZB)(nt,Le)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),nt}(),ce=new J.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=Ie;!function Re(nt){(0,Q.registerVersion)("@firebase/app-compat","0.2.25",nt)}()},534:(Wt,et,N)=>{"use strict";N.r(et),N.d(et,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>Wr,_DEFAULT_ENTRY_NAME:()=>Ut,_addComponent:()=>nr,_addOrOverwriteComponent:()=>Bt,_apps:()=>_n,_clearComponents:()=>Xn,_components:()=>qn,_getProvider:()=>bn,_registerComponent:()=>gr,_removeServiceInstance:()=>Br,deleteApp:()=>Yr,getApp:()=>Ln,getApps:()=>qr,initializeApp:()=>An,onLog:()=>jr,registerVersion:()=>ri,setLogLevel:()=>Kr});var u=N(5861),U=N(4537),Q=N(7879),J=N(9058);const Me=(yt,Xe)=>Xe.some(xt=>yt instanceof xt);let se,pe;const Ie=new WeakMap,ce=new WeakMap,Ne=new WeakMap,$e=new WeakMap,Re=new WeakMap;let xe={get(yt,Xe,xt){if(yt instanceof IDBTransaction){if("done"===Xe)return ce.get(yt);if("objectStoreNames"===Xe)return yt.objectStoreNames||Ne.get(yt);if("store"===Xe)return xt.objectStoreNames[1]?void 0:xt.objectStore(xt.objectStoreNames[0])}return le(yt[Xe])},set:(yt,Xe,xt)=>(yt[Xe]=xt,!0),has:(yt,Xe)=>yt instanceof IDBTransaction&&("done"===Xe||"store"===Xe)||Xe in yt};function ht(yt){return"function"==typeof yt?function He(yt){return yt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(yt)?function(...Xe){return yt.apply(Fe(this),Xe),le(Ie.get(this))}:function(...Xe){return le(yt.apply(Fe(this),Xe))}:function(Xe,...xt){const on=yt.call(Fe(this),Xe,...xt);return Ne.set(on,Xe.sort?Xe.sort():[Xe]),le(on)}}(yt):(yt instanceof IDBTransaction&&function nt(yt){if(ce.has(yt))return;const Xe=new Promise((xt,on)=>{const Sn=()=>{yt.removeEventListener("complete",Cn),yt.removeEventListener("error",$n),yt.removeEventListener("abort",$n)},Cn=()=>{xt(),Sn()},$n=()=>{on(yt.error||new DOMException("AbortError","AbortError")),Sn()};yt.addEventListener("complete",Cn),yt.addEventListener("error",$n),yt.addEventListener("abort",$n)});ce.set(yt,Xe)}(yt),Me(yt,function We(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(yt,xe):yt)}function le(yt){if(yt instanceof IDBRequest)return function Pe(yt){const Xe=new Promise((xt,on)=>{const Sn=()=>{yt.removeEventListener("success",Cn),yt.removeEventListener("error",$n)},Cn=()=>{xt(le(yt.result)),Sn()},$n=()=>{on(yt.error),Sn()};yt.addEventListener("success",Cn),yt.addEventListener("error",$n)});return Xe.then(xt=>{xt instanceof IDBCursor&&Ie.set(xt,yt)}).catch(()=>{}),Re.set(Xe,yt),Xe}(yt);if($e.has(yt))return $e.get(yt);const Xe=ht(yt);return Xe!==yt&&($e.set(yt,Xe),Re.set(Xe,yt)),Xe}const Fe=yt=>Re.get(yt),ee=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],re=new Map;function ae(yt,Xe){if(!(yt instanceof IDBDatabase)||Xe in yt||"string"!=typeof Xe)return;if(re.get(Xe))return re.get(Xe);const xt=Xe.replace(/FromIndex$/,""),on=Xe!==xt,Sn=ge.includes(xt);if(!(xt in(on?IDBIndex:IDBObjectStore).prototype)||!Sn&&!ee.includes(xt))return;const Cn=function(){var $n=(0,u.Z)(function*(Dr,...rr){const Cr=this.transaction(Dr,Sn?"readwrite":"readonly");let _i=Cr.store;return on&&(_i=_i.index(rr.shift())),(yield Promise.all([_i[xt](...rr),Sn&&Cr.done]))[0]});return function(rr){return $n.apply(this,arguments)}}();return re.set(Xe,Cn),Cn}!function Le(yt){xe=yt(xe)}(yt=>({...yt,get:(Xe,xt,on)=>ae(Xe,xt)||yt.get(Xe,xt,on),has:(Xe,xt)=>!!ae(Xe,xt)||yt.has(Xe,xt)}));class Ke{constructor(Xe){this.container=Xe}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function Be(yt){const Xe=yt.getComponent();return"VERSION"===(null==Xe?void 0:Xe.type)}(xt)){const on=xt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(xt=>xt).join(" ")}}const rt="@firebase/app",tn=new Q.Yd("@firebase/app"),Ut="[DEFAULT]",En={[rt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,qn=new Map;function nr(yt,Xe){try{yt.container.addComponent(Xe)}catch(xt){tn.debug(`Component ${Xe.name} failed to register with FirebaseApp ${yt.name}`,xt)}}function Bt(yt,Xe){yt.container.addOrOverwriteComponent(Xe)}function gr(yt){const Xe=yt.name;if(qn.has(Xe))return tn.debug(`There were multiple attempts to register component ${Xe}.`),!1;qn.set(Xe,yt);for(const xt of _n.values())nr(xt,yt);return!0}function bn(yt,Xe){const xt=yt.container.getProvider("heartbeat").getImmediate({optional:!0});return xt&&xt.triggerHeartbeat(),yt.container.getProvider(Xe)}function Br(yt,Xe,xt=Ut){bn(yt,Xe).clearInstance(xt)}function Xn(){qn.clear()}const On=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lr{constructor(Xe,xt,on){this._isDeleted=!1,this._options=Object.assign({},Xe),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Xe){this._isDeleted=Xe}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const Wr="10.7.1";function An(yt,Xe={}){let xt=yt;"object"!=typeof Xe&&(Xe={name:Xe});const on=Object.assign({name:Ut,automaticDataCollectionEnabled:!1},Xe),Sn=on.name;if("string"!=typeof Sn||!Sn)throw On.create("bad-app-name",{appName:String(Sn)});if(xt||(xt=(0,J.aH)()),!xt)throw On.create("no-options");const Cn=_n.get(Sn);if(Cn){if((0,J.vZ)(xt,Cn.options)&&(0,J.vZ)(on,Cn.config))return Cn;throw On.create("duplicate-app",{appName:Sn})}const $n=new U.H0(Sn);for(const rr of qn.values())$n.addComponent(rr);const Dr=new lr(xt,on,$n);return _n.set(Sn,Dr),Dr}function Ln(yt=Ut){const Xe=_n.get(yt);if(!Xe&&yt===Ut&&(0,J.aH)())return An();if(!Xe)throw On.create("no-app",{appName:yt});return Xe}function qr(){return Array.from(_n.values())}function Yr(yt){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(yt){const Xe=yt.name;_n.has(Xe)&&(_n.delete(Xe),yield Promise.all(yt.container.getProviders().map(xt=>xt.delete())),yt.isDeleted=!0)})).apply(this,arguments)}function ri(yt,Xe,xt){var on;let Sn=null!==(on=En[yt])&&void 0!==on?on:yt;xt&&(Sn+=`-${xt}`);const Cn=Sn.match(/\s|\//),$n=Xe.match(/\s|\//);if(Cn||$n){const Dr=[`Unable to register library "${Sn}" with version "${Xe}":`];return Cn&&Dr.push(`library name "${Sn}" contains illegal characters (whitespace or "/")`),Cn&&$n&&Dr.push("and"),$n&&Dr.push(`version name "${Xe}" contains illegal characters (whitespace or "/")`),void tn.warn(Dr.join(" "))}gr(new U.wA(`${Sn}-version`,()=>({library:Sn,version:Xe}),"VERSION"))}function jr(yt,Xe){if(null!==yt&&"function"!=typeof yt)throw On.create("invalid-log-argument");(0,Q.Am)(yt,Xe)}function Kr(yt){(0,Q.Ub)(yt)}const mr="firebase-heartbeat-database",ai=1,te="firebase-heartbeat-store";let H=null;function oe(){return H||(H=function Oe(yt,Xe,{blocked:xt,upgrade:on,blocking:Sn,terminated:Cn}={}){const $n=indexedDB.open(yt,Xe),Dr=le($n);return on&&$n.addEventListener("upgradeneeded",rr=>{on(le($n.result),rr.oldVersion,rr.newVersion,le($n.transaction),rr)}),xt&&$n.addEventListener("blocked",rr=>xt(rr.oldVersion,rr.newVersion,rr)),Dr.then(rr=>{Cn&&rr.addEventListener("close",()=>Cn()),Sn&&rr.addEventListener("versionchange",Cr=>Sn(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),Dr}(mr,ai,{upgrade:(yt,Xe)=>{0===Xe&&yt.createObjectStore(te)}}).catch(yt=>{throw On.create("idb-open",{originalErrorMessage:yt.message})})),H}function he(){return(he=(0,u.Z)(function*(yt){try{return yield(yield oe()).transaction(te).objectStore(te).get(Gt(yt))}catch(Xe){if(Xe instanceof J.ZR)tn.warn(Xe.message);else{const xt=On.create("idb-get",{originalErrorMessage:null==Xe?void 0:Xe.message});tn.warn(xt.message)}}})).apply(this,arguments)}function ot(yt,Xe){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(yt,Xe){try{const on=(yield oe()).transaction(te,"readwrite");yield on.objectStore(te).put(Xe,Gt(yt)),yield on.done}catch(xt){if(xt instanceof J.ZR)tn.warn(xt.message);else{const on=On.create("idb-set",{originalErrorMessage:null==xt?void 0:xt.message});tn.warn(on.message)}}})).apply(this,arguments)}function Gt(yt){return`${yt.name}!${yt.options.appId}`}class ur{constructor(Xe){this.container=Xe,this._heartbeatsCache=null;const xt=this.container.getProvider("app").getImmediate();this._storage=new li(xt),this._heartbeatsCachePromise=this._storage.read().then(on=>(this._heartbeatsCache=on,on))}triggerHeartbeat(){var Xe=this;return(0,u.Z)(function*(){var xt,on;const Cn=Xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$n=Xt();if((null!=(null===(xt=Xe._heartbeatsCache)||void 0===xt?void 0:xt.heartbeats)||(Xe._heartbeatsCache=yield Xe._heartbeatsCachePromise,null!=(null===(on=Xe._heartbeatsCache)||void 0===on?void 0:on.heartbeats)))&&Xe._heartbeatsCache.lastSentHeartbeatDate!==$n&&!Xe._heartbeatsCache.heartbeats.some(Dr=>Dr.date===$n))return Xe._heartbeatsCache.heartbeats.push({date:$n,agent:Cn}),Xe._heartbeatsCache.heartbeats=Xe._heartbeatsCache.heartbeats.filter(Dr=>{const rr=new Date(Dr.date).valueOf();return Date.now()-rr<=2592e6}),Xe._storage.overwrite(Xe._heartbeatsCache)})()}getHeartbeatsHeader(){var Xe=this;return(0,u.Z)(function*(){var xt;if(null===Xe._heartbeatsCache&&(yield Xe._heartbeatsCachePromise),null==(null===(xt=Xe._heartbeatsCache)||void 0===xt?void 0:xt.heartbeats)||0===Xe._heartbeatsCache.heartbeats.length)return"";const on=Xt(),{heartbeatsToSend:Sn,unsentEntries:Cn}=function qt(yt,Xe=1024){const xt=[];let on=yt.slice();for(const Sn of yt){const Cn=xt.find($n=>$n.agent===Sn.agent);if(Cn){if(Cn.dates.push(Sn.date),Pr(xt)>Xe){Cn.dates.pop();break}}else if(xt.push({agent:Sn.agent,dates:[Sn.date]}),Pr(xt)>Xe){xt.pop();break}on=on.slice(1)}return{heartbeatsToSend:xt,unsentEntries:on}}(Xe._heartbeatsCache.heartbeats),$n=(0,J.L)(JSON.stringify({version:2,heartbeats:Sn}));return Xe._heartbeatsCache.lastSentHeartbeatDate=on,Cn.length>0?(Xe._heartbeatsCache.heartbeats=Cn,yield Xe._storage.overwrite(Xe._heartbeatsCache)):(Xe._heartbeatsCache.heartbeats=[],Xe._storage.overwrite(Xe._heartbeatsCache)),$n})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class li{constructor(Xe){this.app=Xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Xe=this;return(0,u.Z)(function*(){if(yield Xe._canUseIndexedDBPromise){const on=yield function de(yt){return he.apply(this,arguments)}(Xe.app);return null!=on&&on.heartbeats?on:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Xe){var xt=this;return(0,u.Z)(function*(){var on;if(yield xt._canUseIndexedDBPromise){const Cn=yield xt.read();return ot(xt.app,{lastSentHeartbeatDate:null!==(on=Xe.lastSentHeartbeatDate)&&void 0!==on?on:Cn.lastSentHeartbeatDate,heartbeats:Xe.heartbeats})}})()}add(Xe){var xt=this;return(0,u.Z)(function*(){var on;if(yield xt._canUseIndexedDBPromise){const Cn=yield xt.read();return ot(xt.app,{lastSentHeartbeatDate:null!==(on=Xe.lastSentHeartbeatDate)&&void 0!==on?on:Cn.lastSentHeartbeatDate,heartbeats:[...Cn.heartbeats,...Xe.heartbeats]})}})()}}function Pr(yt){return(0,J.L)(JSON.stringify({version:2,heartbeats:yt})).length}!function Bi(yt){gr(new U.wA("platform-logger",Xe=>new Ke(Xe),"PRIVATE")),gr(new U.wA("heartbeat",Xe=>new ur(Xe),"PRIVATE")),ri(rt,"0.9.25",yt),ri(rt,"0.9.25","esm2017"),ri("fire-js","")}("")},4537:(Wt,et,N)=>{"use strict";N.d(et,{H0:()=>We,wA:()=>Q});var u=N(5861),U=N(9058);class Q{constructor(Ie,ce,Ne){this.name=Ie,this.instanceFactory=ce,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ie){return this.instantiationMode=Ie,this}setMultipleInstances(Ie){return this.multipleInstances=Ie,this}setServiceProps(Ie){return this.serviceProps=Ie,this}setInstanceCreatedCallback(Ie){return this.onInstanceCreated=Ie,this}}const J="[DEFAULT]";class Me{constructor(Ie,ce){this.name=Ie,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ie){const ce=this.normalizeInstanceIdentifier(Ie);if(!this.instancesDeferred.has(ce)){const Ne=new U.BH;if(this.instancesDeferred.set(ce,Ne),this.isInitialized(ce)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:ce});$e&&Ne.resolve($e)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(Ie){var ce;const Ne=this.normalizeInstanceIdentifier(null==Ie?void 0:Ie.identifier),$e=null!==(ce=null==Ie?void 0:Ie.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(Re){if($e)return null;throw Re}}getComponent(){return this.component}setComponent(Ie){if(Ie.name!==this.name)throw Error(`Mismatching Component ${Ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ie,this.shouldAutoInitialize()){if(function pe(je){return"EAGER"===je.instantiationMode}(Ie))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[ce,Ne]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(ce);try{const Re=this.getOrInitializeService({instanceIdentifier:$e});Ne.resolve(Re)}catch{}}}}clearInstance(Ie=J){this.instancesDeferred.delete(Ie),this.instancesOptions.delete(Ie),this.instances.delete(Ie)}delete(){var Ie=this;return(0,u.Z)(function*(){const ce=Array.from(Ie.instances.values());yield Promise.all([...ce.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...ce.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ie=J){return this.instances.has(Ie)}getOptions(Ie=J){return this.instancesOptions.get(Ie)||{}}initialize(Ie={}){const{options:ce={}}=Ie,Ne=this.normalizeInstanceIdentifier(Ie.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:Ne,options:ce});for(const[Re,Pe]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(Re)&&Pe.resolve($e);return $e}onInit(Ie,ce){var Ne;const $e=this.normalizeInstanceIdentifier(ce),Re=null!==(Ne=this.onInitCallbacks.get($e))&&void 0!==Ne?Ne:new Set;Re.add(Ie),this.onInitCallbacks.set($e,Re);const Pe=this.instances.get($e);return Pe&&Ie(Pe,$e),()=>{Re.delete(Ie)}}invokeOnInitCallbacks(Ie,ce){const Ne=this.onInitCallbacks.get(ce);if(Ne)for(const $e of Ne)try{$e(Ie,ce)}catch{}}getOrInitializeService({instanceIdentifier:Ie,options:ce={}}){let Ne=this.instances.get(Ie);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(je=Ie,je===J?void 0:je),options:ce}),this.instances.set(Ie,Ne),this.instancesOptions.set(Ie,ce),this.invokeOnInitCallbacks(Ne,Ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ie,Ne)}catch{}var je;return Ne||null}normalizeInstanceIdentifier(Ie=J){return this.component?this.component.multipleInstances?Ie:J:Ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class We{constructor(Ie){this.name=Ie,this.providers=new Map}addComponent(Ie){const ce=this.getProvider(Ie.name);if(ce.isComponentSet())throw new Error(`Component ${Ie.name} has already been registered with ${this.name}`);ce.setComponent(Ie)}addOrOverwriteComponent(Ie){this.getProvider(Ie.name).isComponentSet()&&this.providers.delete(Ie.name),this.addComponent(Ie)}getProvider(Ie){if(this.providers.has(Ie))return this.providers.get(Ie);const ce=new Me(Ie,this);return this.providers.set(Ie,ce),ce}getProviders(){return Array.from(this.providers.values())}}},7879:(Wt,et,N)=>{"use strict";N.d(et,{Am:()=>je,Ub:()=>We,Yd:()=>pe,in:()=>U});const u=[];var U=function(Ie){return Ie[Ie.DEBUG=0]="DEBUG",Ie[Ie.VERBOSE=1]="VERBOSE",Ie[Ie.INFO=2]="INFO",Ie[Ie.WARN=3]="WARN",Ie[Ie.ERROR=4]="ERROR",Ie[Ie.SILENT=5]="SILENT",Ie}(U||{});const Q={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},J=U.INFO,Me={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},se=(Ie,ce,...Ne)=>{if(ce<Ie.logLevel)return;const $e=(new Date).toISOString(),Re=Me[ce];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Re](`[${$e}]  ${Ie.name}:`,...Ne)};class pe{constructor(ce){this.name=ce,this._logLevel=J,this._logHandler=se,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in U))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?Q[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...ce),this._logHandler(this,U.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...ce),this._logHandler(this,U.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,U.INFO,...ce),this._logHandler(this,U.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,U.WARN,...ce),this._logHandler(this,U.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...ce),this._logHandler(this,U.ERROR,...ce)}}function We(Ie){u.forEach(ce=>{ce.setLogLevel(Ie)})}function je(Ie,ce){for(const Ne of u){let $e=null;ce&&ce.level&&($e=Q[ce.level]),Ne.userLogHandler=null===Ie?null:(Re,Pe,...nt)=>{const xe=nt.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch{return null}}).filter(Le=>Le).join(" ");Pe>=(null!=$e?$e:Re.logLevel)&&Ie({level:U[Pe].toLowerCase(),message:xe,args:nt,type:Re.name})}}}},5472:(Wt,et,N)=>{"use strict";N.d(et,{y4:()=>gr,De:()=>_n,dy:()=>qn,oU:()=>on,ki:()=>ai,O1:()=>rr,d8:()=>jr,jP:()=>qt,UN:()=>Cr,r4:()=>kn,SH:()=>vn,xs:()=>pr,j:()=>Sn,H:()=>Cn,bk:()=>Ci,DN:()=>yt,Wn:()=>_i,vk:()=>br});var u=N(5861),U=N(9212),Q=N(4934),J=N(6814);class Me{constructor(){this.m=new Map}reset(me){this.m=new Map(Object.entries(me))}get(me,z){const ye=this.m.get(me);return void 0!==ye?ye:z}getBoolean(me,z=!1){const ye=this.m.get(me);return void 0===ye?z:"string"==typeof ye?"true"===ye:!!ye}getNumber(me,z){const ye=parseFloat(this.m.get(me));return isNaN(ye)?void 0!==z?z:NaN:ye}set(me,z){this.m.set(me,z)}}const se=new Me,$e=Ee=>Pe(Ee),Pe=(Ee=window)=>{if(typeof Ee>"u")return[];Ee.Ionic=Ee.Ionic||{};let me=Ee.Ionic.platforms;return null==me&&(me=Ee.Ionic.platforms=nt(Ee),me.forEach(z=>Ee.document.documentElement.classList.add(`plt-${z}`))),me},nt=Ee=>{const me=se.get("platform");return Object.keys(zt).filter(z=>{const ye=null==me?void 0:me[z];return"function"==typeof ye?ye(Ee):zt[z](Ee)})},Le=Ee=>!!(At(Ee,/iPad/i)||At(Ee,/Macintosh/i)&&ee(Ee)),le=Ee=>At(Ee,/android|sink/i),ee=Ee=>tn(Ee,"(any-pointer:coarse)"),re=Ee=>ae(Ee)||Ke(Ee),ae=Ee=>!!(Ee.cordova||Ee.phonegap||Ee.PhoneGap),Ke=Ee=>{const me=Ee.Capacitor;return!(null==me||!me.isNative)},At=(Ee,me)=>me.test(Ee.navigator.userAgent),tn=(Ee,me)=>{var z;return null===(z=Ee.matchMedia)||void 0===z?void 0:z.call(Ee,me).matches},zt={ipad:Le,iphone:Ee=>At(Ee,/iPhone/i),ios:Ee=>At(Ee,/iPhone|iPod/i)||Le(Ee),android:le,phablet:Ee=>{const me=Ee.innerWidth,z=Ee.innerHeight,ye=Math.min(me,z),ze=Math.max(me,z);return ye>390&&ye<520&&ze>620&&ze<800},tablet:Ee=>{const me=Ee.innerWidth,z=Ee.innerHeight,ye=Math.min(me,z),ze=Math.max(me,z);return Le(Ee)||(Ee=>le(Ee)&&!At(Ee,/mobile/i))(Ee)||ye>460&&ye<820&&ze>780&&ze<1400},cordova:ae,capacitor:Ke,electron:Ee=>At(Ee,/electron/i),pwa:Ee=>{var me;return!!(null!==(me=Ee.matchMedia)&&void 0!==me&&me.call(Ee,"(display-mode: standalone)").matches||Ee.navigator.standalone)},mobile:ee,mobileweb:Ee=>ee(Ee)&&!re(Ee),desktop:Ee=>!ee(Ee),hybrid:re};var be=N(191),ve=N(3630),qe=N(8645),Ye=N(2438),Et=N(5619),Dt=N(2572),bt=N(2096),lt=N(7582),Ht=N(2181),Dn=N(4664),pt=N(3997),at=N(95);const it=["tabsInner"];let fn=(()=>{class Ee{constructor(z,ye){this.doc=z,this.backButton=new qe.x,this.keyboardDidShow=new qe.x,this.keyboardDidHide=new qe.x,this.pause=new qe.x,this.resume=new qe.x,this.resize=new qe.x,ye.run(()=>{var ze;let wt;this.win=z.defaultView,this.backButton.subscribeWithPriority=function(Zt,en){return this.subscribe(In=>In.register(Zt,Fn=>ye.run(()=>en(Fn))))},Pn(this.pause,z,"pause",ye),Pn(this.resume,z,"resume",ye),Pn(this.backButton,z,"ionBackButton",ye),Pn(this.resize,this.win,"resize",ye),Pn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ye),Pn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ye),this._readyPromise=new Promise(Zt=>{wt=Zt}),null!==(ze=this.win)&&void 0!==ze&&ze.cordova?z.addEventListener("deviceready",()=>{wt("cordova")},{once:!0}):wt("dom")})}is(z){return((Ee,me)=>("string"==typeof Ee&&(me=Ee,Ee=void 0),$e(Ee).includes(me)))(this.win,z)}platforms(){return $e(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(z){return nn(this.win.location.href,z)}isLandscape(){return!this.isPortrait()}isPortrait(){var z,ye;return null===(z=(ye=this.win).matchMedia)||void 0===z?void 0:z.call(ye,"(orientation: portrait)").matches}testUserAgent(z){const ye=this.win.navigator;return!!(null!=ye&&ye.userAgent&&ye.userAgent.indexOf(z)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Ee.\u0275fac=function(z){return new(z||Ee)(U.LFG(J.K0),U.LFG(U.R0b))},Ee.\u0275prov=U.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();const nn=(Ee,me)=>{me=me.replace(/[[\]\\]/g,"\\$&");const ye=new RegExp("[\\?&]"+me+"=([^&#]*)").exec(Ee);return ye?decodeURIComponent(ye[1].replace(/\+/g," ")):null},Pn=(Ee,me,z,ye)=>{me&&me.addEventListener(z,ze=>{ye.run(()=>{Ee.next(null!=ze?ze.detail:void 0)})})};let vn=(()=>{class Ee{constructor(z,ye,ze,wt){this.location=ye,this.serializer=ze,this.router=wt,this.direction=Ut,this.animated=En,this.guessDirection="forward",this.lastNavId=-1,wt&&wt.events.subscribe(Zt=>{if(Zt instanceof Q.OD){const en=Zt.restoredState?Zt.restoredState.navigationId:Zt.id;this.guessDirection=en<this.lastNavId?"back":"forward",this.guessAnimation=Zt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Zt.id:en}}),z.backButton.subscribeWithPriority(0,Zt=>{this.pop(),Zt()})}navigateForward(z,ye={}){return this.setDirection("forward",ye.animated,ye.animationDirection,ye.animation),this.navigate(z,ye)}navigateBack(z,ye={}){return this.setDirection("back",ye.animated,ye.animationDirection,ye.animation),this.navigate(z,ye)}navigateRoot(z,ye={}){return this.setDirection("root",ye.animated,ye.animationDirection,ye.animation),this.navigate(z,ye)}back(z={animated:!0,animationDirection:"back"}){return this.setDirection("back",z.animated,z.animationDirection,z.animation),this.location.back()}pop(){var z=this;return(0,u.Z)(function*(){let ye=z.topOutlet;for(;ye;){if(yield ye.pop())return!0;ye=ye.parentOutlet}return!1})()}setDirection(z,ye,ze,wt){this.direction=z,this.animated=cr(z,ye,ze),this.animationBuilder=wt}setTopOutlet(z){this.topOutlet=z}consumeTransition(){let ye,z="root";const ze=this.animationBuilder;return"auto"===this.direction?(z=this.guessDirection,ye=this.guessAnimation):(ye=this.animated,z=this.direction),this.direction=Ut,this.animated=En,this.animationBuilder=void 0,{direction:z,animation:ye,animationBuilder:ze}}navigate(z,ye){if(Array.isArray(z))return this.router.navigate(z,ye);{const ze=this.serializer.parse(z.toString());return void 0!==ye.queryParams&&(ze.queryParams={...ye.queryParams}),void 0!==ye.fragment&&(ze.fragment=ye.fragment),this.router.navigateByUrl(ze,ye)}}}return Ee.\u0275fac=function(z){return new(z||Ee)(U.LFG(fn),U.LFG(J.Ye),U.LFG(Q.Hx),U.LFG(Q.F0,8))},Ee.\u0275prov=U.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();const cr=(Ee,me,z)=>{if(!1!==me){if(void 0!==z)return z;if("forward"===Ee||"back"===Ee)return Ee;if("root"===Ee&&!0===me)return"forward"}},Ut="auto",En=void 0;let _n=(()=>{class Ee{get(z,ye){const ze=nr();return ze?ze.get(z,ye):null}getBoolean(z,ye){const ze=nr();return!!ze&&ze.getBoolean(z,ye)}getNumber(z,ye){const ze=nr();return ze?ze.getNumber(z,ye):0}}return Ee.\u0275fac=function(z){return new(z||Ee)},Ee.\u0275prov=U.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();const qn=new U.OlP("USERCONFIG"),nr=()=>{if(typeof window<"u"){const Ee=window.Ionic;if(null!=Ee&&Ee.config)return Ee.config}return null};class Bt{constructor(me={}){this.data=me}get(me){return this.data[me]}}let gr=(()=>{class Ee{constructor(){this.zone=(0,U.f3M)(U.R0b),this.applicationRef=(0,U.f3M)(U.z2F)}create(z,ye,ze){return new bn(z,ye,this.applicationRef,this.zone,ze)}}return Ee.\u0275fac=function(z){return new(z||Ee)},Ee.\u0275prov=U.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class bn{constructor(me,z,ye,ze,wt){this.environmentInjector=me,this.injector=z,this.applicationRef=ye,this.zone=ze,this.elementReferenceKey=wt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(me,z,ye,ze){return this.zone.run(()=>new Promise(wt=>{const Zt={...ye};void 0!==this.elementReferenceKey&&(Zt[this.elementReferenceKey]=me),wt(Br(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,me,z,Zt,ze,this.elementReferenceKey))}))}removeViewFromDom(me,z){return this.zone.run(()=>new Promise(ye=>{const ze=this.elRefMap.get(z);if(ze){ze.destroy(),this.elRefMap.delete(z);const wt=this.elEventsMap.get(z);wt&&(wt(),this.elEventsMap.delete(z))}ye()}))}}const Br=(Ee,me,z,ye,ze,wt,Zt,en,In,Fn,xr)=>{const L=U.zs3.create({providers:lr(In),parent:z}),G=(0,U.LMc)(en,{environmentInjector:me,elementInjector:L}),Se=G.instance,Ve=G.location.nativeElement;if(In&&(xr&&void 0!==Se[xr]&&console.error(`[Ionic Error]: ${xr} is a reserved property when using ${Zt.tagName.toLowerCase()}. Rename or remove the "${xr}" property from ${en.name}.`),Object.assign(Se,In)),Fn)for(const Je of Fn)Ve.classList.add(Je);const gt=wr(Ee,Se,Ve);return Zt.appendChild(Ve),ye.attachView(G.hostView),ze.set(Ve,G),wt.set(Ve,gt),Ve},Xn=[be.L,be.a,be.b,be.c,be.d],wr=(Ee,me,z)=>Ee.run(()=>{const ye=Xn.filter(ze=>"function"==typeof me[ze]).map(ze=>{const wt=Zt=>me[ze](Zt.detail);return z.addEventListener(ze,wt),()=>z.removeEventListener(ze,wt)});return()=>ye.forEach(ze=>ze())}),On=new U.OlP("NavParamsToken"),lr=Ee=>[{provide:On,useValue:Ee},{provide:Bt,useFactory:Wr,deps:[On]}],Wr=Ee=>new Bt(Ee),An=(Ee,me)=>{const z=Ee.prototype;me.forEach(ye=>{Object.defineProperty(z,ye,{get(){return this.el[ye]},set(ze){this.z.runOutsideAngular(()=>this.el[ye]=ze)}})})},Ln=(Ee,me)=>{const z=Ee.prototype;me.forEach(ye=>{z[ye]=function(){const ze=arguments;return this.z.runOutsideAngular(()=>this.el[ye].apply(this.el,ze))}})},qr=(Ee,me,z)=>{z.forEach(ye=>Ee[ye]=(0,Ye.R)(me,ye))};function Yr(Ee){return function(z){const{defineCustomElementFn:ye,inputs:ze,methods:wt}=Ee;return void 0!==ye&&ye(),ze&&An(z,ze),wt&&Ln(z,wt),z}}const Ur=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],ri=["present","dismiss","onDidDismiss","onWillDismiss"];let jr=(()=>{let Ee=class{constructor(z,ye,ze){this.z=ze,this.isCmpOpen=!1,this.el=ye.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,z.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,z.detectChanges()}),qr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return Ee.\u0275fac=function(z){return new(z||Ee)(U.Y36(U.sBO),U.Y36(U.SBq),U.Y36(U.R0b))},Ee.\u0275dir=U.lG2({type:Ee,selectors:[["ion-popover"]],contentQueries:function(z,ye,ze){if(1&z&&U.Suo(ze,U.Rgc,5),2&z){let wt;U.iGM(wt=U.CRH())&&(ye.template=wt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),Ee=(0,lt.gn)([Yr({inputs:Ur,methods:ri})],Ee),Ee})();const Kr=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],mr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let ai=(()=>{let Ee=class{constructor(z,ye,ze){this.z=ze,this.isCmpOpen=!1,this.el=ye.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,z.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,z.detectChanges()}),qr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return Ee.\u0275fac=function(z){return new(z||Ee)(U.Y36(U.sBO),U.Y36(U.SBq),U.Y36(U.R0b))},Ee.\u0275dir=U.lG2({type:Ee,selectors:[["ion-modal"]],contentQueries:function(z,ye,ze){if(1&z&&U.Suo(ze,U.Rgc,5),2&z){let wt;U.iGM(wt=U.CRH())&&(ye.template=wt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),Ee=(0,lt.gn)([Yr({inputs:Kr,methods:mr})],Ee),Ee})();const H=(Ee,me)=>((Ee=Ee.filter(z=>z.stackId!==me.stackId)).push(me),Ee),he=(Ee,me)=>{const z=Ee.createUrlTree(["."],{relativeTo:me});return Ee.serializeUrl(z)},ot=(Ee,me)=>!me||Ee.stackId!==me.stackId,Tt=(Ee,me)=>{if(!Ee)return;const z=Gt(me);for(let ye=0;ye<z.length;ye++){if(ye>=Ee.length)return z[ye];if(z[ye]!==Ee[ye])return}},Gt=Ee=>Ee.split("/").map(me=>me.trim()).filter(me=>""!==me),xn=Ee=>{Ee&&(Ee.ref.destroy(),Ee.unlistenEvents())};class Vn{constructor(me,z,ye,ze,wt,Zt){this.containerEl=z,this.router=ye,this.navCtrl=ze,this.zone=wt,this.location=Zt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==me?Gt(me):void 0}createView(me,z){var ye;const ze=he(this.router,z),wt=null==me||null===(ye=me.location)||void 0===ye?void 0:ye.nativeElement,Zt=wr(this.zone,me.instance,wt);return{id:this.nextId++,stackId:Tt(this.tabsPrefix,ze),unlistenEvents:Zt,element:wt,ref:me,url:ze}}getExistingView(me){const z=he(this.router,me),ye=this.views.find(ze=>ze.url===z);return ye&&ye.ref.changeDetectorRef.reattach(),ye}setActive(me){var z,ye;const ze=this.navCtrl.consumeTransition();let{direction:wt,animation:Zt,animationBuilder:en}=ze;const In=this.activeView,Fn=ot(me,In);Fn&&(wt="back",Zt=void 0);const xr=this.views.slice();let L;const G=this.router;G.getCurrentNavigation?L=G.getCurrentNavigation():null!==(z=G.navigations)&&void 0!==z&&z.value&&(L=G.navigations.value),null!==(ye=L)&&void 0!==ye&&null!==(ye=ye.extras)&&void 0!==ye&&ye.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Se=this.views.includes(me),Ve=this.insertView(me,wt);Se||me.ref.changeDetectorRef.detectChanges();const gt=me.animationBuilder;return void 0===en&&"back"===wt&&!Fn&&void 0!==gt&&(en=gt),In&&(In.animationBuilder=en),this.zone.runOutsideAngular(()=>this.wait(()=>(In&&In.ref.changeDetectorRef.detach(),me.ref.changeDetectorRef.reattach(),this.transition(me,In,Zt,this.canGoBack(1),!1,en).then(()=>ur(me,Ve,xr,this.location,this.zone)).then(()=>({enteringView:me,direction:wt,animation:Zt,tabSwitch:Fn})))))}canGoBack(me,z=this.getActiveStackId()){return this.getStack(z).length>me}pop(me,z=this.getActiveStackId()){return this.zone.run(()=>{const ye=this.getStack(z);if(ye.length<=me)return Promise.resolve(!1);const ze=ye[ye.length-me-1];let wt=ze.url;const Zt=ze.savedData;if(Zt){var en;const Fn=Zt.get("primary");null!=Fn&&null!==(en=Fn.route)&&void 0!==en&&null!==(en=en._routerState)&&void 0!==en&&en.snapshot.url&&(wt=Fn.route._routerState.snapshot.url)}const{animationBuilder:In}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(wt,{...ze.savedExtras,animation:In}).then(()=>!0)})}startBackTransition(){const me=this.activeView;if(me){const z=this.getStack(me.stackId),ye=z[z.length-2],ze=ye.animationBuilder;return this.wait(()=>this.transition(ye,me,"back",this.canGoBack(2),!0,ze))}return Promise.resolve()}endBackTransition(me){me?(this.skipTransition=!0,this.pop(1)):this.activeView&&Xt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(me){const z=this.getStack(me);return z.length>0?z[z.length-1]:void 0}getRootUrl(me){const z=this.getStack(me);return z.length>0?z[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(xn),this.activeView=void 0,this.views=[]}getStack(me){return this.views.filter(z=>z.stackId===me)}insertView(me,z){return this.activeView=me,this.views=((Ee,me,z)=>"root"===z?H(Ee,me):"forward"===z?((Ee,me)=>(Ee.indexOf(me)>=0?Ee=Ee.filter(ye=>ye.stackId!==me.stackId||ye.id<=me.id):Ee.push(me),Ee))(Ee,me):((Ee,me)=>Ee.indexOf(me)>=0?Ee.filter(ye=>ye.stackId!==me.stackId||ye.id<=me.id):H(Ee,me))(Ee,me))(this.views,me,z),this.views.slice()}transition(me,z,ye,ze,wt,Zt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(z===me)return Promise.resolve(!1);const en=me?me.element:void 0,In=z?z.element:void 0,Fn=this.containerEl;return en&&en!==In&&(en.classList.add("ion-page"),en.classList.add("ion-page-invisible"),en.parentElement!==Fn&&Fn.appendChild(en),Fn.commit)?Fn.commit(en,In,{duration:void 0===ye?0:void 0,direction:ye,showGoBack:ze,progressAnimation:wt,animationBuilder:Zt}):Promise.resolve(!1)}wait(me){var z=this;return(0,u.Z)(function*(){void 0!==z.runningTask&&(yield z.runningTask,z.runningTask=void 0);const ye=z.runningTask=me();return ye.finally(()=>z.runningTask=void 0),ye})()}}const ur=(Ee,me,z,ye,ze)=>"function"==typeof requestAnimationFrame?new Promise(wt=>{requestAnimationFrame(()=>{Xt(Ee,me,z,ye,ze),wt()})}):Promise.resolve(),Xt=(Ee,me,z,ye,ze)=>{ze.run(()=>z.filter(wt=>!me.includes(wt)).forEach(xn)),me.forEach(wt=>{const en=ye.path().split("?")[0].split("#")[0];if(wt!==Ee&&wt.url!==en){const In=wt.element;In.setAttribute("aria-hidden","true"),In.classList.add("ion-page-hidden"),wt.ref.changeDetectorRef.detach()}})};let qt=(()=>{class Ee{constructor(z,ye,ze,wt,Zt,en,In,Fn){this.parentOutlet=Fn,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Et.X(null),this.activated=null,this._activatedRoute=null,this.name=Q.eC,this.stackWillChange=new U.vpe,this.stackDidChange=new U.vpe,this.activateEvents=new U.vpe,this.deactivateEvents=new U.vpe,this.parentContexts=(0,U.f3M)(Q.y6),this.location=(0,U.f3M)(U.s_b),this.environmentInjector=(0,U.f3M)(U.lqb),this.inputBinder=(0,U.f3M)(Pr,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,U.f3M)(_n),this.navCtrl=(0,U.f3M)(vn),this.nativeEl=wt.nativeElement,this.name=z||Q.eC,this.tabsPrefix="true"===ye?he(Zt,In):void 0,this.stackCtrl=new Vn(this.tabsPrefix,this.nativeEl,Zt,this.navCtrl,en,ze),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(z){this.nativeEl.animation=z}set animated(z){this.nativeEl.animated=z}set swipeGesture(z){this._swipeGesture=z,this.nativeEl.swipeHandler=z?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ye=>this.stackCtrl.endBackTransition(ye)}:void 0}ngOnDestroy(){var z;this.stackCtrl.destroy(),null===(z=this.inputBinder)||void 0===z||z.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const z=this.getContext();null!=z&&z.route&&this.activateWith(z.route,z.injector)}new Promise(z=>(0,ve.c)(this.nativeEl,z)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(z,ye){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ye=this.getContext();this.activatedView.savedData=new Map(ye.children.contexts);const ze=this.activatedView.savedData.get("primary");if(ze&&ye.route&&(ze.route={...ye.route}),this.activatedView.savedExtras={},ye.route){const wt=ye.route.snapshot;this.activatedView.savedExtras.queryParams=wt.queryParams,this.activatedView.savedExtras.fragment=wt.fragment}}const z=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(z)}}activateWith(z,ye){var ze;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=z;let wt,Zt=this.stackCtrl.getExistingView(z);if(Zt){wt=this.activated=Zt.ref;const Fn=Zt.savedData;Fn&&(this.getContext().children.contexts=Fn),this.updateActivatedRouteProxy(wt.instance,z)}else{var en;const Fn=z._futureSnapshot,xr=this.parentContexts.getOrCreateContext(this.name).children,L=new Et.X(null),G=this.createActivatedRouteProxy(L,z),Se=new li(G,xr,this.location.injector),Ve=null!==(en=Fn.routeConfig.component)&&void 0!==en?en:Fn.component;wt=this.activated=this.location.createComponent(Ve,{index:this.location.length,injector:Se,environmentInjector:null!=ye?ye:this.environmentInjector}),L.next(wt.instance),Zt=this.stackCtrl.createView(this.activated,z),this.proxyMap.set(wt.instance,G),this.currentActivatedRoute$.next({component:wt.instance,activatedRoute:z})}null===(ze=this.inputBinder)||void 0===ze||ze.bindActivatedRouteToOutletComponent(this),this.activatedView=Zt,this.navCtrl.setTopOutlet(this);const In=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Zt,tabSwitch:ot(Zt,In)}),this.stackCtrl.setActive(Zt).then(Fn=>{this.activateEvents.emit(wt.instance),this.stackDidChange.emit(Fn)})}canGoBack(z=1,ye){return this.stackCtrl.canGoBack(z,ye)}pop(z=1,ye){return this.stackCtrl.pop(z,ye)}getLastUrl(z){const ye=this.stackCtrl.getLastUrl(z);return ye?ye.url:void 0}getLastRouteView(z){return this.stackCtrl.getLastUrl(z)}getRootView(z){return this.stackCtrl.getRootUrl(z)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(z,ye){const ze=new Q.gz;return ze._futureSnapshot=ye._futureSnapshot,ze._routerState=ye._routerState,ze.snapshot=ye.snapshot,ze.outlet=ye.outlet,ze.component=ye.component,ze._paramMap=this.proxyObservable(z,"paramMap"),ze._queryParamMap=this.proxyObservable(z,"queryParamMap"),ze.url=this.proxyObservable(z,"url"),ze.params=this.proxyObservable(z,"params"),ze.queryParams=this.proxyObservable(z,"queryParams"),ze.fragment=this.proxyObservable(z,"fragment"),ze.data=this.proxyObservable(z,"data"),ze}proxyObservable(z,ye){return z.pipe((0,Ht.h)(ze=>!!ze),(0,Dn.w)(ze=>this.currentActivatedRoute$.pipe((0,Ht.h)(wt=>null!==wt&&wt.component===ze),(0,Dn.w)(wt=>wt&&wt.activatedRoute[ye]),(0,pt.x)())))}updateActivatedRouteProxy(z,ye){const ze=this.proxyMap.get(z);if(!ze)throw new Error("Could not find activated route proxy for view");ze._futureSnapshot=ye._futureSnapshot,ze._routerState=ye._routerState,ze.snapshot=ye.snapshot,ze.outlet=ye.outlet,ze.component=ye.component,this.currentActivatedRoute$.next({component:z,activatedRoute:ye})}}return Ee.\u0275fac=function(z){return new(z||Ee)(U.$8M("name"),U.$8M("tabs"),U.Y36(J.Ye),U.Y36(U.SBq),U.Y36(Q.F0),U.Y36(U.R0b),U.Y36(Q.gz),U.Y36(Ee,12))},Ee.\u0275dir=U.lG2({type:Ee,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Ee})();class li{constructor(me,z,ye){this.route=me,this.childContexts=z,this.parent=ye}get(me,z){return me===Q.gz?this.route:me===Q.y6?this.childContexts:this.parent.get(me,z)}}const Pr=new U.OlP("");let Bi=(()=>{class Ee{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(z){this.unsubscribeFromRouteData(z),this.subscribeToRouteData(z)}unsubscribeFromRouteData(z){var ye;null===(ye=this.outletDataSubscriptions.get(z))||void 0===ye||ye.unsubscribe(),this.outletDataSubscriptions.delete(z)}subscribeToRouteData(z){const{activatedRoute:ye}=z,ze=(0,Dt.a)([ye.queryParams,ye.params,ye.data]).pipe((0,Dn.w)(([wt,Zt,en],In)=>(en={...wt,...Zt,...en},0===In?(0,bt.of)(en):Promise.resolve(en)))).subscribe(wt=>{if(!z.isActivated||!z.activatedComponentRef||z.activatedRoute!==ye||null===ye.component)return void this.unsubscribeFromRouteData(z);const Zt=(0,U.qFp)(ye.component);if(Zt)for(const{templateName:en}of Zt.inputs)z.activatedComponentRef.setInput(en,wt[en]);else this.unsubscribeFromRouteData(z)});this.outletDataSubscriptions.set(z,ze)}}return Ee.\u0275fac=function(z){return new(z||Ee)},Ee.\u0275prov=U.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const yt=()=>({provide:Pr,useFactory:Xe,deps:[Q.F0]});function Xe(Ee){return null!=Ee&&Ee.componentInputBindingEnabled?new Bi:null}const xt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let on=(()=>{let Ee=class{constructor(z,ye,ze,wt,Zt,en){this.routerOutlet=z,this.navCtrl=ye,this.config=ze,this.r=wt,this.z=Zt,en.detach(),this.el=this.r.nativeElement}onClick(z){var ye;const ze=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ye=this.routerOutlet)&&void 0!==ye&&ye.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),z.preventDefault()):null!=ze&&(this.navCtrl.navigateBack(ze,{animation:this.routerAnimation}),z.preventDefault())}};return Ee.\u0275fac=function(z){return new(z||Ee)(U.Y36(qt,8),U.Y36(vn),U.Y36(_n),U.Y36(U.SBq),U.Y36(U.R0b),U.Y36(U.sBO))},Ee.\u0275dir=U.lG2({type:Ee,hostBindings:function(z,ye){1&z&&U.NdJ("click",function(wt){return ye.onClick(wt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),Ee=(0,lt.gn)([Yr({inputs:xt})],Ee),Ee})(),Sn=(()=>{class Ee{constructor(z,ye,ze,wt,Zt){this.locationStrategy=z,this.navCtrl=ye,this.elementRef=ze,this.router=wt,this.routerLink=Zt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var z;if(null!==(z=this.routerLink)&&void 0!==z&&z.urlTree){const ye=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ye}}onClick(z){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),z.preventDefault()}}return Ee.\u0275fac=function(z){return new(z||Ee)(U.Y36(J.S$),U.Y36(vn),U.Y36(U.SBq),U.Y36(Q.F0),U.Y36(Q.rH,8))},Ee.\u0275dir=U.lG2({type:Ee,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(z,ye){1&z&&U.NdJ("click",function(wt){return ye.onClick(wt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.TTD]}),Ee})(),Cn=(()=>{class Ee{constructor(z,ye,ze,wt,Zt){this.locationStrategy=z,this.navCtrl=ye,this.elementRef=ze,this.router=wt,this.routerLink=Zt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var z;if(null!==(z=this.routerLink)&&void 0!==z&&z.urlTree){const ye=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ye}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Ee.\u0275fac=function(z){return new(z||Ee)(U.Y36(J.S$),U.Y36(vn),U.Y36(U.SBq),U.Y36(Q.F0),U.Y36(Q.rH,8))},Ee.\u0275dir=U.lG2({type:Ee,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(z,ye){1&z&&U.NdJ("click",function(){return ye.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.TTD]}),Ee})();const $n=["animated","animation","root","rootParams","swipeGesture"],Dr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let rr=(()=>{let Ee=class{constructor(z,ye,ze,wt,Zt,en){this.z=Zt,en.detach(),this.el=z.nativeElement,z.nativeElement.delegate=wt.create(ye,ze),qr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return Ee.\u0275fac=function(z){return new(z||Ee)(U.Y36(U.SBq),U.Y36(U.lqb),U.Y36(U.zs3),U.Y36(gr),U.Y36(U.R0b),U.Y36(U.sBO))},Ee.\u0275dir=U.lG2({type:Ee,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),Ee=(0,lt.gn)([Yr({inputs:$n,methods:Dr})],Ee),Ee})(),Cr=(()=>{class Ee{constructor(z){this.navCtrl=z,this.ionTabsWillChange=new U.vpe,this.ionTabsDidChange=new U.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:z,tabSwitch:ye}){const ze=z.stackId;ye&&void 0!==ze&&this.ionTabsWillChange.emit({tab:ze})}onStackDidChange({enteringView:z,tabSwitch:ye}){const ze=z.stackId;ye&&void 0!==ze&&(this.tabBar&&(this.tabBar.selectedTab=ze),this.ionTabsDidChange.emit({tab:ze}))}select(z){const ye="string"==typeof z,ze=ye?z:z.detail.tab,wt=this.outlet.getActiveStackId()===ze,Zt=`${this.outlet.tabsPrefix}/${ze}`;if(ye||z.stopPropagation(),wt){const en=this.outlet.getActiveStackId(),In=this.outlet.getLastRouteView(en);if((null==In?void 0:In.url)===Zt)return;const Fn=this.outlet.getRootView(ze);return this.navCtrl.navigateRoot(Zt,{...Fn&&Zt===Fn.url&&Fn.savedExtras,animated:!0,animationDirection:"back"})}{const en=this.outlet.getLastRouteView(ze);return this.navCtrl.navigateRoot((null==en?void 0:en.url)||Zt,{...null==en?void 0:en.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(z=>{const ye=z.el.getAttribute("slot");ye!==this.tabBarSlot&&(this.tabBarSlot=ye,this.relocateTabBar())})}relocateTabBar(){const z=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(z):this.tabsInner.nativeElement.after(z)}}return Ee.\u0275fac=function(z){return new(z||Ee)(U.Y36(vn))},Ee.\u0275dir=U.lG2({type:Ee,selectors:[["ion-tabs"]],viewQuery:function(z,ye){if(1&z&&U.Gf(it,7,U.SBq),2&z){let ze;U.iGM(ze=U.CRH())&&(ye.tabsInner=ze.first)}},hostBindings:function(z,ye){1&z&&U.NdJ("ionTabButtonClick",function(wt){return ye.select(wt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),Ee})();const _i=Ee=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ee):setTimeout(Ee);let Ci=(()=>{class Ee{constructor(z,ye){this.injector=z,this.elementRef=ye,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(z){this.elementRef.nativeElement.value=this.lastValue=z,br(this.elementRef)}handleValueChange(z,ye){z===this.elementRef.nativeElement&&(ye!==this.lastValue&&(this.lastValue=ye,this.onChange(ye)),br(this.elementRef))}_handleBlurEvent(z){z===this.elementRef.nativeElement&&(this.onTouched(),br(this.elementRef))}registerOnChange(z){this.onChange=z}registerOnTouched(z){this.onTouched=z}setDisabledState(z){this.elementRef.nativeElement.disabled=z}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let z;try{z=this.injector.get(at.a5)}catch{}if(!z)return;z.statusChanges&&(this.statusChanges=z.statusChanges.subscribe(()=>br(this.elementRef)));const ye=z.control;ye&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(wt=>{if(typeof ye[wt]<"u"){const Zt=ye[wt].bind(ye);ye[wt]=(...en)=>{Zt(...en),br(this.elementRef)}}})}}return Ee.\u0275fac=function(z){return new(z||Ee)(U.Y36(U.zs3),U.Y36(U.SBq))},Ee.\u0275dir=U.lG2({type:Ee,hostBindings:function(z,ye){1&z&&U.NdJ("ionBlur",function(wt){return ye._handleBlurEvent(wt.target)})}}),Ee})();const br=Ee=>{_i(()=>{const me=Ee.nativeElement,z=null!=me.value&&me.value.toString().length>0,ye=Bn(me);ui(me,ye);const ze=me.closest("ion-item");ze&&ui(ze,z?[...ye,"item-has-value"]:ye)})},Bn=Ee=>{const me=Ee.classList,z=[];for(let ye=0;ye<me.length;ye++){const ze=me.item(ye);null!==ze&&Ar(ze,"ng-")&&z.push(`ion-${ze.substring(3)}`)}return z},ui=(Ee,me)=>{const z=Ee.classList;z.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),z.add(...me)},Ar=(Ee,me)=>Ee.substring(0,me.length)===me;class kn{shouldDetach(me){return!1}shouldAttach(me){return!1}store(me,z){}retrieve(me){return null}shouldReuseRoute(me,z){if(me.routeConfig!==z.routeConfig)return!1;const ye=me.params,ze=z.params,wt=Object.keys(ye),Zt=Object.keys(ze);if(wt.length!==Zt.length)return!1;for(const en of wt)if(ze[en]!==ye[en])return!1;return!0}}class pr{constructor(me){this.ctrl=me}create(me){return this.ctrl.create(me||{})}dismiss(me,z,ye){return this.ctrl.dismiss(me,z,ye)}getTop(){return this.ctrl.getTop()}}},1929:(Wt,et,N)=>{"use strict";N.d(et,{Br:()=>G,dr:()=>bt,YG:()=>it,PM:()=>$t,FN:()=>mn,W2:()=>En,Gu:()=>Xn,pK:()=>An,Ie:()=>Ln,Q$:()=>Kr,jP:()=>Ee,t9:()=>Sn,n0:()=>Cn,PQ:()=>Dr,yW:()=>Ci,wd:()=>ui,sr:()=>pr,Pc:()=>Ir,QI:()=>tn,j9:()=>zt});var u=N(9212),U=N(95),Q=N(5472),J=N(7582),Me=N(2438),se=N(6814),pe=N(4934),$e=(N(4913),N(2325),N(3433),N(6615),N(6535),N(2905)),Re=N(8958),nt=(N(5613),N(9207)),Le=(N(1848),N(771));N(2019);const Fe=$e.i,we=["*"];let tn=(()=>{class C extends Q.bk{constructor(M,X){super(M,X)}_handleChangeEvent(M){this.handleValueChange(M,M.value)}}return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.zs3),u.Y36(u.SBq))},C.\u0275dir=u.lG2({type:C,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(M,X){1&M&&u.NdJ("ionChange",function(Un){return X._handleChangeEvent(Un.target)})},features:[u._Bn([{provide:U.JU,useExisting:C,multi:!0}]),u.qOj]}),C})(),zt=(()=>{class C extends Q.bk{constructor(M,X){super(M,X)}_handleInputEvent(M){this.handleValueChange(M,M.value)}}return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.zs3),u.Y36(u.SBq))},C.\u0275dir=u.lG2({type:C,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(M,X){1&M&&u.NdJ("ionInput",function(Un){return X._handleInputEvent(Un.target)})},features:[u._Bn([{provide:U.JU,useExisting:C,multi:!0}]),u.qOj]}),C})();const tt=(C,Z)=>{const M=C.prototype;Z.forEach(X=>{Object.defineProperty(M,X,{get(){return this.el[X]},set(Qe){this.z.runOutsideAngular(()=>this.el[X]=Qe)},configurable:!0})})},Ae=(C,Z)=>{const M=C.prototype;Z.forEach(X=>{M[X]=function(){const Qe=arguments;return this.z.runOutsideAngular(()=>this.el[X].apply(this.el,Qe))}})},ue=(C,Z,M)=>{M.forEach(X=>C[X]=(0,Me.R)(Z,X))};function ve(C){return function(M){const{defineCustomElementFn:X,inputs:Qe,methods:Un}=C;return void 0!==X&&X(),Qe&&tt(M,Qe),Un&&Ae(M,Un),M}}let bt=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-app"]],ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({})],C),C})(),it=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement,ue(this,this.el,["ionFocus","ionBlur"])}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],C),C})(),$t=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],C),C})(),mn=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["mode"]})],C),C})(),En=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement,ue(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],C),C})(),Xn=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["collapse","mode","translucent"]})],C),C})(),An=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement,ue(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],C),C})(),Ln=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],C),C})(),Kr=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["color","mode","position"]})],C),C})(),Sn=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement,ue(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],C),C})(),Cn=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["disabled","value"]})],C),C})(),Dr=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["color","duration","name","paused"]})],C),C})(),Ci=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["color","mode"]})],C),C})(),ui=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["color","size"]})],C),C})(),pr=(()=>{let C=class{constructor(M,X,Qe){this.z=Qe,M.detach(),this.el=X.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},C.\u0275cmp=u.Xpm({type:C,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:we,decls:1,vars:0,template:function(M,X){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,J.gn)([ve({inputs:["color","mode"]})],C),C})(),Ee=(()=>{class C extends Q.jP{constructor(M,X,Qe,Un,Zr,Hr,Io,$o){super(M,X,Qe,Un,Zr,Hr,Io,$o),this.parentOutlet=$o}}return C.\u0275fac=function(M){return new(M||C)(u.$8M("name"),u.$8M("tabs"),u.Y36(se.Ye),u.Y36(u.SBq),u.Y36(pe.F0),u.Y36(u.R0b),u.Y36(pe.gz),u.Y36(C,12))},C.\u0275dir=u.lG2({type:C,selectors:[["ion-router-outlet"]],features:[u.qOj]}),C})();const In={provide:U.Cf,useExisting:(0,u.Gpc)(()=>Fn),multi:!0};let Fn=(()=>{class C extends U.Fd{}return C.\u0275fac=(()=>{let Z;return function(X){return(Z||(Z=u.n5z(C)))(X||C)}})(),C.\u0275dir=u.lG2({type:C,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(M,X){2&M&&u.uIk("max",X._enabled?X.max:null)},features:[u._Bn([In]),u.qOj]}),C})();const xr={provide:U.Cf,useExisting:(0,u.Gpc)(()=>L),multi:!0};let L=(()=>{class C extends U.qQ{}return C.\u0275fac=(()=>{let Z;return function(X){return(Z||(Z=u.n5z(C)))(X||C)}})(),C.\u0275dir=u.lG2({type:C,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(M,X){2&M&&u.uIk("min",X._enabled?X.min:null)},features:[u._Bn([xr]),u.qOj]}),C})(),G=(()=>{class C extends Q.xs{constructor(){super(nt.a)}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Nt=(()=>{class C extends Q.xs{constructor(){super(nt.m),this.angularDelegate=(0,u.f3M)(Q.y4),this.injector=(0,u.f3M)(u.zs3),this.environmentInjector=(0,u.f3M)(u.lqb)}create(M){return super.create({...M,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac}),C})();class Pt extends Q.xs{constructor(){super(nt.c),this.angularDelegate=(0,u.f3M)(Q.y4),this.injector=(0,u.f3M)(u.zs3),this.environmentInjector=(0,u.f3M)(u.lqb)}create(Z){return super.create({...Z,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const pn=(C,Z,M)=>()=>{if(Z.defaultView&&typeof window<"u"){(0,Re.s)({...C,_zoneGate:Un=>M.run(Un)});const Qe="__zone_symbol__addEventListener"in Z.body?"__zone_symbol__addEventListener":"addEventListener";return function le(){var C=[];if(typeof window<"u"){var Z=window;(!Z.customElements||Z.Element&&(!Z.Element.prototype.closest||!Z.Element.prototype.matches||!Z.Element.prototype.remove||!Z.Element.prototype.getRootNode))&&C.push(N.e(6748).then(N.t.bind(N,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Z.NodeList&&!Z.NodeList.prototype.forEach||!Z.fetch||!function(){try{var X=new URL("b","http://a");return X.pathname="c%20d","http://a/c%20d"===X.href&&X.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&C.push(N.e(2214).then(N.t.bind(N,2668,23)))}return Promise.all(C)}().then(()=>((C,Z)=>{if(!(typeof window>"u"))return Fe(),(0,Le.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),Z)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Q.Wn,jmp:Un=>M.runOutsideAngular(Un),ael(Un,Zr,Hr,Io){Un[Qe](Zr,Hr,Io)},rel(Un,Zr,Hr,Io){Un.removeEventListener(Zr,Hr,Io)}}))}};let Ir=(()=>{class C{static forRoot(M){return{ngModule:C,providers:[{provide:Q.dy,useValue:M},{provide:u.ip1,useFactory:pn,multi:!0,deps:[Q.dy,se.K0,u.R0b]},(0,Q.DN)()]}}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({providers:[Q.y4,Nt,Pt],imports:[se.ez]}),C})()},3182:(Wt,et,N)=>{"use strict";N.d(et,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=N(534);(0,u.registerVersion)("firebase","10.7.1","app")},7142:(Wt,et,N)=>{"use strict";N.d(et,{Z:()=>u.Z});var u=N(3106);u.Z.registerVersion("firebase","10.7.1","app-compat")},6230:(Wt,et,N)=>{"use strict";N.r(et);var u=N(5861),U=N(3106),Q=N(9058),J=N(534),Me=N(7879),se=N(7582),pe=N(4537);const je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Pe=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},nt=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new Me.Yd("@firebase/auth");function le(v,...f){He.logLevel<=Me.in.ERROR&&He.error(`Auth (${J.SDK_VERSION}): ${v}`,...f)}function Fe(v,...f){throw ge(v,...f)}function Oe(v,...f){return ge(v,...f)}function we(v,f,p){const I=Object.assign(Object.assign({},nt()),{[f]:p});return new Q.LL("auth","Firebase",I).create(f,{appName:v.name})}function ee(v,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Fe(v,"argument-error"),we(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ge(v,...f){if("string"!=typeof v){const p=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(p,...I)}return xe.create(v,...f)}function re(v,f,...p){if(!v)throw ge(f,...p)}function ae(v){const f="INTERNAL ASSERTION FAILED: "+v;throw le(f),new Error(f)}function Ke(v,f){v||ae(f)}function Be(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function rt(){return"http:"===At()||"https:"===At()}function At(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class tt{constructor(f,p){this.shortDelay=f,this.longDelay=p,Ke(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function tn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rt()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ae(v,f){Ke(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class ue{static initialize(f,p,I){this.fetchImpl=f,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new tt(3e4,6e4);function qe(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function Ye(v,f,p,I){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(v,f,p,I,F={}){return Dt(v,F,(0,u.Z)(function*(){let Y={},Ue={};I&&("GET"===f?Ue=I:Y={body:JSON.stringify(I)});const ct=(0,Q.xO)(Object.assign({key:v.config.apiKey},Ue)).slice(1),Mt=yield v._getAdditionalHeaders();return Mt["Content-Type"]="application/json",v.languageCode&&(Mt["X-Firebase-Locale"]=v.languageCode),ue.fetch()(Dn(v,v.config.apiHost,p,ct),Object.assign({method:f,headers:Mt,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function Dt(v,f,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(v,f,p){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},be),f);try{const F=new at(v),Y=yield Promise.race([p(),F.promise]);F.clearNetworkTimeout();const Ue=yield Y.json();if("needConfirmation"in Ue)throw it(v,"account-exists-with-different-credential",Ue);if(Y.ok&&!("errorMessage"in Ue))return Ue;{const ct=Y.ok?Ue.errorMessage:Ue.error.message,[Mt,hn]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Mt)throw it(v,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===Mt)throw it(v,"email-already-in-use",Ue);if("USER_DISABLED"===Mt)throw it(v,"user-disabled",Ue);const Mn=I[Mt]||Mt.toLowerCase().replace(/[_\s]+/g,"-");if(hn)throw we(v,Mn,hn);Fe(v,Mn)}}catch(F){if(F instanceof Q.ZR)throw F;Fe(v,"network-request-failed",{message:String(F)})}})).apply(this,arguments)}function lt(v,f,p,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(v,f,p,I,F={}){const Y=yield Ye(v,f,p,I,F);return"mfaPendingCredential"in Y&&Fe(v,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function Dn(v,f,p,I){const F=`${f}${p}?${I}`;return v.config.emulator?Ae(v.config,F):`${v.config.apiScheme}://${F}`}function pt(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class at{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(Oe(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function it(v,f,p){const I={appName:v.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const F=Oe(v,f,I);return F.customData._tokenResponse=p,F}function It(v){return void 0!==v&&void 0!==v.getResponse}function $t(v){return void 0!==v&&void 0!==v.enterprise}class mn{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===f)return pt(p.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function nn(){return(nn=(0,u.Z)(function*(v){return(yield Ye(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pn(v,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(v,f){return Ye(v,"GET","/v2/recaptchaConfig",qe(v,f))})).apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Bt(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Br(){return(Br=(0,u.Z)(function*(v,f=!1){const p=(0,Q.m9)(v),I=yield p.getIdToken(f),F=wr(I);re(F&&F.exp&&F.auth_time&&F.iat,p.auth,"internal-error");const Y="object"==typeof F.firebase?F.firebase:void 0,Ue=null==Y?void 0:Y.sign_in_provider;return{claims:F,token:I,authTime:Bt(Xn(F.auth_time)),issuedAtTime:Bt(Xn(F.iat)),expirationTime:Bt(Xn(F.exp)),signInProvider:Ue||null,signInSecondFactor:(null==Y?void 0:Y.sign_in_second_factor)||null}})).apply(this,arguments)}function Xn(v){return 1e3*Number(v)}function wr(v){const[f,p,I]=v.split(".");if(void 0===f||void 0===p||void 0===I)return le("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,Q.tV)(p);return F?JSON.parse(F):(le("Failed to decode base64 JWT payload"),null)}catch(F){return le("Caught error parsing JWT payload as JSON",null==F?void 0:F.toString()),null}}function lr(v,f){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(v,f,p=!1){if(p)return f;try{return yield f}catch(I){throw I instanceof Q.ZR&&function An({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class Ln{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const F=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield p.iteration()}),I)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class qr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bt(this.lastLoginAt),this.creationTime=Bt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yr(v){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,u.Z)(function*(v){var f;const p=v.auth,I=yield v.getIdToken(),F=yield lr(v,function qn(v,f){return nr.apply(this,arguments)}(p,{idToken:I}));re(null==F?void 0:F.users.length,p,"internal-error");const Y=F.users[0];v._notifyReloadListener(Y);const Ue=null!==(f=Y.providerUserInfo)&&void 0!==f&&f.length?function mr(v){return v.map(f=>{var{providerId:p}=f,I=(0,se._T)(f,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(Y.providerUserInfo):[],ct=function Kr(v,f){return[...v.filter(I=>!f.some(F=>F.providerId===I.providerId)),...f]}(v.providerData,Ue),Mn=!!v.isAnonymous&&!(v.email&&Y.passwordHash||null!=ct&&ct.length),wn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:ct,metadata:new qr(Y.createdAt,Y.lastLoginAt),isAnonymous:Mn};Object.assign(v,wn)}),Ur.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(v){const f=(0,Q.m9)(v);yield Yr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function te(){return(te=(0,u.Z)(function*(v,f){const p=yield Dt(v,{},(0,u.Z)(function*(){const I=(0,Q.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:F,apiKey:Y}=v.config,Ue=Dn(v,F,"/v1/token",`key=${Y}`),ct=yield v._getAdditionalHeaders();return ct["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(Ue,{method:"POST",headers:ct,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v2/accounts:revokeToken",qe(v,f))})).apply(this,arguments)}class de{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){re(f.idToken,"internal-error"),re(typeof f.idToken<"u","internal-error"),re(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function On(v){const f=wr(v);return re(f,"internal-error"),re(typeof f.exp<"u","internal-error"),re(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var I=this;return(0,u.Z)(function*(){return re(!I.accessToken||I.refreshToken,f,"user-token-expired"),p||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var I=this;return(0,u.Z)(function*(){const{accessToken:F,refreshToken:Y,expiresIn:Ue}=yield function ai(v,f){return te.apply(this,arguments)}(f,p);I.updateTokensAndExpiration(F,Y,Number(Ue))})()}updateTokensAndExpiration(f,p,I){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,p){const{refreshToken:I,accessToken:F,expirationTime:Y}=p,Ue=new de;return I&&(re("string"==typeof I,"internal-error",{appName:f}),Ue.refreshToken=I),F&&(re("string"==typeof F,"internal-error",{appName:f}),Ue.accessToken=F),Y&&(re("number"==typeof Y,"internal-error",{appName:f}),Ue.expirationTime=Y),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new de,this.toJSON())}_performRefresh(){return ae("not implemented")}}function he(v,f){re("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class ot{constructor(f){var{uid:p,auth:I,stsTokenManager:F}=f,Y=(0,se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new qr(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,u.Z)(function*(){const I=yield lr(p,p.stsTokenManager.getToken(p.auth,f));return re(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(f){return function bn(v){return Br.apply(this,arguments)}(this,f)}reload(){return function ri(v){return jr.apply(this,arguments)}(this)}_assign(f){this!==f&&(re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new ot(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var I=this;return(0,u.Z)(function*(){let F=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),F=!0),p&&(yield Yr(I)),yield I.auth._persistUserIfCurrent(I),F&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,u.Z)(function*(){const p=yield f.getIdToken();return yield lr(f,function cr(v,f){return Ut.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var I,F,Y,Ue,ct,Mt,hn,Mn;const wn=null!==(I=p.displayName)&&void 0!==I?I:void 0,vi=null!==(F=p.email)&&void 0!==F?F:void 0,ko=null!==(Y=p.phoneNumber)&&void 0!==Y?Y:void 0,Iu=null!==(Ue=p.photoURL)&&void 0!==Ue?Ue:void 0,Bg=null!==(ct=p.tenantId)&&void 0!==ct?ct:void 0,Ri=null!==(Mt=p._redirectEventId)&&void 0!==Mt?Mt:void 0,gh=null!==(hn=p.createdAt)&&void 0!==hn?hn:void 0,mh=null!==(Mn=p.lastLoginAt)&&void 0!==Mn?Mn:void 0,{uid:Wl,emailVerified:Cs,isAnonymous:vh,providerData:_h,stsTokenManager:hl}=p;re(Wl&&hl,f,"internal-error");const Ug=de.fromJSON(this.name,hl);re("string"==typeof Wl,f,"internal-error"),he(wn,f.name),he(vi,f.name),re("boolean"==typeof Cs,f,"internal-error"),re("boolean"==typeof vh,f,"internal-error"),he(ko,f.name),he(Iu,f.name),he(Bg,f.name),he(Ri,f.name),he(gh,f.name),he(mh,f.name);const yh=new ot({uid:Wl,auth:f,email:vi,emailVerified:Cs,displayName:wn,isAnonymous:vh,photoURL:Iu,phoneNumber:ko,tenantId:Bg,stsTokenManager:Ug,createdAt:gh,lastLoginAt:mh});return _h&&Array.isArray(_h)&&(yh.providerData=_h.map(jg=>Object.assign({},jg))),Ri&&(yh._redirectEventId=Ri),yh}static _fromIdTokenResponse(f,p,I=!1){return(0,u.Z)(function*(){const F=new de;F.updateFromServerResponse(p);const Y=new ot({uid:p.localId,auth:f,stsTokenManager:F,isAnonymous:I});return yield Yr(Y),Y})()}}const Tt=new Map;function Gt(v){Ke(v instanceof Function,"Expected a class definition");let f=Tt.get(v);return f?(Ke(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,Tt.set(v,f),f)}const Vn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(p,I){var F=this;return(0,u.Z)(function*(){F.storage[p]=I})()}_get(p){var I=this;return(0,u.Z)(function*(){const F=I.storage[p];return void 0===F?null:F})()}_remove(p){var I=this;return(0,u.Z)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return v.type="NONE",v})();function ur(v,f,p){return`firebase:${v}:${f}:${p}`}class Xt{constructor(f,p,I){this.persistence=f,this.auth=p,this.userKey=I;const{config:F,name:Y}=this.auth;this.fullUserKey=ur(this.userKey,F.apiKey,Y),this.fullPersistenceKey=ur("persistence",F.apiKey,Y),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?ot._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,u.Z)(function*(){if(p.persistence===f)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,I="authUser"){return(0,u.Z)(function*(){if(!p.length)return new Xt(Gt(Vn),f,I);const F=(yield Promise.all(p.map(function(){var hn=(0,u.Z)(function*(Mn){if(yield Mn._isAvailable())return Mn});return function(Mn){return hn.apply(this,arguments)}}()))).filter(hn=>hn);let Y=F[0]||Gt(Vn);const Ue=ur(I,f.config.apiKey,f.name);let ct=null;for(const hn of p)try{const Mn=yield hn._get(Ue);if(Mn){const wn=ot._fromJSON(f,Mn);hn!==Y&&(ct=wn),Y=hn;break}}catch{}const Mt=F.filter(hn=>hn._shouldAllowMigration);return Y._shouldAllowMigration&&Mt.length?(Y=Mt[0],ct&&(yield Y._set(Ue,ct.toJSON())),yield Promise.all(p.map(function(){var hn=(0,u.Z)(function*(Mn){if(Mn!==Y)try{yield Mn._remove(Ue)}catch{}});return function(Mn){return hn.apply(this,arguments)}}())),new Xt(Y,f,I)):new Xt(Y,f,I)})()}}function qt(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(yt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(li(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(xt(f))return"Blackberry";if(on(f))return"Webos";if(Pr(f))return"Safari";if((f.includes("chrome/")||Bi(f))&&!f.includes("edge/"))return"Chrome";if(Xe(f))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function li(v=(0,Q.z$)()){return/firefox\//i.test(v)}function Pr(v=(0,Q.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Bi(v=(0,Q.z$)()){return/crios\//i.test(v)}function yt(v=(0,Q.z$)()){return/iemobile/i.test(v)}function Xe(v=(0,Q.z$)()){return/android/i.test(v)}function xt(v=(0,Q.z$)()){return/blackberry/i.test(v)}function on(v=(0,Q.z$)()){return/webos/i.test(v)}function Sn(v=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function rr(v=(0,Q.z$)()){return Sn(v)||Xe(v)||on(v)||xt(v)||/windows phone/i.test(v)||yt(v)}function _i(v,f=[]){let p;switch(v){case"Browser":p=qt((0,Q.z$)());break;case"Worker":p=`${qt((0,Q.z$)())}-${v}`;break;default:p=v}const I=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${J.SDK_VERSION}/${I}`}class Ci{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const I=Y=>new Promise((Ue,ct)=>{try{Ue(f(Y))}catch(Mt){ct(Mt)}});I.onAbort=p,this.queue.push(I);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,u.Z)(function*(){if(p.auth.currentUser===f)return;const I=[];try{for(const F of p.queue)yield F(f),F.onAbort&&I.push(F.onAbort)}catch(F){I.reverse();for(const Y of I)try{Y()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==F?void 0:F.message})}})()}}function Bn(){return(Bn=(0,u.Z)(function*(v,f={}){return Ye(v,"GET","/v2/passwordPolicy",qe(v,f))})).apply(this,arguments)}class Ar{constructor(f){var p,I,F,Y;const Ue=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Ue.minPasswordLength)&&void 0!==p?p:6,Ue.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ue.maxPasswordLength),void 0!==Ue.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ue.containsLowercaseCharacter),void 0!==Ue.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ue.containsUppercaseCharacter),void 0!==Ue.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ue.containsNumericCharacter),void 0!==Ue.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ue.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(F=null===(I=f.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==F?F:"",this.forceUpgradeOnSignin=null!==(Y=f.forceUpgradeOnSignin)&&void 0!==Y&&Y,this.schemaVersion=f.schemaVersion}validatePassword(f){var p,I,F,Y,Ue,ct;const Mt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Mt),this.validatePasswordCharacterOptions(f,Mt),Mt.isValid&&(Mt.isValid=null===(p=Mt.meetsMinPasswordLength)||void 0===p||p),Mt.isValid&&(Mt.isValid=null===(I=Mt.meetsMaxPasswordLength)||void 0===I||I),Mt.isValid&&(Mt.isValid=null===(F=Mt.containsLowercaseLetter)||void 0===F||F),Mt.isValid&&(Mt.isValid=null===(Y=Mt.containsUppercaseLetter)||void 0===Y||Y),Mt.isValid&&(Mt.isValid=null===(Ue=Mt.containsNumericCharacter)||void 0===Ue||Ue),Mt.isValid&&(Mt.isValid=null===(ct=Mt.containsNonAlphanumericCharacter)||void 0===ct||ct),Mt}validatePasswordLengthOptions(f,p){const I=this.customStrengthOptions.minPasswordLength,F=this.customStrengthOptions.maxPasswordLength;I&&(p.meetsMinPasswordLength=f.length>=I),F&&(p.meetsMaxPasswordLength=f.length<=F)}validatePasswordCharacterOptions(f,p){let I;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let F=0;F<f.length;F++)I=f.charAt(F),this.updatePasswordCharacterOptionsStatuses(p,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(f,p,I,F,Y){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=F)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=Y))}}class kn{constructor(f,p,I,F){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ee(this),this.idTokenSubscription=new Ee(this),this.beforeStateQueue=new Ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(f,p){var I=this;return p&&(this._popupRedirectResolver=Gt(p)),this._initializationPromise=this.queue((0,u.Z)(function*(){var F,Y;if(!I._deleted&&(I.persistenceManager=yield Xt.create(I,f),!I._deleted)){if(null!==(F=I._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(Y=I.currentUser)||void 0===Y?void 0:Y.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,u.Z)(function*(){var I;const F=yield p.assertedPersistence.getCurrentUser();let Y=F,Ue=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ct=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,Mt=null==Y?void 0:Y._redirectEventId,hn=yield p.tryRedirectSignIn(f);(!ct||ct===Mt)&&null!=hn&&hn.user&&(Y=hn.user,Ue=!0)}if(!Y)return p.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Ue)try{yield p.beforeStateQueue.runMiddleware(Y)}catch(ct){Y=F,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ct))}return Y?p.reloadAndSetCurrentUserOrClear(Y):p.directlySetCurrentUser(null)}return re(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Y._redirectEventId?p.directlySetCurrentUser(Y):p.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(f){var p=this;return(0,u.Z)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,u.Z)(function*(){try{yield Yr(f)}catch(I){if("auth/network-request-failed"!==(null==I?void 0:I.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,u.Z)(function*(){const I=f?(0,Q.m9)(f):null;return I&&re(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(f,p=!1){var I=this;return(0,u.Z)(function*(){if(!I._deleted)return f&&re(I.tenantId===f.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(f)),I.queue((0,u.Z)(function*(){yield I.directlySetCurrentUser(f),I.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,u.Z)(function*(){yield p.assertedPersistence.setPersistence(Gt(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var p=this;return(0,u.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const I=p._getPasswordPolicyInternal();return I.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,u.Z)(function*(){const p=yield function br(v){return Bn.apply(this,arguments)}(f),I=new Ar(p);null===f.tenantId?f._projectPasswordPolicy=I:f._tenantPasswordPolicies[f.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new Q.LL("auth","Firebase",f())}onAuthStateChanged(f,p,I){return this.registerStateListener(this.authStateSubscription,f,p,I)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,I){return this.registerStateListener(this.idTokenSubscription,f,p,I)}authStateReady(){return new Promise((f,p)=>{if(this.currentUser)f();else{const I=this.onAuthStateChanged(()=>{I(),f()},p)}})}revokeAccessToken(f){var p=this;return(0,u.Z)(function*(){if(p.currentUser){const I=yield p.currentUser.getIdToken(),F={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:I};null!=p.tenantId&&(F.tenantId=p.tenantId),yield function H(v,f){return oe.apply(this,arguments)}(p,F)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var I=this;return(0,u.Z)(function*(){const F=yield I.getOrInitRedirectPersistenceManager(p);return null===f?F.removeCurrentUser():F.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,u.Z)(function*(){if(!p.redirectPersistenceManager){const I=f&&Gt(f)||p._popupRedirectResolver;re(I,p,"argument-error"),p.redirectPersistenceManager=yield Xt.create(p,[Gt(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,u.Z)(function*(){var I,F;return p._isInitialized&&(yield p.queue((0,u.Z)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===f?p._currentUser:(null===(F=p.redirectUser)||void 0===F?void 0:F._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,u.Z)(function*(){if(f===p.currentUser)return p.queue((0,u.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,I,F){if(this._deleted)return()=>{};const Y="function"==typeof p?p:p.next.bind(p);let Ue=!1;const ct=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(ct,this,"internal-error"),ct.then(()=>{Ue||Y(this.currentUser)}),"function"==typeof p){const Mt=f.addObserver(p,I,F);return()=>{Ue=!0,Mt()}}{const Mt=f.addObserver(p);return()=>{Ue=!0,Mt()}}}directlySetCurrentUser(f){var p=this;return(0,u.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=_i(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var p;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const F=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();F&&(I["X-Firebase-Client"]=F);const Y=yield f._getAppCheckToken();return Y&&(I["X-Firebase-AppCheck"]=Y),I})()}_getAppCheckToken(){var f=this;return(0,u.Z)(function*(){var p;const I=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=I&&I.error&&function ht(v,...f){He.logLevel<=Me.in.WARN&&He.warn(`Auth (${J.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${I.error}`),null==I?void 0:I.token})()}}function pr(v){return(0,Q.m9)(v)}class Ee{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,Q.ne)(p=>this.observer=p)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function z(v){return new Promise((f,p)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=f,I.onerror=F=>{const Y=Oe("internal-error");Y.customData=F,p(Y)},I.type="text/javascript",I.charset="UTF-8",function me(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(I)})}function ye(v){return`__${v}${Math.floor(1e6*Math.random())}`}class en{constructor(f){this.type="recaptcha-enterprise",this.auth=pr(f)}verify(f="verify",p=!1){var I=this;return(0,u.Z)(function*(){function Y(){return Y=(0,u.Z)(function*(ct){if(!p){if(null==ct.tenantId&&null!=ct._agentRecaptchaConfig)return ct._agentRecaptchaConfig.siteKey;if(null!=ct.tenantId&&void 0!==ct._tenantRecaptchaConfigs[ct.tenantId])return ct._tenantRecaptchaConfigs[ct.tenantId].siteKey}return new Promise(function(){var Mt=(0,u.Z)(function*(hn,Mn){Pn(ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wn=>{if(void 0!==wn.recaptchaKey){const vi=new mn(wn);return null==ct.tenantId?ct._agentRecaptchaConfig=vi:ct._tenantRecaptchaConfigs[ct.tenantId]=vi,hn(vi.siteKey)}Mn(new Error("recaptcha Enterprise site key undefined"))}).catch(wn=>{Mn(wn)})});return function(hn,Mn){return Mt.apply(this,arguments)}}())}),Y.apply(this,arguments)}function Ue(ct,Mt,hn){const Mn=window.grecaptcha;$t(Mn)?Mn.enterprise.ready(()=>{Mn.enterprise.execute(ct,{action:f}).then(wn=>{Mt(wn)}).catch(()=>{Mt("NO_RECAPTCHA")})}):hn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ct,Mt)=>{(function F(ct){return Y.apply(this,arguments)})(I.auth).then(hn=>{if(!p&&$t(window.grecaptcha))Ue(hn,ct,Mt);else{if(typeof window>"u")return void Mt(new Error("RecaptchaVerifier is only supported in browser"));z("https://www.google.com/recaptcha/enterprise.js?render="+hn).then(()=>{Ue(hn,ct,Mt)}).catch(Mn=>{Mt(Mn)})}}).catch(hn=>{Mt(hn)})})})()}}function In(v,f,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(v,f,p,I=!1){const F=new en(v);let Y;try{Y=yield F.verify(p)}catch{Y=yield F.verify(p,!0)}const Ue=Object.assign({},f);return Object.assign(Ue,I?{captchaResp:Y}:{captchaResponse:Y}),Object.assign(Ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ue})).apply(this,arguments)}function xr(v,f,p,I){return L.apply(this,arguments)}function L(){return L=(0,u.Z)(function*(v,f,p,I){var F;if(null!==(F=v._getRecaptchaConfig())&&void 0!==F&&F.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Y=yield In(v,f,p,"getOobCode"===p);return I(v,Y)}return I(v,f).catch(function(){var Y=(0,u.Z)(function*(Ue){if("auth/missing-recaptcha-token"===Ue.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ct=yield In(v,f,p,"getOobCode"===p);return I(v,ct)}return Promise.reject(Ue)});return function(Ue){return Y.apply(this,arguments)}}())}),L.apply(this,arguments)}function St(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Vt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Qt{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return ae("not implemented")}_getIdTokenResponse(f){return ae("not implemented")}_linkToIdToken(f,p){return ae("not implemented")}_getReauthenticationResolver(f){return ae("not implemented")}}function pn(v,f){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:resetPassword",qe(v,f))})).apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function C(v,f){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function X(){return(X=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:update",qe(v,f))})).apply(this,arguments)}function Qe(v,f){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:signInWithPassword",qe(v,f))})).apply(this,arguments)}function Zr(v,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:sendOobCode",qe(v,f))})).apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(v,f){return Zr(v,f)})).apply(this,arguments)}function Eo(v,f){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(v,f){return Zr(v,f)})).apply(this,arguments)}function ao(v,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(v,f){return Zr(v,f)})).apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(v,f){return Zr(v,f)})).apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:signInWithEmailLink",qe(v,f))})).apply(this,arguments)}function Mo(){return(Mo=(0,u.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:signInWithEmailLink",qe(v,f))})).apply(this,arguments)}class Jo extends Qt{constructor(f,p,I,F=null){super("password",I),this._email=f,this._password=p,this._tenantId=F}static _fromEmailAndPassword(f,p){return new Jo(f,p,"password")}static _fromEmailAndCode(f,p,I=null){return new Jo(f,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,u.Z)(function*(){switch(p.signInMethod){case"password":return xr(f,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qe);case"emailLink":return function Ro(v,f){return la.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Fe(f,"internal-error")}})()}_linkToIdToken(f,p){var I=this;return(0,u.Z)(function*(){switch(I.signInMethod){case"password":return xr(f,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C);case"emailLink":return function ua(v,f){return Mo.apply(this,arguments)}(f,{idToken:p,email:I._email,oobCode:I._password});default:Fe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ui(v,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:signInWithIdp",qe(v,f))})).apply(this,arguments)}class Yi extends Qt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Yi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Fe("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:F}=p,Y=(0,se._T)(p,["providerId","signInMethod"]);if(!I||!F)return null;const Ue=new Yi(I,F);return Ue.idToken=Y.idToken||void 0,Ue.accessToken=Y.accessToken||void 0,Ue.secret=Y.secret,Ue.nonce=Y.nonce,Ue.pendingToken=Y.pendingToken||null,Ue}_getIdTokenResponse(f){return Ui(f,this.buildRequest())}_linkToIdToken(f,p){const I=this.buildRequest();return I.idToken=p,Ui(f,I)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ui(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,Q.xO)(p)}return f}}function ji(){return(ji=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:sendVerificationCode",qe(v,f))})).apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:signInWithPhoneNumber",qe(v,f))})).apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(v,f){const p=yield lt(v,"POST","/v1/accounts:signInWithPhoneNumber",qe(v,f));if(p.temporaryProof)throw it(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Cl={USER_NOT_FOUND:"user-not-found"};function Uo(){return(Uo=(0,u.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:signInWithPhoneNumber",qe(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Cl)})).apply(this,arguments)}class Hs extends Qt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Hs({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Hs({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Qr(v,f){return bs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function es(v,f){return hs.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Tl(v,f){return Uo.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:I,verificationCode:F}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:I,code:F}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:I,phoneNumber:F,temporaryProof:Y}=f;return I||p||F||Y?new Hs({verificationId:p,verificationCode:I,phoneNumber:F,temporaryProof:Y}):null}}class uo{constructor(f){var p,I,F,Y,Ue,ct;const Mt=(0,Q.zd)((0,Q.pd)(f)),hn=null!==(p=Mt.apiKey)&&void 0!==p?p:null,Mn=null!==(I=Mt.oobCode)&&void 0!==I?I:null,wn=function zs(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=Mt.mode)&&void 0!==F?F:null);re(hn&&Mn&&wn,"argument-error"),this.apiKey=hn,this.operation=wn,this.code=Mn,this.continueUrl=null!==(Y=Mt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Ue=Mt.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(ct=Mt.tenantId)&&void 0!==ct?ct:null}static parseLink(f){const p=function Ou(v){const f=(0,Q.zd)((0,Q.pd)(v)).link,p=f?(0,Q.zd)((0,Q.pd)(f)).deep_link_id:null,I=(0,Q.zd)((0,Q.pd)(v)).deep_link_id;return(I?(0,Q.zd)((0,Q.pd)(I)).link:null)||I||p||f||v}(f);try{return new uo(p)}catch{return null}}}let As=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,I){return Jo._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const F=uo.parseLink(I);return re(F,"argument-error"),Jo._fromEmailAndCode(p,F.code,F.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class zr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class jo extends zr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Hi extends jo{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return re("providerId"in p&&"signInMethod"in p,"argument-error"),Yi._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return re(f.idToken||f.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Hi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Hi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:I,oauthTokenSecret:F,pendingToken:Y,nonce:Ue,providerId:ct}=f;if(!I&&!F&&!p&&!Y||!ct)return null;try{return new Hi(ct)._credential({idToken:p,accessToken:I,nonce:Ue,pendingToken:Y})}catch{return null}}}let Aa=(()=>{class v extends jo{constructor(){super("facebook.com")}static credential(p){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),or=(()=>{class v extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(p,I){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:I})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:I,oauthAccessToken:F}=p;if(!I&&!F)return null;try{return v.credential(I,F)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ii=(()=>{class v extends jo{constructor(){super("github.com")}static credential(p){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ti extends Qt{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Ui(f,this.buildRequest())}_linkToIdToken(f,p){const I=this.buildRequest();return I.idToken=p,Ui(f,I)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ui(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:F,pendingToken:Y}=p;return I&&F&&Y&&I===F?new Ti(I,Y):null}static _create(f,p){return new Ti(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ts extends zr{constructor(f){re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ts.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ts.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Ti.fromJSON(f);return re(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:I}=f;if(!p||!I)return null;try{return Ti._create(I,p)}catch{return null}}}let ns=(()=>{class v extends jo{constructor(){super("twitter.com")}static credential(p,I){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:I})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:I,oauthTokenSecret:F}=p;if(!I||!F)return null;try{return v.credential(I,F)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function rs(v,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,u.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:signUp",qe(v,f))})).apply(this,arguments)}class co{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,I,F=!1){return(0,u.Z)(function*(){const Y=yield ot._fromIdTokenResponse(f,I,F),Ue=Vr(I);return new co({user:Y,providerId:Ue,_tokenResponse:I,operationType:p})})()}static _forOperation(f,p,I){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(I,!0);const F=Vr(I);return new co({user:f,providerId:F,_tokenResponse:I,operationType:p})})()}}function Vr(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Nn(){return(Nn=(0,u.Z)(function*(v){var f;const p=pr(v);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new co({user:p.currentUser,providerId:null,operationType:"signIn"});const I=yield rs(p,{returnSecureToken:!0}),F=yield co._fromIdTokenResponse(p,"signIn",I,!0);return yield p._updateCurrentUser(F.user),F})).apply(this,arguments)}class Or extends Q.ZR{constructor(f,p,I,F){var Y;super(p.code,p.message),this.operationType=I,this.user=F,Object.setPrototypeOf(this,Or.prototype),this.customData={appName:f.name,tenantId:null!==(Y=f.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,p,I,F){return new Or(f,p,I,F)}}function zi(v,f,p,I){return("reauthenticate"===f?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?Or._fromErrorAndOperation(v,Y,f,I):Y})}function yi(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function ps(){return ps=(0,u.Z)(function*(v,f){const p=(0,Q.m9)(v);yield V(!0,p,f);const{providerUserInfo:I}=yield function En(v,f){return _n.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),F=yi(I||[]);return p.providerData=p.providerData.filter(Y=>F.has(Y.providerId)),F.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),ps.apply(this,arguments)}function jn(v,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(v,f,p=!1){const I=yield lr(v,f._linkToIdToken(v.auth,yield v.getIdToken()),p);return co._forOperation(v,"link",I)})).apply(this,arguments)}function V(v,f,p){return A.apply(this,arguments)}function A(){return(A=(0,u.Z)(function*(v,f,p){yield Yr(f);const F=!1===v?"provider-already-linked":"no-such-provider";re(yi(f.providerData).has(p)===v,f.auth,F)})).apply(this,arguments)}function ne(v,f){return $.apply(this,arguments)}function $(){return($=(0,u.Z)(function*(v,f,p=!1){const{auth:I}=v,F="reauthenticate";try{const Y=yield lr(v,zi(I,F,f,v),p);re(Y.idToken,I,"internal-error");const Ue=wr(Y.idToken);re(Ue,I,"internal-error");const{sub:ct}=Ue;return re(v.uid===ct,I,"user-mismatch"),co._forOperation(v,F,Y)}catch(Y){throw"auth/user-not-found"===(null==Y?void 0:Y.code)&&Fe(I,"user-mismatch"),Y}})).apply(this,arguments)}function _e(v,f){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(v,f,p=!1){const I="signIn",F=yield zi(v,I,f),Y=yield co._fromIdTokenResponse(v,I,F);return p||(yield v._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function Rn(v,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(v,f){return _e(pr(v),f)})).apply(this,arguments)}function ti(v,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(v,f){const p=(0,Q.m9)(v);return yield V(!1,p,f.providerId),jn(p,f)})).apply(this,arguments)}function ho(v,f){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(v,f){return ne((0,Q.m9)(v),f)})).apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(v,f){return lt(v,"POST","/v1/accounts:signInWithCustomToken",qe(v,f))})).apply(this,arguments)}function Ss(){return Ss=(0,u.Z)(function*(v,f){const p=pr(v),I=yield function gs(v,f){return Ho.apply(this,arguments)}(p,{token:f,returnSecureToken:!0}),F=yield co._fromIdTokenResponse(p,"signIn",I);return yield p._updateCurrentUser(F.user),F}),Ss.apply(this,arguments)}class Wi{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Co._fromServerResponse(f,p):"totpInfo"in p?ms._fromServerResponse(f,p):Fe(f,"internal-error")}}class Co extends Wi{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Co(p)}}class ms extends Wi{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new ms(p)}}function zo(v,f,p){var I;re((null===(I=p.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),re(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(re(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(re(p.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function si(v){return To.apply(this,arguments)}function To(){return(To=(0,u.Z)(function*(v){const f=pr(v);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(v,f,p){const I=pr(v),F={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};p&&zo(I,F,p),yield xr(I,F,"getOobCode",Eo)})).apply(this,arguments)}function is(){return is=(0,u.Z)(function*(v,f,p){yield pn((0,Q.m9)(v),{oobCode:f,newPassword:p}).catch(function(){var I=(0,u.Z)(function*(F){throw"auth/password-does-not-meet-requirements"===F.code&&si(v),F});return function(F){return I.apply(this,arguments)}}())}),is.apply(this,arguments)}function fo(){return fo=(0,u.Z)(function*(v,f){yield function M(v,f){return X.apply(this,arguments)}((0,Q.m9)(v),{oobCode:f})}),fo.apply(this,arguments)}function Ra(v,f){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(v,f){const p=(0,Q.m9)(v),I=yield pn(p,{oobCode:f}),F=I.requestType;switch(re(F,p,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(I.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(I.mfaInfo,p,"internal-error");default:re(I.email,p,"internal-error")}let Y=null;return I.mfaInfo&&(Y=Wi._fromServerResponse(pr(p),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:Y},operation:F}})).apply(this,arguments)}function ha(){return(ha=(0,u.Z)(function*(v,f){const{data:p}=yield Ra((0,Q.m9)(v),f);return p.email})).apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(v,f,p){const I=pr(v),Ue=yield xr(I,{returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rs).catch(Mt=>{throw"auth/password-does-not-meet-requirements"===Mt.code&&si(v),Mt}),ct=yield co._fromIdTokenResponse(I,"signIn",Ue);return yield I._updateCurrentUser(ct.user),ct})).apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(v,f,p){const I=pr(v),F={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function Y(Ue,ct){re(ct.handleCodeInApp,I,"argument-error"),ct&&zo(I,Ue,ct)})(F,p),yield xr(I,F,"getOobCode",ao)})).apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(v,f,p){const I=(0,Q.m9)(v),F=As.credentialWithLink(f,p||Be());return re(F._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Rn(I,F)})).apply(this,arguments)}function lu(){return(lu=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:createAuthUri",qe(v,f))})).apply(this,arguments)}function Ma(){return Ma=(0,u.Z)(function*(v,f){const I={identifier:f,continueUri:rt()?Be():"http://localhost"},{signinMethods:F}=yield function Hd(v,f){return lu.apply(this,arguments)}((0,Q.m9)(v),I);return F||[]}),Ma.apply(this,arguments)}function T(){return T=(0,u.Z)(function*(v,f){const p=(0,Q.m9)(v),F={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&zo(p.auth,F,f);const{email:Y}=yield function Io(v,f){return $o.apply(this,arguments)}(p.auth,F);Y!==v.email&&(yield v.reload())}),T.apply(this,arguments)}function Ce(){return Ce=(0,u.Z)(function*(v,f,p){const I=(0,Q.m9)(v),Y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};p&&zo(I.auth,Y,p);const{email:Ue}=yield function ir(v,f){return ro.apply(this,arguments)}(I.auth,Y);Ue!==v.email&&(yield v.reload())}),Ce.apply(this,arguments)}function ie(){return(ie=(0,u.Z)(function*(v,f){return Ye(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ct(){return Ct=(0,u.Z)(function*(v,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const I=(0,Q.m9)(v),Y={idToken:yield I.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},Ue=yield lr(I,function O(v,f){return ie.apply(this,arguments)}(I.auth,Y));I.displayName=Ue.displayName||null,I.photoURL=Ue.photoUrl||null;const ct=I.providerData.find(({providerId:Mt})=>"password"===Mt);ct&&(ct.displayName=I.displayName,ct.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ue)}),Ct.apply(this,arguments)}function dr(v,f,p){return er.apply(this,arguments)}function er(){return er=(0,u.Z)(function*(v,f,p){const{auth:I}=v,Y={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(Y.email=f),p&&(Y.password=p);const Ue=yield lr(v,function Jn(v,f){return Ir.apply(this,arguments)}(I,Y));yield v._updateTokensIfNecessary(Ue,!0)}),er.apply(this,arguments)}class Yn{constructor(f,p,I={}){this.isNewUser=f,this.providerId=p,this.profile=I}}class Er extends Yn{constructor(f,p,I,F){super(f,p,I),this.username=F}}class di extends Yn{constructor(f,p){super(f,"facebook.com",p)}}class go extends Er{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class mo extends Yn{constructor(f,p){super(f,"google.com",p)}}class _s extends Er{constructor(f,p,I){super(f,"twitter.com",p,I)}}function wo(v){const{user:f,_tokenResponse:p}=v;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Hn(v){var f,p;if(!v)return null;const{providerId:I}=v,F=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},Y=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&null!=v&&v.idToken){const Ue=null===(p=null===(f=wr(v.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(Ue)return new Yn(Y,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!I)return null;switch(I){case"facebook.com":return new di(Y,F);case"github.com":return new go(Y,F);case"google.com":return new mo(Y,F);case"twitter.com":return new _s(Y,F,v.screenName||null);case"custom":case"anonymous":return new Yn(Y,null);default:return new Yn(Y,I,F)}}(p)}class fi{constructor(f,p,I){this.type=f,this.credential=p,this.user=I}static _fromIdtoken(f,p){return new fi("enroll",f,p)}static _fromMfaPendingCredential(f){return new fi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,I;if(null!=f&&f.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return fi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return fi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ps{constructor(f,p,I){this.session=f,this.hints=p,this.signInResolver=I}static _fromError(f,p){const I=pr(f),F=p.customData._serverResponse,Y=(F.mfaInfo||[]).map(ct=>Wi._fromServerResponse(I,ct));re(F.mfaPendingCredential,I,"internal-error");const Ue=fi._fromMfaPendingCredential(F.mfaPendingCredential);return new Ps(Ue,Y,function(){var ct=(0,u.Z)(function*(Mt){const hn=yield Mt._process(I,Ue);delete F.mfaInfo,delete F.mfaPendingCredential;const Mn=Object.assign(Object.assign({},F),{idToken:hn.idToken,refreshToken:hn.refreshToken});switch(p.operationType){case"signIn":const wn=yield co._fromIdTokenResponse(I,p.operationType,Mn);return yield I._updateCurrentUser(wn.user),wn;case"reauthenticate":return re(p.user,I,"internal-error"),co._forOperation(p.user,p.operationType,Mn);default:Fe(I,"internal-error")}});return function(Mt){return ct.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,u.Z)(function*(){return p.signInResolver(f)})()}}class yn{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(I=>Wi._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new yn(f)}getSession(){var f=this;return(0,u.Z)(function*(){return fi._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,p){var I=this;return(0,u.Z)(function*(){const F=f,Y=yield I.getSession(),Ue=yield lr(I.user,F._process(I.user.auth,Y,p));return yield I.user._updateTokensIfNecessary(Ue),I.user.reload()})()}unenroll(f){var p=this;return(0,u.Z)(function*(){const I="string"==typeof f?f:f.uid,F=yield p.user.getIdToken();try{const Y=yield lr(p.user,function Nu(v,f){return Ye(v,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(v,f))}(p.user.auth,{idToken:F,mfaEnrollmentId:I}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ue})=>Ue!==I),yield p.user._updateTokensIfNecessary(Y),yield p.user.reload()}catch(Y){throw Y}})()}}const Tn=new WeakMap,sn="__sak";class _t{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(sn,"1"),this.storage.removeItem(sn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ku=(()=>{class v extends _t{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function dt(){const v=(0,Q.z$)();return Pr(v)||Sn(v)}()&&function Cr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=rr(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const F=this.storage.getItem(I),Y=this.localCache[I];F!==Y&&p(I,Y,F)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((ct,Mt,hn)=>{this.notifyListeners(ct,hn)});const F=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(F);if(p.newValue!==ct)null!==p.newValue?this.storage.setItem(F,p.newValue):this.storage.removeItem(F);else if(this.localCache[F]===p.newValue&&!I)return}const Y=()=>{const ct=this.storage.getItem(F);!I&&this.localCache[F]===ct||this.notifyListeners(F,ct)},Ue=this.storage.getItem(F);!function Dr(){return(0,Q.w1)()&&10===document.documentMode}()||Ue===p.newValue||p.newValue===p.oldValue?Y():setTimeout(Y,10)}notifyListeners(p,I){this.localCache[p]=I;const F=this.listeners[p];if(F)for(const Y of Array.from(F))Y(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var F=()=>super._set,Y=this;return(0,u.Z)(function*(){yield F().call(Y,p,I),Y.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,F=this;return(0,u.Z)(function*(){const Y=yield I().call(F,p);return F.localCache[p]=JSON.stringify(Y),Y})()}_remove(p){var I=()=>super._remove,F=this;return(0,u.Z)(function*(){yield I().call(F,p),delete F.localCache[p]})()}}return v.type="LOCAL",v})(),xs=(()=>{class v extends _t{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return v.type="SESSION",v})();let bc=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(Y=>Y.isListeningto(p));if(I)return I;const F=new v(p);return this.receivers.push(F),F}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,u.Z)(function*(){const F=p,{eventId:Y,eventType:Ue,data:ct}=F.data,Mt=I.handlersMap[Ue];if(null==Mt||!Mt.size)return;F.ports[0].postMessage({status:"ack",eventId:Y,eventType:Ue});const hn=Array.from(Mt).map(function(){var wn=(0,u.Z)(function*(vi){return vi(F.origin,ct)});return function(vi){return wn.apply(this,arguments)}}()),Mn=yield function pa(v){return Promise.all(v.map(function(){var f=(0,u.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return f.apply(this,arguments)}}()))}(hn);F.ports[0].postMessage({status:"done",eventId:Y,eventType:Ue,response:Mn})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ml(v="",f=10){let p="";for(let I=0;I<f;I++)p+=Math.floor(10*Math.random());return v+p}class Mg{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,I=50){var F=this;return(0,u.Z)(function*(){const Y=typeof MessageChannel<"u"?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let Ue,ct;return new Promise((Mt,hn)=>{const Mn=Ml("",20);Y.port1.start();const wn=setTimeout(()=>{hn(new Error("unsupported_event"))},I);ct={messageChannel:Y,onMessage(vi){const ko=vi;if(ko.data.eventId===Mn)switch(ko.data.status){case"ack":clearTimeout(wn),Ue=setTimeout(()=>{hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),Mt(ko.data.response);break;default:clearTimeout(wn),clearTimeout(Ue),hn(new Error("invalid_response"))}}},F.handlers.add(ct),Y.port1.addEventListener("message",ct.onMessage),F.target.postMessage({eventType:f,eventId:Mn,data:p},[Y.port2])}).finally(()=>{ct&&F.removeMessageHandler(ct)})})()}}function Oi(){return window}function ut(){return typeof Oi().WorkerGlobalScope<"u"&&"function"==typeof Oi().importScripts}function Fu(){return(Fu=(0,u.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ja="firebaseLocalStorageDb",Go="firebaseLocalStorage",Xr="fbase_key";class an{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ws(v,f){return v.transaction([Go],f?"readwrite":"readonly").objectStore(Go)}function Os(){const v=indexedDB.open(Ja,1);return new Promise((f,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(Go,{keyPath:Xr})}catch(F){p(F)}}),v.addEventListener("success",(0,u.Z)(function*(){const I=v.result;I.objectStoreNames.contains(Go)?f(I):(I.close(),yield function Sc(){const v=indexedDB.deleteDatabase(Ja);return new an(v).toPromise()}(),f(yield Os()))}))})}function vo(v,f,p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,u.Z)(function*(v,f,p){const I=Ws(v,!0).put({[Xr]:f,value:p});return new an(I).toPromise()})).apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(v,f){const p=Ws(v,!1).get(f),I=yield new an(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Ns(v,f){const p=Ws(v,!0).delete(f);return new an(p).toPromise()}const el=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,u.Z)(function*(){return p.db||(p.db=yield Os()),p.db})()}_withRetries(p){var I=this;return(0,u.Z)(function*(){let F=0;for(;;)try{const Y=yield I._openDb();return yield p(Y)}catch(Y){if(F++>3)throw Y;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,u.Z)(function*(){return ut()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,u.Z)(function*(){p.receiver=bc._getInstance(function rn(){return ut()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,u.Z)(function*(F,Y){return{keyProcessed:(yield p._poll()).includes(Y.key)}});return function(F,Y){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,u.Z)(function*(F,Y){return["keyChanged"]});return function(F,Y){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,u.Z)(function*(){var I,F;if(p.activeServiceWorker=yield function vr(){return Fu.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Mg(p.activeServiceWorker);const Y=yield p.sender._send("ping",{},800);Y&&null!==(I=Y[0])&&void 0!==I&&I.fulfilled&&null!==(F=Y[0])&&void 0!==F&&F.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,u.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function pi(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Os();return yield vo(p,sn,"1"),yield Ns(p,sn),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,u.Z)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var F=this;return(0,u.Z)(function*(){return F._withPendingWrite((0,u.Z)(function*(){return yield F._withRetries(Y=>vo(Y,p,I)),F.localCache[p]=I,F.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,u.Z)(function*(){const F=yield I._withRetries(Y=>function Rc(v,f){return _o.apply(this,arguments)}(Y,p));return I.localCache[p]=F,F})()}_remove(p){var I=this;return(0,u.Z)(function*(){return I._withPendingWrite((0,u.Z)(function*(){return yield I._withRetries(F=>Ns(F,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,u.Z)(function*(){const I=yield p._withRetries(Ue=>{const ct=Ws(Ue,!1).getAll();return new an(ct).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const F=[],Y=new Set;if(0!==I.length)for(const{fbase_key:Ue,value:ct}of I)Y.add(Ue),JSON.stringify(p.localCache[Ue])!==JSON.stringify(ct)&&(p.notifyListeners(Ue,ct),F.push(Ue));for(const Ue of Object.keys(p.localCache))p.localCache[Ue]&&!Y.has(Ue)&&(p.notifyListeners(Ue,null),F.push(Ue));return F})()}notifyListeners(p,I){this.localCache[p]=I;const F=this.listeners[p];if(F)for(const Y of Array.from(F))Y(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),W=1e12;class fe{constructor(f){this.auth=f,this.counter=W,this._widgets=new Map}render(f,p){const I=this.counter;return this._widgets.set(I,new st(f,this.auth.name,p||{})),this.counter++,I}reset(f){var p;const I=f||W;null===(p=this._widgets.get(I))||void 0===p||p.delete(),this._widgets.delete(I)}getResponse(f){var p;return(null===(p=this._widgets.get(f||W))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,u.Z)(function*(){var I;return null===(I=p._widgets.get(f||W))||void 0===I||I.execute(),""})()}}class st{constructor(f,p,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof f?document.getElementById(f):f;re(F,"argument-error",{appName:p}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ot(v){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)f.push(p.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ft=ye("rcb"),ln=new tt(3e4,6e4);class ni{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Oi().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return re(function tr(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&It(Oi().grecaptcha)?Promise.resolve(Oi().grecaptcha):new Promise((I,F)=>{const Y=Oi().setTimeout(()=>{F(Oe(f,"network-request-failed"))},ln.get());Oi()[ft]=()=>{Oi().clearTimeout(Y),delete Oi()[ft];const ct=Oi().grecaptcha;if(!ct||!It(ct))return void F(Oe(f,"internal-error"));const Mt=ct.render;ct.render=(hn,Mn)=>{const wn=Mt(hn,Mn);return this.counter++,wn},this.hostLanguage=p,I(ct)},z(`https://www.google.com/recaptcha/api.js??${(0,Q.xO)({onload:ft,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(Y),F(Oe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=Oi().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ei{load(f){return(0,u.Z)(function*(){return new fe(f)})()}clearedOneInstance(){}}const sr="recaptcha",qs={theme:"light",type:"image"};class Ys{constructor(f,p,I=Object.assign({},qs)){this.parameters=I,this.type=sr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(f),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof p?document.getElementById(p):p;re(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ei:new ni,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(p)||new Promise(Y=>{const Ue=ct=>{ct&&(f.tokenChangeListeners.delete(Ue),Y(ct))};f.tokenChangeListeners.add(Ue),f.isInvisible&&I.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(I=>I(p)),"function"==typeof f)f(p);else if("string"==typeof f){const I=Oi()[f];"function"==typeof I&&I(p)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const I=document.createElement("div");p.appendChild(I),p=I}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){re(rt()&&!ut(),f.auth,"internal-error"),yield function tl(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function fn(v){return nn.apply(this,arguments)}(f.auth);re(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bi{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Hs._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Ks(){return(Ks=(0,u.Z)(function*(v,f,p){const I=pr(v),F=yield xl(I,f,(0,Q.m9)(p));return new bi(F,Y=>Rn(I,Y))})).apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(v,f,p){const I=(0,Q.m9)(v);yield V(!1,I,"phone");const F=yield xl(I.auth,f,(0,Q.m9)(p));return new bi(F,Y=>ti(I,Y))})).apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(v,f,p){const I=(0,Q.m9)(v),F=yield xl(I.auth,f,(0,Q.m9)(p));return new bi(F,Y=>ho(I,Y))})).apply(this,arguments)}function xl(v,f,p){return uu.apply(this,arguments)}function uu(){return uu=(0,u.Z)(function*(v,f,p){var I;const F=yield p.verify();try{let Y;if(re("string"==typeof F,v,"argument-error"),re(p.type===sr,v,"argument-error"),Y="string"==typeof f?{phoneNumber:f}:f,"session"in Y){const Ue=Y.session;if("phoneNumber"in Y)return re("enroll"===Ue.type,v,"internal-error"),(yield function Gd(v,f){return Ye(v,"POST","/v2/accounts/mfaEnrollment:start",qe(v,f))}(v,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:Y.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{re("signin"===Ue.type,v,"internal-error");const ct=(null===(I=Y.multiFactorHint)||void 0===I?void 0:I.uid)||Y.multiFactorUid;return re(ct,v,"missing-multi-factor-info"),(yield function E(v,f){return Ye(v,"POST","/v2/accounts/mfaSignIn:start",qe(v,f))}(v,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield function js(v,f){return ji.apply(this,arguments)}(v,{phoneNumber:Y.phoneNumber,recaptchaToken:F});return Ue}}finally{p._reset()}}),uu.apply(this,arguments)}function xc(){return(xc=(0,u.Z)(function*(v,f){yield jn((0,Q.m9)(v),f)})).apply(this,arguments)}let cu=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=pr(p)}verifyPhoneNumber(p,I){return xl(this.auth,p,(0,Q.m9)(I))}static credential(p,I){return Hs._fromVerification(p,I)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:I,temporaryProof:F}=p;return I&&F?Hs._fromTokenResponse(I,F):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ol(v,f){return f?Gt(f):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class nl extends Qt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ui(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Ui(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Ui(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Lu(v){return _e(v.auth,new nl(v),v.bypassAuthState)}function Pg(v){const{auth:f,user:p}=v;return re(p,f,"internal-error"),ne(p,new nl(v),v.bypassAuthState)}function Zd(v){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,u.Z)(function*(v){const{auth:f,user:p}=v;return re(p,f,"internal-error"),jn(p,new nl(v),v.bypassAuthState)})).apply(this,arguments)}class Ff{constructor(f,p,I,F,Y=!1){this.auth=f,this.resolver=I,this.user=F,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,u.Z)(function*(I,F){f.pendingPromise={resolve:I,reject:F};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Y){f.reject(Y)}});return function(I,F){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,u.Z)(function*(){const{urlResponse:I,sessionId:F,postBody:Y,tenantId:Ue,error:ct,type:Mt}=f;if(ct)return void p.reject(ct);const hn={auth:p.auth,requestUri:I,sessionId:F,tenantId:Ue||void 0,postBody:Y||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Mt)(hn))}catch(Mn){p.reject(Mn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Lu;case"linkViaPopup":case"linkViaRedirect":return Zd;case"reauthViaPopup":case"reauthViaRedirect":return Pg;default:Fe(this.auth,"internal-error")}}resolve(f){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xg=new tt(2e3,1e4);function Lf(){return(Lf=(0,u.Z)(function*(v,f,p){const I=pr(v);ee(v,f,zr);const F=Ol(I,p);return new Vu(I,"signInViaPopup",f,F).executeNotNull()})).apply(this,arguments)}function Nl(){return(Nl=(0,u.Z)(function*(v,f,p){const I=(0,Q.m9)(v);ee(I.auth,f,zr);const F=Ol(I.auth,p);return new Vu(I.auth,"reauthViaPopup",f,F,I).executeNotNull()})).apply(this,arguments)}function rl(){return(rl=(0,u.Z)(function*(v,f,p){const I=(0,Q.m9)(v);ee(I.auth,f,zr);const F=Ol(I.auth,p);return new Vu(I.auth,"linkViaPopup",f,F,I).executeNotNull()})).apply(this,arguments)}let Vu=(()=>{class v extends Ff{constructor(p,I,F,Y,Ue){super(p,I,Y,Ue),this.provider=F,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,u.Z)(function*(){const I=yield p.execute();return re(I,p.auth,"internal-error"),I})()}onExecution(){var p=this;return(0,u.Z)(function*(){Ke(1===p.filter.length,"Popup operations only handle one event");const I=Ml();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],I),p.authWindow.associatedEvent=I,p.resolver._originValidation(p.auth).catch(F=>{p.reject(F)}),p.resolver._isIframeWebStorageSupported(p.auth,F=>{F||p.reject(Oe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var I,F;this.pollId=null!==(F=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==F&&F.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,xg.get())};p()}}return v.currentPopupAction=null,v})();const du="pendingRedirect",qi=new Map;class Xd extends Ff{constructor(f,p,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,u.Z)(function*(){let I=qi.get(p.auth._key());if(!I){try{const Y=(yield function Pa(v,f){return Nc.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;I=()=>Promise.resolve(Y)}catch(F){I=()=>Promise.reject(F)}qi.set(p.auth._key(),I)}return p.bypassAuthState||qi.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,I=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(I,f);if("unknown"!==f.type){if(f.eventId){const F=yield I.auth._redirectUserForId(f.eventId);if(F)return I.user=F,p().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Nc(){return(Nc=(0,u.Z)(function*(v,f){const p=ga(f),I=kc(v);if(!(yield I._isAvailable()))return!1;const F="true"===(yield I._get(p));return yield I._remove(p),F})).apply(this,arguments)}function Rr(v,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,u.Z)(function*(v,f){return kc(v)._set(ga(f),"true")})).apply(this,arguments)}function Gr(v,f){qi.set(v._key(),f)}function kc(v){return Gt(v._redirectPersistence)}function ga(v){return ur(du,v.config.apiKey,v.name)}function Oo(v,f,p){return function $f(v,f,p){return Fc.apply(this,arguments)}(v,f,p)}function Fc(){return(Fc=(0,u.Z)(function*(v,f,p){const I=pr(v);ee(v,f,zr),yield I._initializationPromise;const F=Ol(I,p);return yield Rr(F,I),F._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function Xi(v,f,p){return function Bf(v,f,p){return Qs.apply(this,arguments)}(v,f,p)}function Qs(){return(Qs=(0,u.Z)(function*(v,f,p){const I=(0,Q.m9)(v);ee(I.auth,f,zr),yield I.auth._initializationPromise;const F=Ol(I.auth,p);yield Rr(F,I.auth);const Y=yield os(I);return F._openRedirect(I.auth,f,"reauthViaRedirect",Y)})).apply(this,arguments)}function Vi(v,f,p){return function ks(v,f,p){return Fs.apply(this,arguments)}(v,f,p)}function Fs(){return(Fs=(0,u.Z)(function*(v,f,p){const I=(0,Q.m9)(v);ee(I.auth,f,zr),yield I.auth._initializationPromise;const F=Ol(I.auth,p);yield V(!1,I,f.providerId),yield Rr(F,I.auth);const Y=yield os(I);return F._openRedirect(I.auth,f,"linkViaRedirect",Y)})).apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(v,f){return yield pr(v)._initializationPromise,$u(v,f,!1)})).apply(this,arguments)}function $u(v,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,u.Z)(function*(v,f,p=!1){const I=pr(v),F=Ol(I,f),Ue=yield new Xd(I,F,p).execute();return Ue&&!p&&(delete Ue.user._redirectEventId,yield I._persistUserIfCurrent(Ue.user),yield I._setRedirectUser(null,f)),Ue})).apply(this,arguments)}function os(v){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*(v){const f=Ml(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Ls{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(p=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Jd(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xa(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var I;if(f.error&&!xa(f)){const F=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(Oe(this.auth,F))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const I=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sl(f))}saveEventToCache(f){this.cachedEventUids.add(sl(f)),this.lastProcessedEventTime=Date.now()}}function sl(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function xa({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Oa(v){return ma.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(v,f={}){return Ye(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Na=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vs=/^https?/;function ka(){return(ka=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield Oa(v);for(const p of f)try{if(kl(p))return}catch{}Fe(v,"unauthorized-domain")})).apply(this,arguments)}function kl(v){const f=Be(),{protocol:p,hostname:I}=new URL(f);if(v.startsWith("chrome-extension://")){const Ue=new URL(v);return""===Ue.hostname&&""===I?"chrome-extension:"===p&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&Ue.hostname===I}if(!Vs.test(p))return!1;if(Na.test(v))return I===v;const F=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(I)}const Og=new tt(3e4,6e4);function Bu(){const v=Oi().___jsl;if(null!=v&&v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Bc=null;const Uv=new tt(5e3,15e3),Ng="__/auth/iframe",kg="emulator/auth/iframe",$i={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Di(v){const f=v.config;re(f.authDomain,v,"auth-domain-config-required");const p=f.emulator?Ae(f,kg):`https://${v.config.authDomain}/${Ng}`,I={apiKey:f.apiKey,appName:v.name,v:J.SDK_VERSION},F=Uf.get(v.config.apiHost);F&&(I.eid=F);const Y=v._getFrameworks();return Y.length&&(I.fw=Y.join(",")),`${p}?${(0,Q.xO)(I).slice(1)}`}function Uc(){return Uc=(0,u.Z)(function*(v){const f=yield function Bv(v){return Bc=Bc||function $c(v){return new Promise((f,p)=>{var I,F,Y;function Ue(){Bu(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Bu(),p(Oe(v,"network-request-failed"))},timeout:Og.get()})}if(null!==(F=null===(I=Oi().gapi)||void 0===I?void 0:I.iframes)&&void 0!==F&&F.Iframe)f(gapi.iframes.getContext());else{if(null===(Y=Oi().gapi)||void 0===Y||!Y.load){const ct=ye("iframefcb");return Oi()[ct]=()=>{gapi.load?Ue():p(Oe(v,"network-request-failed"))},z(`https://apis.google.com/js/api.js?onload=${ct}`).catch(Mt=>p(Mt))}Ue()}}).catch(f=>{throw Bc=null,f})}(v),Bc}(v),p=Oi().gapi;return re(p,v,"internal-error"),f.open({where:document.body,url:Di(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$i,dontclear:!0},I=>new Promise(function(){var F=(0,u.Z)(function*(Y,Ue){yield I.restyle({setHideOnLeave:!1});const ct=Oe(v,"network-request-failed"),Mt=Oi().setTimeout(()=>{Ue(ct)},Uv.get());function hn(){Oi().clearTimeout(Mt),Y(I)}I.ping(hn).then(hn,()=>{Ue(ct)})});return function(Y,Ue){return F.apply(this,arguments)}}()))}),Uc.apply(this,arguments)}const fu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $r{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jf="__/auth/handler",eh="emulator/auth/handler",Hf=encodeURIComponent("fac");function No(v,f,p,I,F,Y){return pu.apply(this,arguments)}function pu(){return(pu=(0,u.Z)(function*(v,f,p,I,F,Y){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const Ue={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:I,v:J.SDK_VERSION,eventId:F};if(f instanceof zr){f.setDefaultLanguage(v.languageCode),Ue.providerId=f.providerId||"",(0,Q.xb)(f.getCustomParameters())||(Ue.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Mn,wn]of Object.entries(Y||{}))Ue[Mn]=wn}if(f instanceof jo){const Mn=f.getScopes().filter(wn=>""!==wn);Mn.length>0&&(Ue.scopes=Mn.join(","))}v.tenantId&&(Ue.tid=v.tenantId);const ct=Ue;for(const Mn of Object.keys(ct))void 0===ct[Mn]&&delete ct[Mn];const Mt=yield v._getAppCheckToken(),hn=Mt?`#${Hf}=${encodeURIComponent(Mt)}`:"";return`${function Ll({config:v}){return v.emulator?Ae(v,eh):`https://${v.authDomain}/${jf}`}(v)}?${(0,Q.xO)(ct).slice(1)}${hn}`})).apply(this,arguments)}const zf="webStorageSupport",Wf=class Gf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xs,this._completeRedirectFn=$u,this._overrideRedirectResult=Gr}_openPopup(f,p,I,F){var Y=this;return(0,u.Z)(function*(){var Ue;Ke(null===(Ue=Y.eventManagers[f._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const ct=yield No(f,p,I,Be(),F);return function va(v,f,p,I=500,F=600){const Y=Math.max((window.screen.availHeight-F)/2,0).toString(),Ue=Math.max((window.screen.availWidth-I)/2,0).toString();let ct="";const Mt=Object.assign(Object.assign({},fu),{width:I.toString(),height:F.toString(),top:Y,left:Ue}),hn=(0,Q.z$)().toLowerCase();p&&(ct=Bi(hn)?"_blank":p),li(hn)&&(f=f||"http://localhost",Mt.scrollbars="yes");const Mn=Object.entries(Mt).reduce((vi,[ko,Iu])=>`${vi}${ko}=${Iu},`,"");if(function $n(v=(0,Q.z$)()){var f;return Sn(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(hn)&&"_self"!==ct)return function ju(v,f){const p=document.createElement("a");p.href=v,p.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(f||"",ct),new $r(null);const wn=window.open(f||"",ct,Mn);re(wn,v,"popup-blocked");try{wn.focus()}catch{}return new $r(wn)}(f,ct,Ml())})()}_openRedirect(f,p,I,F){var Y=this;return(0,u.Z)(function*(){return yield Y._originValidation(f),function Ac(v){Oi().location.href=v}(yield No(f,p,I,Be(),F)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:F,promise:Y}=this.eventManagers[p];return F?Promise.resolve(F):(Ke(Y,"If manager is not set, promise should be"),Y)}const I=this.initAndGetManager(f);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(f){var p=this;return(0,u.Z)(function*(){const I=yield function gi(v){return Uc.apply(this,arguments)}(f),F=new Ls(f);return I.register("authEvent",Y=>(re(null==Y?void 0:Y.authEvent,f,"invalid-auth-event"),{status:F.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:F},p.iframes[f._key()]=I,F})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(zf,{type:zf},F=>{var Y;const Ue=null===(Y=null==F?void 0:F[0])||void 0===Y?void 0:Y[zf];void 0!==Ue&&p(!!Ue),Fe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Vc(v){return ka.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return rr()||Pr()||Sn()}};class qf{constructor(f){this.factorId=f}_process(f,p,I){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,I);case"signin":return this._finalizeSignIn(f,p.credential);default:return ae("unexpected MultiFactorSessionType")}}}class th extends qf{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new th(f)}_finalizeEnroll(f,p,I){return function Ft(v,f){return Ye(v,"POST","/v2/accounts/mfaEnrollment:finalize",qe(v,f))}(f,{idToken:p,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function w(v,f){return Ye(v,"POST","/v2/accounts/mfaSignIn:finalize",qe(v,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yf=(()=>{class v{constructor(){}static assertion(p){return th._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var al="@firebase/auth";class Hc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,u.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(I=>{f((null==I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);p&&(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Va(){return window}(0,Q.Pz)("authIdTokenMaxAge"),function Kf(v){(0,J._registerComponent)(new pe.wA("auth",(f,{options:p})=>{const I=f.getProvider("app").getImmediate(),F=f.getProvider("heartbeat"),Y=f.getProvider("app-check-internal"),{apiKey:Ue,authDomain:ct}=I.options;re(Ue&&!Ue.includes(":"),"invalid-api-key",{appName:I.name});const Mt={apiKey:Ue,authDomain:ct,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_i(v)},hn=new kn(I,F,Y,Mt);return function gt(v,f){const p=(null==f?void 0:f.persistence)||[],I=(Array.isArray(p)?p:[p]).map(Gt);null!=f&&f.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(I,null==f?void 0:f.popupRedirectResolver)}(hn,p),hn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,I)=>{f.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new pe.wA("auth-internal",f=>{const p=pr(f.getProvider("auth").getImmediate());return new Hc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(al,"1.5.1",function Vl(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,J.registerVersion)(al,"1.5.1","esm2017")}("Browser");function zc(){return zc=(0,u.Z)(function*(v,f,p){var I;const{BuildInfo:F}=Va();Ke(f.sessionId,"AuthEvent did not contain a session ID");const Y=yield function Qf(v){return _a.apply(this,arguments)}(f.sessionId),Ue={};return Sn()?Ue.ibi=F.packageName:Xe()?Ue.apn=F.packageName:Fe(v,"operation-not-supported-in-this-environment"),F.displayName&&(Ue.appDisplayName=F.displayName),Ue.sessionId=Y,No(v,p,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,Ue)}),zc.apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(v){const{BuildInfo:f}=Va(),p={};Sn()?p.iosBundleId=f.packageName:Xe()?p.androidPackageName=f.packageName:Fe(v,"operation-not-supported-in-this-environment"),yield Oa(v,p)})).apply(this,arguments)}function ll(){return(ll=(0,u.Z)(function*(v,f,p){const{cordova:I}=Va();let F=()=>{};try{yield new Promise((Y,Ue)=>{let ct=null;function Mt(){var wn;Y();const vi=null===(wn=I.plugins.browsertab)||void 0===wn?void 0:wn.close;"function"==typeof vi&&vi(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function hn(){ct||(ct=window.setTimeout(()=>{Ue(Oe(v,"redirect-cancelled-by-user"))},2e3))}function Mn(){"visible"===(null==document?void 0:document.visibilityState)&&hn()}f.addPassiveListener(Mt),document.addEventListener("resume",hn,!1),Xe()&&document.addEventListener("visibilitychange",Mn,!1),F=()=>{f.removePassiveListener(Mt),document.removeEventListener("resume",hn,!1),document.removeEventListener("visibilitychange",Mn,!1),ct&&window.clearTimeout(ct)}})}finally{F()}})).apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(v){const f=function Xf(v){if(Ke(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),p=new Uint8Array(f);for(let I=0;I<v.length;I++)p[I]=v.charCodeAt(I);return p}(v),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(F=>F.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Gc extends Ls{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function Ul(v){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,u.Z)(function*(v){const f=yield $a()._get(ih(v));return f&&(yield $a()._remove(ih(v))),f})).apply(this,arguments)}function Vg(){const v=[];for(let p=0;p<20;p++){const I=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return v.join("")}function $a(){return Gt(ku)}function ih(v){return ur("authEvent",v.config.apiKey,v.name)}function Wu(v){if(null==v||!v.includes("?"))return{};const[f,...p]=v.split("?");return(0,Q.zd)(p.join("?"))}const Wc=class ep{constructor(){this._redirectPersistence=xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$u,this._overrideRedirectResult=Gr}_initialize(f){var p=this;return(0,u.Z)(function*(){const I=f._key();let F=p.eventManagers.get(I);return F||(F=new Gc(f),p.eventManagers.set(I,F),p.attachCallbackListeners(f,F)),F})()}_openPopup(f){Fe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,I,F){var Y=this;return(0,u.Z)(function*(){!function zu(v){var f,p,I,F,Y,Ue,ct,Mt,hn,Mn;const wn=Va();re("function"==typeof(null===(f=null==wn?void 0:wn.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof(null===(p=null==wn?void 0:wn.BuildInfo)||void 0===p?void 0:p.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(Y=null===(F=null===(I=null==wn?void 0:wn.cordova)||void 0===I?void 0:I.plugins)||void 0===F?void 0:F.browsertab)||void 0===Y?void 0:Y.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Mt=null===(ct=null===(Ue=null==wn?void 0:wn.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===ct?void 0:ct.browsertab)||void 0===Mt?void 0:Mt.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Mn=null===(hn=null==wn?void 0:wn.cordova)||void 0===hn?void 0:hn.InAppBrowser)||void 0===Mn?void 0:Mn.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Ue=yield Y._initialize(f);yield Ue.initialized(),Ue.resetRedirect(),function Qi(){qi.clear()}(),yield Y._originValidation(f);const ct=function Yo(v,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:Vg(),postBody:null,tenantId:v.tenantId,error:Oe(v,"no-auth-event")}}(f,I,F);yield function Jf(v,f){return $a()._set(ih(v),f)}(f,ct);const Mt=yield function io(v,f,p){return zc.apply(this,arguments)}(f,ct,p),hn=yield function Hu(v){const{cordova:f}=Va();return new Promise(p=>{f.plugins.browsertab.isAvailable(I=>{let F=null;I?f.plugins.browsertab.openUrl(v):F=f.InAppBrowser.open(v,function Cn(v=(0,Q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),p(F)})})}(Mt);return function Lg(v,f,p){return ll.apply(this,arguments)}(f,Ue,hn)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Zf(v){return Bl.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:I,handleOpenURL:F,BuildInfo:Y}=Va(),Ue=setTimeout((0,u.Z)(function*(){yield Ul(f),p.onEvent(mu())}),500),ct=function(){var Mn=(0,u.Z)(function*(wn){clearTimeout(Ue);const vi=yield Ul(f);let ko=null;vi&&null!=wn&&wn.url&&(ko=function Ds(v,f){var p,I;const F=function fr(v){const f=Wu(v),p=f.link?decodeURIComponent(f.link):void 0,I=Wu(p).link,F=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Wu(F).link||F||I||p||v}(f);if(F.includes("/__/auth/callback")){const Y=Wu(F),Ue=Y.firebaseError?function oh(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(Y.firebaseError)):null,ct=null===(I=null===(p=null==Ue?void 0:Ue.code)||void 0===p?void 0:p.split("auth/"))||void 0===I?void 0:I[1],Mt=ct?Oe(ct):null;return Mt?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:F,postBody:null}}return null}(vi,wn.url)),p.onEvent(ko||mu())});return function(vi){return Mn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,ct);const Mt=F,hn=`${Y.packageName.toLowerCase()}://`;Va().handleOpenURL=function(){var Mn=(0,u.Z)(function*(wn){if(wn.toLowerCase().startsWith(hn)&&ct({url:wn}),"function"==typeof Mt)try{Mt(wn)}catch(vi){console.error(vi)}});return function(wn){return Mn.apply(this,arguments)}}()}};function mu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Oe("no-auth-event")}}function Ko(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function ah(v=(0,Q.z$)()){return!("file:"!==Ko()&&"ionic:"!==Ko()&&"capacitor:"!==Ko()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function uh(){try{const v=self.localStorage,f=Ml();if(v)return v.setItem(f,"1"),v.removeItem(f),!function tp(v=(0,Q.z$)()){return function lh(){return(0,Q.w1)()&&11===(null==document?void 0:document.documentMode)}()||function na(v=(0,Q.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,Q.hl)()}catch{return Hl()&&(0,Q.hl)()}return!1}function Hl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qu(){return(function Ua(){return"http:"===Ko()||"https:"===Ko()}()||(0,Q.ru)()||ah())&&!function jl(){return(0,Q.b$)()||(0,Q.UG)()}()&&uh()&&!Hl()}function np(){return ah()&&typeof document<"u"}function zl(){return(zl=(0,u.Z)(function*(){return!!np()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const as={LOCAL:"local",NONE:"none",SESSION:"session"},vu=re,_u="persistence";function Zc(v){return ul.apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(v){yield v._initializationPromise;const f=Qc(),p=ur(_u,v.config.apiKey,v.name);f&&f.setItem(p,v._getPersistence())})).apply(this,arguments)}function Qc(){var v;try{return(null===(v=function Kc(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const ch=re;class Ji{constructor(){this.browserResolver=Gt(Wf),this.cordovaResolver=Gt(Wc),this.underlyingResolver=null,this._redirectPersistence=xs,this._completeRedirectFn=$u,this._overrideRedirectResult=Gr}_initialize(f){var p=this;return(0,u.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,I,F){var Y=this;return(0,u.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openPopup(f,p,I,F)})()}_openRedirect(f,p,I,F){var Y=this;return(0,u.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openRedirect(f,p,I,F)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return np()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ch(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const p=yield function mi(){return zl.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function ja(v){return v.unwrap()}function yu(v){return dl(v)}function dl(v){const{_tokenResponse:f}=v instanceof Q.ZR?v.customData:v;if(!f)return null;if(!(v instanceof Q.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return cu.credentialFromResult(v);const p=f.providerId;if(!p||p===je.PASSWORD)return null;let I;switch(p){case je.GOOGLE:I=or;break;case je.FACEBOOK:I=Aa;break;case je.GITHUB:I=ii;break;case je.TWITTER:I=ns;break;default:const{oauthIdToken:F,oauthAccessToken:Y,oauthTokenSecret:Ue,pendingToken:ct,nonce:Mt}=f;return Y||Ue||F||ct?ct?p.startsWith("saml.")?Ti._create(p,ct):Yi._fromParams({providerId:p,signInMethod:p,pendingToken:ct,idToken:F,accessToken:Y}):new Hi(p).credential({idToken:F,accessToken:Y,rawNonce:Mt}):null}return v instanceof Q.ZR?I.credentialFromError(v):I.credentialFromResult(v)}function ls(v,f){return f.catch(p=>{throw p instanceof Q.ZR&&function Xc(v,f){var p;const I=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==f?void 0:f.code))f.resolver=new Fr(v,function Is(v,f){var p;const I=(0,Q.m9)(v),F=f;return re(f.customData.operationType,I,"argument-error"),re(null===(p=F.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,I,"argument-error"),Ps._fromError(I,F)}(v,f));else if(I){const F=dl(f),Y=f;F&&(Y.credential=F,Y.tenantId=I.tenantId||void 0,Y.email=I.email||void 0,Y.phoneNumber=I.phoneNumber||void 0)}}(v,p),p}).then(p=>{const F=p.user;return{operationType:p.operationType,credential:yu(p),additionalUserInfo:wo(p),user:bo.getOrCreate(F)}})}function dh(v,f){return Si.apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(v,f){const p=yield f;return{verificationId:p.verificationId,confirm:I=>ls(v,p.confirm(I))}})).apply(this,arguments)}class Fr{constructor(f,p){this.resolver=p,this.auth=function ya(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ls(ja(this.auth),this.resolver.resolveSignIn(f))}}class bo{constructor(f){this._delegate=f,this.multiFactor=function Xa(v){const f=(0,Q.m9)(v);return Tn.has(f)||Tn.set(f,yn._fromUser(f)),Tn.get(f)}(f)}static getOrCreate(f){return bo.USER_MAP.has(f)||bo.USER_MAP.set(f,new bo(f)),bo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,u.Z)(function*(){return ls(p.auth,ti(p._delegate,f))})()}linkWithPhoneNumber(f,p){var I=this;return(0,u.Z)(function*(){return dh(I.auth,function Es(v,f,p){return Zs.apply(this,arguments)}(I._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,u.Z)(function*(){return ls(p.auth,function Vf(v,f,p){return rl.apply(this,arguments)}(p._delegate,f,Ji))})()}linkWithRedirect(f){var p=this;return(0,u.Z)(function*(){return yield Zc(pr(p.auth)),Vi(p._delegate,f,Ji)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,u.Z)(function*(){return ls(p.auth,ho(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return dh(this.auth,function Pc(v,f,p){return Pl.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return ls(this.auth,function Oc(v,f,p){return Nl.apply(this,arguments)}(this._delegate,f,Ji))}reauthenticateWithRedirect(f){var p=this;return(0,u.Z)(function*(){return yield Zc(pr(p.auth)),Xi(p._delegate,f,Ji)})()}sendEmailVerification(f){return function vs(v,f){return T.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,u.Z)(function*(){return yield function Do(v,f){return ps.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function jt(v,f){return dr((0,Q.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function Gn(v,f){return dr((0,Q.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Kd(v,f){return xc.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ke(v,f){return Ct.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function k(v,f,p){return Ce.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bo.USER_MAP=new WeakMap;const Gl=re;let Yu=(()=>{class v{constructor(p,I){if(this.app=p,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:F}=p.options;Gl(F,"invalid-api-key",{appName:p.name}),Gl(F,"invalid-api-key",{appName:p.name});const Y=typeof window<"u"?Ji:void 0;this._delegate=I.initialize({options:{persistence:hh(F,p.name),popupRedirectResolver:Y}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,I){!function Je(v,f,p){const I=pr(v);re(I._canInitEmulator,I,"emulator-config-failed"),re(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const F=!(null==p||!p.disableWarnings),Y=St(f),{host:Ue,port:ct}=function Nt(v){const f=St(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(I);if(F){const Y=F[1];return{host:Y,port:Vt(I.substr(Y.length+1))}}{const[Y,Ue]=I.split(":");return{host:Y,port:Vt(Ue)}}}(f);I.config.emulator={url:`${Y}//${Ue}${null===ct?"":`:${ct}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ue,port:ct,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function Pt(){function v(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,p,I)}applyActionCode(p){return function Ka(v,f){return fo.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ra(this._delegate,p)}confirmPasswordReset(p,I){return function ca(v,f,p){return is.apply(this,arguments)}(this._delegate,p,I)}createUserWithEmailAndPassword(p,I){var F=this;return(0,u.Z)(function*(){return ls(F._delegate,function wl(v,f,p){return Rs.apply(this,arguments)}(F._delegate,p,I))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Qa(v,f){return Ma.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Tc(v,f){const p=uo.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,u.Z)(function*(){Gl(qu(),p._delegate,"operation-not-supported-in-this-environment");const I=yield function Lc(v,f){return il.apply(this,arguments)}(p._delegate,Ji);return I?ls(p._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function qc(v,f){pr(v)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,I,F){const{next:Y,error:Ue,complete:ct}=Jc(p,I,F);return this._delegate.onAuthStateChanged(Y,Ue,ct)}onIdTokenChanged(p,I,F){const{next:Y,error:Ue,complete:ct}=Jc(p,I,F);return this._delegate.onIdTokenChanged(Y,Ue,ct)}sendSignInLinkToEmail(p,I){return function Cc(v,f,p){return su.apply(this,arguments)}(this._delegate,p,I)}sendPasswordResetEmail(p,I){return function Ki(v,f,p){return ci.apply(this,arguments)}(this._delegate,p,I||void 0)}setPersistence(p){var I=this;return(0,u.Z)(function*(){let F;switch(function rp(v,f){vu(Object.values(as).includes(f),v,"invalid-persistence-type"),(0,Q.b$)()?vu(f!==as.SESSION,v,"unsupported-persistence-type"):(0,Q.UG)()?vu(f===as.NONE,v,"unsupported-persistence-type"):Hl()?vu(f===as.NONE||f===as.LOCAL&&(0,Q.hl)(),v,"unsupported-persistence-type"):vu(f===as.NONE||uh(),v,"unsupported-persistence-type")}(I._delegate,p),p){case as.SESSION:F=xs;break;case as.LOCAL:F=(yield Gt(el)._isAvailable())?el:ku;break;case as.NONE:F=Vn;break;default:return Fe("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(F)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return ls(this._delegate,function Yt(v){return Nn.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return ls(this._delegate,Rn(this._delegate,p))}signInWithCustomToken(p){return ls(this._delegate,function zn(v,f){return Ss.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,I){return ls(this._delegate,function bl(v,f,p){return Rn((0,Q.m9)(v),As.credential(f,p)).catch(function(){var I=(0,u.Z)(function*(F){throw"auth/password-does-not-meet-requirements"===F.code&&si(v),F});return function(F){return I.apply(this,arguments)}}())}(this._delegate,p,I))}signInWithEmailLink(p,I){return ls(this._delegate,function au(v,f,p){return po.apply(this,arguments)}(this._delegate,p,I))}signInWithPhoneNumber(p,I){return dh(this._delegate,function Mc(v,f,p){return Ks.apply(this,arguments)}(this._delegate,p,I))}signInWithPopup(p){var I=this;return(0,u.Z)(function*(){return Gl(qu(),I._delegate,"operation-not-supported-in-this-environment"),ls(I._delegate,function $v(v,f,p){return Lf.apply(this,arguments)}(I._delegate,p,Ji))})()}signInWithRedirect(p){var I=this;return(0,u.Z)(function*(){return Gl(qu(),I._delegate,"operation-not-supported-in-this-environment"),yield Zc(I._delegate),Oo(I._delegate,p,Ji)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function da(v,f){return ha.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=as,v})();function Jc(v,f,p){let I=v;"function"!=typeof v&&({next:I,error:f,complete:p}=v);const F=I;return{next:Ue=>F(Ue&&bo.getOrCreate(Ue)),error:f,complete:p}}function hh(v,f){const p=function cl(v,f){const p=Qc();if(!p)return[];const I=ur(_u,v,f);switch(p.getItem(I)){case as.NONE:return[Vn];case as.LOCAL:return[el,xs];case as.SESSION:return[xs];default:return[]}}(v,f);if(typeof self<"u"&&!p.includes(el)&&p.push(el),typeof window<"u")for(const I of[ku,xs])p.includes(I)||p.push(I);return p.includes(Vn)||p.push(Vn),p}class fh{constructor(){this.providerId="phone",this._delegate=new cu(ja(U.Z.auth()))}static credential(f,p){return cu.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}fh.PHONE_SIGN_IN_METHOD=cu.PHONE_SIGN_IN_METHOD,fh.PROVIDER_ID=cu.PROVIDER_ID;const $g=re;class ph{constructor(f,p,I=U.Z.app()){var F;$g(null===(F=I.options)||void 0===F?void 0:F.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Ys(I.auth(),f,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Zu(v){v.INTERNAL.registerComponent(new pe.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new Yu(p,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:As,FacebookAuthProvider:Aa,GithubAuthProvider:ii,GoogleAuthProvider:or,OAuthProvider:Hi,SAMLAuthProvider:ts,PhoneAuthProvider:fh,PhoneMultiFactorGenerator:Yf,RecaptchaVerifier:ph,TwitterAuthProvider:ns,Auth:Yu,AuthCredential:Qt,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.5.1")}(U.Z)},5861:(Wt,et,N)=>{"use strict";function u(Q,J,Me,se,pe,We,je){try{var Ie=Q[We](je),ce=Ie.value}catch(Ne){return void Me(Ne)}Ie.done?J(ce):Promise.resolve(ce).then(se,pe)}function U(Q){return function(){var J=this,Me=arguments;return new Promise(function(se,pe){var We=Q.apply(J,Me);function je(ce){u(We,se,pe,je,Ie,"next",ce)}function Ie(ce){u(We,se,pe,je,Ie,"throw",ce)}je(void 0)})}}N.d(et,{Z:()=>U})},1180:(Wt,et,N)=>{"use strict";function u(Me){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(se){return typeof se}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se})(Me)}function J(Me,se,pe){return(se=function Q(Me){var se=function U(Me,se){if("object"!==u(Me)||null===Me)return Me;var pe=Me[Symbol.toPrimitive];if(void 0!==pe){var We=pe.call(Me,se||"default");if("object"!==u(We))return We;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===se?String:Number)(Me)}(Me,"string");return"symbol"===u(se)?se:String(se)}(se))in Me?Object.defineProperty(Me,se,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Me[se]=pe,Me}N.d(et,{Z:()=>J})},7582:(Wt,et,N)=>{"use strict";function J(Ae,ue){var be={};for(var ve in Ae)Object.prototype.hasOwnProperty.call(Ae,ve)&&ue.indexOf(ve)<0&&(be[ve]=Ae[ve]);if(null!=Ae&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(ve=Object.getOwnPropertySymbols(Ae);qe<ve.length;qe++)ue.indexOf(ve[qe])<0&&Object.prototype.propertyIsEnumerable.call(Ae,ve[qe])&&(be[ve[qe]]=Ae[ve[qe]])}return be}function Me(Ae,ue,be,ve){var Et,qe=arguments.length,Ye=qe<3?ue:null===ve?ve=Object.getOwnPropertyDescriptor(ue,be):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ye=Reflect.decorate(Ae,ue,be,ve);else for(var Dt=Ae.length-1;Dt>=0;Dt--)(Et=Ae[Dt])&&(Ye=(qe<3?Et(Ye):qe>3?Et(ue,be,Ye):Et(ue,be))||Ye);return qe>3&&Ye&&Object.defineProperty(ue,be,Ye),Ye}function Ne(Ae,ue,be,ve){return new(be||(be=Promise))(function(Ye,Et){function Dt(Ht){try{lt(ve.next(Ht))}catch(Dn){Et(Dn)}}function bt(Ht){try{lt(ve.throw(Ht))}catch(Dn){Et(Dn)}}function lt(Ht){Ht.done?Ye(Ht.value):function qe(Ye){return Ye instanceof be?Ye:new be(function(Et){Et(Ye)})}(Ht.value).then(Dt,bt)}lt((ve=ve.apply(Ae,ue||[])).next())})}function le(Ae){return this instanceof le?(this.v=Ae,this):new le(Ae)}function Fe(Ae,ue,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,ve=be.apply(Ae,ue||[]),Ye=[];return qe={},Et("next"),Et("throw"),Et("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function Et(pt){ve[pt]&&(qe[pt]=function(at){return new Promise(function(it,It){Ye.push([pt,at,it,It])>1||Dt(pt,at)})})}function Dt(pt,at){try{!function bt(pt){pt.value instanceof le?Promise.resolve(pt.value.v).then(lt,Ht):Dn(Ye[0][2],pt)}(ve[pt](at))}catch(it){Dn(Ye[0][3],it)}}function lt(pt){Dt("next",pt)}function Ht(pt){Dt("throw",pt)}function Dn(pt,at){pt(at),Ye.shift(),Ye.length&&Dt(Ye[0][0],Ye[0][1])}}function we(Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ue=Ae[Symbol.asyncIterator];return ue?ue.call(Ae):(Ae=function nt(Ae){var ue="function"==typeof Symbol&&Symbol.iterator,be=ue&&Ae[ue],ve=0;if(be)return be.call(Ae);if(Ae&&"number"==typeof Ae.length)return{next:function(){return Ae&&ve>=Ae.length&&(Ae=void 0),{value:Ae&&Ae[ve++],done:!Ae}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ae),be={},ve("next"),ve("throw"),ve("return"),be[Symbol.asyncIterator]=function(){return this},be);function ve(Ye){be[Ye]=Ae[Ye]&&function(Et){return new Promise(function(Dt,bt){!function qe(Ye,Et,Dt,bt){Promise.resolve(bt).then(function(lt){Ye({value:lt,done:Dt})},Et)}(Dt,bt,(Et=Ae[Ye](Et)).done,Et.value)})}}}N.d(et,{FC:()=>Fe,KL:()=>we,_T:()=>J,gn:()=>Me,mG:()=>Ne,qq:()=>le}),"function"==typeof SuppressedError&&SuppressedError}},Wt=>{Wt(Wt.s=6162)}]);